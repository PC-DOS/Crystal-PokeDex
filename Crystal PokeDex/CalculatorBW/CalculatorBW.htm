<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!-- 
This program has been written by Hercules G. Papatheodorou a.k.a Arty2, webmaster of www.legendarypokemon.net
You can contact the author via email: legendarypokemon {at} gmail {dot} com or AIM: LPArty2

Please pardon the code mess that follows since it's always a work in progress :]
Be my guest if you think you can improve one of the following algorithms; I am not a programmer by profession.
I tried to provide subtle documentation here and there; the complex parts are at least covered.
Source is uncompressed, for educational (?) purposes.


The latest version this program can be always found at http://www.legendarypokemon.net/javacalc.html 
-->
<title>个体值与能力值计算器 - 神奇宝贝部落格</title>
<meta name="Author" content="Hercules Papatheodorou" />
<meta name="keywords" content="Pokemon, IVs, IV, Calculator Individual, Values, Stats, Stat, Hidden Power" />
<meta name="description" content="This IV Calculator / Stat Calculator / Hidden Power Calculator aims to help Pokemon trainers calculate the attributes of their Pokemon." />
<link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFFJREFUOMu1kjEOACAIA/ng/f87Lo4WimgTo4M9G0vEWexlCbG3hDiPE5A81E5DcVeaEJ9KBcAAxFdABsFtBSOJVV0KYAq46Zuno2xNl2tsmxeYhhbdfJzuqAAAAABJRU5ErkJggg==" />
<style title="default" media="all" type="text/css">
body {
	background: #b5bdb9;
	margin: 0;
	padding: 0;
	text-align: center;
}
#calculator * { /* global styles */
	font: 12px Verdana, Geneva, Kalimati, sans-serif;
	-moz-border-radius: 3px;
	-webkit-border-radius: 3px; -webkit-background-clip: padding-box !important;
	border-radius: 3px;
	border-color: inherit;
	line-height: 14px;
	margin: 0;
	padding: 0;
}
#calculator {
	background: #b5bdb9;
	border-bottom: 1px dotted; /* remove this when including */
	border-color: #838986; /* universal border color */
	color: #3e4340;
	padding-top: 15px;
	text-align: center;
	text-shadow: #b5bdb9 1px 1px 0px;
	text-shadow: rgba(255, 255, 255, 0.5) 1px 1px 0px;
}
#calculator ::-moz-selection { background:#e4287c; color:#fff; }
#calculator ::selection { background:#e4287c; color:#fff; }
#calculator strong { font-weight: bold !important; }
#calculator em { font-style: italic !important; }
#calculator img { border: none; }
#calculator input, #calculator select {
	background-color: #fff;
	border: 1px solid;
	border-color: #737b76; /* universal input color */
	color: #000;
	padding: 1px;
	text-align: right;
	text-shadow: none;
	-moz-transition: border-color 0.2s ease-in-out;
	-webkit-transition: border-color 0.2s ease-in-out;
	-o-transition: border-color 0.2s ease-in-out;
	transition: border-color 0.2s ease-in-out;
}
#calculator select {
	height: 18px;
	text-align: left;
	width: 100%;
}
#calculator optgroup { 
	font-weight: bold;
	margin: 4px 0 0 0;
}
#calculator option { padding: 0 0 0 4px; }
#calculator #pot1 { height: auto; }
#calculator input:focus, #calculator select:focus {
	outline: 3px double #e4287c;
	border-color: #fff;
	-moz-border-radius: 0 !important;
	-webkit-border-radius: 0 !important;
	border-radius: 0 !important;
	position: relative;
	text-decoration: none;
}
#calculator .radio {
	-moz-border-radius: 10px !important;
	-webkit-border-radius: 10px !important;
	border-radius: 10px !important;
}
#calculator a {
	color: inherit;
	font-style: italic;
	text-decoration: none;
}
#calculator table {
	border-collapse: collapse;
	border-spacing: 0;
	table-layout: fixed;
	width: 100%;
}
#calculator td {
	padding: 3px;
	text-align: center;
	}
#calculator dt, #calculator #documentation h3 {
	font-weight: bold !important;
	text-align: left;
}
#calculator p, #calculator dd {
	text-align: left;
	margin: 3px 0 3px 15px !important;
}
#calculator h1 {
	font: small-caps bold 15px sans-serif !important;
	margin: 3px;
}
#calculator h2 {
	border-bottom: 1px dotted;
	font: bold 12px Verdana, Geneva, Kalimati, sans-serif;
	text-align: left;
	text-transform: uppercase;
}
#calculator h3 {
	border-bottom: 1px dotted;
	font: small-caps bold 12px Verdana, Geneva, Kalimati, sans-serif;
}
#calculator #documentation h3 { margin: 5px 0 0 0; }
#calculator #documentation h2 { margin: 10px 0 3px 0; }
#calculator h4 {
	font: bold 12px Arial, sans-serif;
	text-align: right !important;
}
#calculator #head td { vertical-align: middle; }
#calculator #documentation td { padding: 0 5px !important; }
#calculator #documentation a { text-shadow: 1px 1px 2px #3e4340; color: #fff; }
#calculator #documentation a:hover { color: #e4287c; }
#toggleinstructions, #togglehistory, #toggleinfo, .button, .btn { cursor: pointer; }
#status { cursor: text;	}
#controls {
	border-top: 2px dotted;
	border-color: inherit;
}
#bar {
	border-bottom: 2px solid;
	border-top: 1px dashed;
	border-color: inherit;
}
#nickname {
	background: none !important;
	color: #3e4340 !important;
	border-style: dotted !important;
}
#calculator .loading {
	background: url('data:image/png;base64,R0lGODlhDwAPAIABAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJGQABACwAAAAADwAPAAACGoyPqQGLzQx00c0q6aU47c+F4vaImheS5lEAACH5BAkZAAEALAAAAAAPAA8AAAIZjI+pAYv9nIwOzjutAbxrDFLLF24JeZZLAQAh+QQJGQABACwAAAAADwAPAAACGIyPqQGL/ZyMDs47rdGs4i1pYnhBZvlJBQAh+QQFGQABACwAAAAADwAPAAACGYyPqQGL/ZyMDs47gd7WdAxSyxd6CXmWSwEAOw==') 50% 100% no-repeat;
	display: inline-block;
	padding: 0 0 25px 0;
}
#calculator .button {
	background: #ced2d0 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAWCAYAAAABxvaqAAAAGUlEQVQY02P8////GUYg8YxkogFOMBBLAACNTUydrXmzbAAAAABJRU5ErkJggg==') 50% 50% repeat-x;
	border: 2px solid;
	color: #606762;
	font-size: 12px;
	font-weight: bold;
	height: 25px;
	text-align: center;
	text-shadow: 1px 1px 1px #fff;
	width: 100%;
}
#calculator .button:focus, #calculator .button:active {
	background-image: none;
	border-color: #e4287c;
}
#calculator input:disabled {
	background: none;
	border-width: 1px;
	border-style: dashed;
	box-shadow: none !important;
	text-shadow: none !important;
}
#calculator .button:hover { border-color: #e4287c; }
#calculator .btn { font-weight: bold !important; }
#calculator .block {
	border: 2px solid;
	border-color: inherit;
	background: #9aa7a0; /* primary color */
	margin: 0 auto 20px auto !important;
	width: 750px;
}
#calculator .primary {
	border-right: 2px solid;
	border-color: inherit;
	vertical-align: top;
	width: 57% !important;
}
#calculator .secondary {
	background: #8e9892; /* secondary color */
	border-color: inherit;
	vertical-align: top;
	}
#calculator .top { vertical-align: top !important; }
#calculator .left { text-align: left !important; }
#calculator .center {
	text-align: center !important;
	vertical-align: middle !important;
}
#calculator .right { 
	text-align: right !important;
	vertical-align: top !important;
	padding-right: 6px !important;
}
#calculator #tooltip {
	background: #eee;
	border-radius: 3px; -moz-border-radius: 3px; -webkit-border-radius: 3px; -webkit-background-clip: padding-box !important;
	box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); -moz-box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); -webkit-box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5);
	color: #777;
	display: none;
	font-size: 9px;
	margin: 0 30px;
	padding: 3px;
	text-align: left;
	text-shadow: none;
	position: absolute;
	z-index: 1000;
}
#calculator .error {
	color: #f00 !important;
	border-color: #f00 !important;
	font-weight: bold !important;
	text-shadow: rgba(0, 0, 0, 0.5) 1px 1px 1px !important;
}
#calculator .ok {
	color: #8d6 !important;
	font-weight: bold !important;
	text-shadow: rgba(0, 0, 0, 0.5) 1px 1px 1px !important;
}
#calculator .new {
	background: #eee;
	color: #000;
}

/* SPP Theme */
.spp { background: #383838 !important; }
.spp * { border-color: #404040 !important; text-shadow: none !important; }
.spp ::-moz-selection { background:#cb7 !important; color:#444 !important; }
.spp ::selection { background:#cb7 !important; color:#444 !important; }
.spp #documentation a { border-bottom: 1px solid #cb7 !important; }
.spp #documentation a:hover { color: #cb7 !important; }
.spp #bar, .spp #controls { border: none; }
.spp table { border-collapse: separate !important; border-spacing: 3px !important; }
.spp .block, .spp .primary, .spp #documentation .secondary { background: #404040 !important; border: none; color: #fff !important; }
.spp .secondary { background: #6f9a4c !important; color: #444; border-radius: 5px !important; }
.spp input, .spp select { background: #cb7 !important; border-color: #3b3b3b !important; color: #444 !important; }
.spp input:focus, .spp select:focus { outline: 3px solid #8d6 !important; border-color: #8d6 !important; -moz-border-radius: 0 !important; -webkit-border-radius: 0 !important; border-radius: 0 !important; text-decoration: none; position: relative; }
.spp .button:hover { border-color: #8d6 !important; color: #000 !important; }
.spp .button:disabled { background: none !important; }
.spp .new { background: #ba6 !important; }

/* isotope Theme */
.isotope { background: #4c7da2 !important; }
.isotope * { border-color: #f0f0f0 !important;	color: #2d2e2f !important; text-shadow: none !important; }
.isotope ::-moz-selection { color: #000 !important;	  background: #b6d796 !important; }
.isotope ::selection  { color: #000 !important;  background: #b6d796!important; }
.isotope #documentation a { color: #47a4fb !important; }
.isotope #documentation a:hover { color: #b5d594 !important; }
.isotope table { border-collapse: separate !important; border-spacing: 3px !important; }
.isotope .block { background: #f0f0f0 !important; border: 4px solid #f0f0f0 !important; border-radius: 3px; -moz-border-radius: 3px; -webkit-border-radius: 3px; box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); -moz-box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); -webkit-box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); }
.isotope .primary { background: #f0f0f0 !important; }
.isotope .secondary { background: #e9e9e9 !important; border: 2px solid #e9e9e9 !important; border-radius: 5px !important; -moz-border-radius: 4px; -webkit-border-radius: 4px; }
.isotope #bar { background: #b6d796 !important; border: 2px solid #aacd8b !important; border-radius: 5px !important; -moz-border-radius: 4px; -webkit-border-radius: 4px; }
.isotope input, .isotope select { border-color: #d6d6d6 !important; color: #000 !important; }
.isotope #controls { border: none !important; background: none !important;  }
.isotope .button { background: #dfdfdf !important; border-color: #888 !important; color: #555 !important; }
.isotope input:focus, .isotope select:focus { outline: 3px double #b5d594 !important; border-color: #47a4fb !important; -moz-border-radius: 0 !important; -webkit-border-radius: 0 !important; border-radius: 0 !important; text-decoration: none; position: relative; }
.isotope .button:hover { border-color: #47a4fb !important; color: #000 !important; }
.isotope input:disabled { background: none !important; }
.isotope h1, .isotope h2, .isotope h3 { border: none !important; font-family: Century Gothic, Andale Mono, Futura, sans-serif !important; }

/* Simplex Theme */
.simplex .ext { display: none; }
/* td { outline: 1px dotted red !important; }  *//* DEBUG */

</style>
<style media="print" type="text/css">
#calculator * {
	background: #fff;
	border: none !important;
	box-shadow: 0px 0px 0px #ffffff !important; -moz-box-shadow: 0px 0px 0px #ffffff !important; -webkit-box-shadow: 0px 0px 0px #ffffff !important;
	color: #000 !important;
	text-shadow: none !important;
	}
#calculator #head {
	border-bottom: 3px solid #000 !important;
	padding-bottom: 1em;
}
#calculator .block { width: 100%; }
#calculator #controls, #documentation, #btn-addeps, #times, $name, #charn { display: none; }
#calculator h2 { border-bottom: 1px solid #000 !important; }
</style>
<style type="text/css" id="thema">/* required for the "Colorize" functionality */</style>
</head>
<body> 
<div id="calculator"> <!-- Start here if you want to include this in your page -->
<script type="text/javascript">
<!--//--><![CDATA[//><!--
/* Generic functions */

function $() { // http://www.dustindiaz.com/top-ten-javascript/
	var elements = [];
	for (var i=0, j=arguments.length; i < j; i++) {
		var element = arguments[i];
		if (typeof element == 'string')
			element = document.getElementById(element);
		if (j == 1)
			return element;
		elements.push(element);
	}
	return elements;
}
function $c(classname, node) { //Get elements by class
	if(!node) node = document.getElementsByTagName('body')[0];
	var a = [];
	var re = new RegExp('\\b' + classname + '\\b');
	var els = node.getElementsByTagName("*");
	for(var i=0, j=els.length; i<j; i++)
		if(re.test(els[i].className))a.push(els[i]);
	return a;
}
function event_add(obj,type,fn) { // http://www.dustindiaz.com
	if (obj.addEventListener)	obj.addEventListener(type,fn,false );
	else if (obj.attachEvent) {
		obj["e"+type+fn] = fn;
		obj.attachEvent( "on"+type, function() { obj["e"+type+fn](); } );
	}
}
function event_del(obj,type,fn) { // http://www.dustindiaz.com
	if (obj.removeEventListener) obj.removeEventListener(type,fn,false);
	else if (obj.detachEvent) {
		obj.detachEvent( "on"+type, obj["e"+type+fn] );
		obj["e"+type+fn] = null;
	}
}
function cookie_create(name,value,days) {
	if (location.protocol == 'data:') { return null; } //prevents security errors
	if (days) {
		var date = new Date();
		date.setTime(date.getTime()+(days*24*60*60*1000));
		var expires = '; expires='+date.toGMTString();
	}
	else var expires = '';
	document.cookie = name+'='+value+expires+'; path=/';
}
function cookie_read(name) {
	if (location.protocol == 'data:') { return null; }
	var name = name+'=', ca = document.cookie.split(';');
	for(var i=0, j=ca.length;i < j;i++) {
		var c = ca[i];
		while (c.charAt(0)==' ') c = c.substring(1,c.length);
		if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
	}
	return null;
}
function toggle(el) {
	if ( el.style.display != 'none' ) { el.style.display = 'none'; }
	else { el.style.display = ''; }
}
function autocomplete(field,select,property,forcematch) { // <input/> -> <select>
	var f = false;
	for (var i=0, j=select.options.length; i < j; i++) {
		if (select.options[i][property].toUpperCase().indexOf(field.value.toUpperCase()) == 0) {
			f=true; break;
		}
	}
	if (forcematch && !f) {
		field.value = field.value.slice(0,field.value.length-1);
		autocomplete(field,select,property,forcematch);
		return false;
	}
	if (f) { select.selectedIndex = i; }
	else { select.selectedIndex = 0; }
}
function vv(e,min,max,evt,r)  {  //Field Value Validation (numeric only)
	if (r != undefined && $('act-'+r).checked == 0) { row_act(r); }
	if ($(e).title == '') {
		$(e).autocomplete = 'off';
		$(e).title = '('+min+' - '+max+') Use up/down arrow keys to increase/decrease.';
	}
	var r = $(e).id.split('-')[1], v = $(e).value;
	var k = window.event?event.keyCode:evt.keyCode; // alert(k); //DEBUG
	switch(k) {
		case 9: return false; break; //tab
		case 8: return false; break; //backspace
		case 46: return false; break; //delete
		case 13: calc_ivs((mode==2 && act>-1?act:0)); break; //enter
		case 38: //Up key, increase
			$(e).value = v<max?(1*v)+1:v;
		break;
		case 40: //Down key, decrease
			$(e).value = v>min?(1*v)-1:v;
		break;
		default:
			$(e).value = isNaN(v)?min:Math.min(v,max);
	}
}
function tooltips() { // inspired by http://qrayg.com/learn/code/qtip
	if (!$('tooltip')) { var e = el_add($('calculator'),'div',{className:'a',id:'tooltip'});
		event_add(document, "mousemove", function(evt) {
			var de = document.documentElement;
			$('tooltip').style.left = (document.all?((de && de.scrollLeft)?de.scrollLeft:document.body.scrollLeft)+window.event.clientX:evt.pageX)+'px';
			$('tooltip').style.top = (document.all?((de && de.scrollTop)?de.scrollTop:document.body.scrollTop)+window.event.clientY:evt.pageY)+'px';
		});
	}
	var elements = $c('tooltip');
	var  i=elements.length-1; do {
		var e = elements[i];
				if(e.title && !e.tooltip) {
					e.tooltip = e.title;
					e.title = ''; e.alt = ''; //prevent default behaviour
					event_add(e, "mouseover", function() { $('tooltip').innerHTML = this.tooltip; $('tooltip').style.display = 'block'; });
					event_add(e, "mouseout", function() { $('tooltip').innerHTML = ''; $('tooltip').style.display = 'none'; });
				}
	} while(i--);
}
function el_add(el,tag,attr,txt) { //Appends element - el_add(el,'div',{className:'a',id:'b'},'text');
	var i='',e=document.createElement(tag);
	if (attr) {
		for (i in attr) {
			e[i] = attr[i];
		}
	}
	e.innerHTML = txt || '';
	el.appendChild(e);
	return e;
}
function el_del(el) { //Removes all element children of el
	while (el.firstChild) {
		el.removeChild(el.firstChild);
	}
	return this;
}
function array_intersect(a, b) { //arrays must be sorted, a and b are destructed afterwards
	var r=[];
	while( a.length > 0 && b.length > 0 ) {
		if (a[0] < b[0] ){ a.shift(); }
		else if (a[0] > b[0] ){ b.shift(); }
		else {
			r.push(a.shift());
			b.shift();
		}
	}
	return r;
}
if (!Array.prototype.map) {
	Array.prototype.map = function(fn, thisObj) { // http://www.dustindiaz.com/basement/sugar-arrays.html
		var scope = thisObj || window;
		var a = [];
		for (var i=0, j=this.length; i < j; ++i) {
			a.push(fn.call(scope, this[i], i, this));
		}
		return a;
	};
}
if (!Array.prototype.indexOf) {
	Array.prototype.indexOf = function(el, start) { // http://www.dustindiaz.com/basement/sugar-arrays.html
		var start = start || 0;
		for (var i=0, j=this.length; i < j; ++i) { //rewrite using while do?
			if (this[i] === el ) {
				return i;
			}
		}
		return -1;
	};
}
Array.prototype.sum = function() {
	var sum=0,i=this.length-1; do {
		sum += this[i];
	} while(i--);
	return sum;
};
Array.prototype.sortnum = function() {
   return this.sort( function (a,b) { return a-b; } );
};
Array.prototype.style = function(p,v) {
	var i=this.length-1; do {
		this[i].style[p] = v;
	} while(i--);
};

/* Pokemon Data and retrieval functions */
//Pokemon Name:Number - email the author for a precompiled list of the names in other languages
pkmns="妙蛙种子:1|妙蛙草:2|妙蛙花:3|小火龙:4|火恐龙:5|喷火龙:6|杰尼龟:7|卡咪龟:8|水箭龟:9|绿毛虫:10|铁甲蛹:11|巴大蝴:12|独角虫:13|铁壳昆:14|大针蜂:15|波波:16|比比鸟:17|比雕:18|小拉达:19|拉达:20|烈雀:21|大嘴雀:22|阿柏蛇:23|阿柏怪:24|皮卡丘:25|雷丘:26|穿山鼠:27|穿山王:28|尼多兰:29|尼多娜:30|尼多后:31|尼多朗:32|尼多力诺:33|尼多王:34|皮皮:35|皮可西:36|六尾:37|九尾:38|胖丁:39|胖可丁:40|超音蝠:41|大嘴蝠:42|走路草:43|臭臭花:44|霸王花:45|派拉斯:46|派拉斯特:47|毛球:48|末入蛾:49|地鼠:50|三地鼠:51|喵喵:52|猫老大:53|可达鸭:54|哥达鸭:55|猴怪:56|火爆猴:57|卡蒂狗:58|风速狗:59|蚊香蝌蚪:60|蚊香蛙:61|快泳蛙:62|凯西:63|勇吉拉:64|胡地:65|腕力:66|豪力:67|怪力:68|喇叭芽:69|口呆花:70|大食花:71|玛瑙水母:72|毒刺水母:73|小拳石:74|隆隆石:75|隆隆岩:76|小火马:77|烈焰马:78|呆呆兽:79|呆河马:80|小磁怪:81|三合一磁怪:82|大葱鸭:83|嘟嘟:84|嘟嘟利:85|小海狮:86|白海狮:87|臭泥:88|臭臭泥:89|大舌贝:90|铁甲贝:91|鬼斯:92|鬼斯通:93|耿鬼:94|大岩蛇:95|素利普:96|素利拍:97|大钳蟹:98|巨钳蟹:99|雷电球:100|顽皮弹:101|蛋蛋:102|椰蛋树:103|可拉可拉:104|嘎拉嘎拉:105|沙瓦郎:106|艾比郎:107|大舌头:108|瓦斯弹:109|双弹瓦斯:110|铁甲犀牛:111|铁甲暴龙:112|吉利蛋:113|蔓藤怪:114|袋龙:115|墨海马:116|海刺龙:117|角金鱼:118|金鱼王:119|海星星:120|宝石海星:121|吸盘魔偶:122|飞天螳螂:123|迷唇姐:124|电击兽:125|鸭嘴火龙:126|大甲:127|肯泰罗:128|鲤鱼王:129|暴鲤龙:130|乘龙:131|百变怪:132|伊布:133|水精灵:134|雷精灵:135|火精灵:136|3D龙:137|菊石兽:138|多刺菊石兽:139|化石盔:140|镰刀盔:141|化石翼龙:142|卡比兽:143|急冻鸟:144|闪电鸟:145|火焰鸟:146|迷你龙:147|哈克龙:148|快龙:149|超梦:150|梦幻:151|菊草叶:152|月桂叶:153|大菊花:154|火球鼠:155|火岩鼠:156|火暴兽:157|小锯鳄:158|蓝鳄:159|大力鳄:160|尾立:161|大尾立:162|咕咕:163|猫头夜鹰:164|芭瓢虫:165|安瓢虫:166|线球:167|阿利多斯:168|叉字蝠:169|灯笼鱼:170|电灯怪:171|皮丘:172|皮宝宝:173|宝宝丁:174|波克比:175|波克基古:176|天然雀:177|天然鸟:178|咩利羊:179|绵绵:180|电龙:181|美丽花:182|玛力露:183|玛力露丽:184|胡说树:185|牛蛙君:186|毽子草:187|毽子花:188|毽子绵:189|长尾怪手:190|向日种子:191|向日花怪:192|阳阳玛:193|乌波:194|沼王:195|太阳精灵:196|月精灵:197|黑暗鸦:198|河马王:199|梦妖:200|未知图腾:201|果然翁:202|麒麟奇:203|榛果球:204|佛烈托斯:205|土龙弟弟:206|天蝎:207|大钢蛇:208|布卢:209|布卢皇:210|千针鱼:211|巨钳螳螂:212|壶壶:213|赫拉克罗斯:214|狃拉:215|熊宝宝:216|圈圈熊:217|熔岩虫:218|熔岩蜗牛:219|小山猪:220|长毛猪:221|太阳珊瑚:222|铁炮鱼:223|章鱼桶:224|信使鸟:225|巨翅飞鱼:226|盔甲鸟:227|戴鲁比:228|黑鲁加:229|刺龙王:230|小小象:231|顿甲:232|3D龙II:233|惊角鹿:234|图图犬:235|巴尔郎:236|柯波朗:237|迷唇娃:238|电击怪:239|小鸭嘴龙:240|大奶罐:241|幸福蛋:242|雷公:243|炎帝:244|水君:245|由基拉:246|沙基拉:247|班吉拉:248|洛奇亚:249|凤王:250|雪拉比:251|木守宫:252|森林蜥蜴:253|蜥蜴王:254|火稚鸡:255|力壮鸡:256|火焰鸡:257|水跃鱼:258|沼跃鱼:259|巨沼怪:260|土狼犬:261|大狼犬:262|蛇纹熊:263|直冲熊:264|刺尾虫:265|甲壳蛹:266|狩猎凤蝶:267|盾甲茧:268|毒粉蝶:269|莲叶童子:270|莲帽小童:271|乐天河童:272|橡实果:273|长鼻叶:274|狡猾天狗:275|傲骨燕:276|大王燕:277|长翅鸥:278|大嘴鸥:279|拉鲁拉丝:280|奇鲁莉安:281|沙奈朵:282|溜溜糖球:283|雨翅蛾:284|蘑蘑菇:285|斗笠菇:286|懒人翁:287|过动猿:288|请假王:289|土居忍士:290|铁面忍者:291|脱壳忍者:292|咕妞妞:293|吼爆弹:294|爆音怪:295|幕下力士:296|超力王:297|露力丽:298|朝北鼻:299|向尾喵:300|优雅猫:301|勾魂眼:302|大嘴娃:303|可可多拉:304|可多拉:305|波士可多拉:306|玛沙那:307|恰雷姆:308|落雷兽:309|雷电兽:310|正电拍拍:311|负电拍拍:312|电萤虫:313|甜甜萤:314|毒蔷薇:315|溶食兽:316|吞食兽:317|利牙鱼:318|巨牙鲨:319|吼吼鲸:320|吼鲸王:321|呆火驼:322|喷火驼:323|煤炭龟:324|跳跳猪:325|噗噗猪:326|晃晃斑:327|大颚蚁:328|超音波幼虫:329|沙漠蜻蜓:330|沙漠奈亚:331|梦歌奈亚:332|青绵鸟:333|七夕青鸟:334|猫鼬斩:335|饭匙蛇:336|月石:337|太阳岩:338|泥泥鳅:339|鲶鱼王:340|龙虾小兵:341|铁螯龙虾:342|天秤偶:343|念力土偶:344|触手百合:345|摇篮百合:346|太古羽虫:347|太古盔甲:348|笨笨鱼:349|美纳斯:350|漂浮泡泡（一般）:351|漂浮泡泡（太阳）:662|漂浮泡泡（雨水）:663|漂浮泡泡（雪云）:664|变隐龙:352|怨影娃娃:353|诅咒娃娃:354|夜骷颅:355|夜巨人:356|热带龙:357|风铃铃:358|阿勃梭鲁:359|小果然:360|雪童子:361|冰鬼护:362|海豹球:363|海魔狮:364|帝牙海狮:365|珍珠贝:366|猎斑鱼:367|樱花鱼:368|古空棘鱼:369|爱心鱼:370|宝贝龙:371|甲壳龙:372|暴蝾螈:373|铁哑铃:374|金属怪:375|巨金怪:376|雷吉洛克:377|雷吉艾斯:378|雷吉斯奇鲁:379|拉帝亚斯:380|拉帝欧斯:381|盖欧卡:382|固拉多:383|烈空坐:384|基拉祈:385|代欧奇希斯（全方位）:386|代欧奇希斯（攻击）:650|代欧奇希斯（防御）:651|代欧奇希斯（速攻）:652|草苗龟:387|树林龟:388|土台龟:389|小火焰猴:390|猛火猴:391|烈焰猴:392|波加曼:393|波皇子:394|帝王拿波:395|姆克儿:396|姆克鸟:397|姆克鹰:398|大牙狸:399|大尾狸:400|圆法师:401|音箱蟀:402|小猫怪:403|勒克猫:404|伦琴猫:405|含羞苞:406|罗丝雷朵:407|头盖龙:408|战槌龙:409|盾甲龙:410|护城龙:411|结草儿:412|结草贵妇（草木）:413|结草贵妇（沙土）:653|结草贵妇（垃圾）:654|绅士蛾:414|三蜜蜂:415|蜂后:416|帕奇利兹:417|泳气鼬:418|浮潜鼬:419|樱花宝:420|樱花儿:421|无壳海牛:422|海牛兽:423|双尾怪手:424|飘飘球:425|附和气球:426|卷卷耳:427|长耳兔:428|梦妖魔:429|乌鸦头头:430|魅力喵:431|东施喵:432|铃铛响:433|臭鼬噗:434|坦克臭鼬:435|铜镜怪:436|青铜钟:437|爱哭树:438|魔尼尼:439|好运蛋:440|聒噪鸟:441|花岩怪:442|圆陆鲨:443|尖牙陆鲨:444|烈咬陆鲨:445|小卡比兽:446|利欧路:447|路卡利欧:448|怪河马:449|河马兽:450|紫天蝎:451|龙王蝎:452|不良蛙:453|毒骷蛙:454|尖牙笼:455|萤光鱼:456|霓虹鱼:457|小球飞鱼:458|雪笠怪:459|暴雪王:460|玛狃拉:461|自爆磁怪:462|大舌舔:463|超铁暴龙:464|巨蔓藤:465|电击魔兽:466|鸭嘴焰龙:467|波克基斯:468|梅卡阳玛:469|叶精灵:470|冰精灵:471|天蝎王:472|象牙猪:473|3D龙Z:474|艾路雷朵:475|大朝北鼻:476|夜黑魔人:477|雪妖女:478|洛托姆（一般）:479|洛托姆（加热）:657|洛托姆（冲洗）:658|洛托姆（结霜）:659|洛托姆（旋转）:660|洛托姆（切割）:661|由克希:480|艾姆利多:481|亚克诺姆:482|帝牙卢卡:483|帕路奇犽:484|席多蓝恩:485|雷吉奇卡斯:486|骑拉帝纳（另类）:487|骑拉帝纳（起源）:656|克雷色利亚:488|霏欧纳:489|玛纳霏:490|达克莱伊:491|洁咪（陆地）:492|洁咪（天空）:655|阿尔宙斯:493|比克提尼:494|藤藤蛇:495|青藤蛇:496|君主蛇:497|暖暖猪:498|炒炒猪:499|炎武王:500|水水獭:501|双刃丸:502|大剑鬼:503|探探鼠:504|步哨鼠:505|小约克:506|哈约克:507|长毛狗:508|扒手猫:509|酷豹:510|花椰猴:511|花椰猿:512|爆香猴:513|爆香猿:514|冷水猴:515|冷水猿:516|食梦梦:517|梦梦蚀:518|豆豆鸽:519|波波鸽:520|轰隆雉鸡:521|斑斑马:522|雷电斑马:523|石丸子:524|地幔岩:525|庞岩怪:526|滚滚蝙蝠:527|心蝙蝠:528|螺钉地鼠:529|龙头地鼠:530|差不多娃娃:531|搬运小匠:532|铁骨土人:533|修缮老头:534|圆蝌蚪:535|蓝蟾蜍:536|蟾蜍王:537|投射鬼:538|打击鬼:539|虫宝包:540|宝包茧:541|保母虫:542|百足蜈蚣:543|车轮毬:544|蜈蚣王:545|木棉球:546|风妖精:547|百合根娃娃:548|裙儿小姐:549|勇士鲈鱼（红线）:550|勇士鲈鱼（蓝线）:665|黑眼鳄:551|混混鳄:552|流氓鳄:553|火红不倒翁:554|达摩狒狒（一般）:555|达摩狒狒（不倒翁）:666|街头沙铃:556|石居蟹:557|岩殿居蟹:558|滑头小子:559|头巾混混:560|象征鸟:561|哭哭面具:562|死神棺:563|原盖海龟:564|肋骨海龟:565|始祖小鸟:566|始祖大鸟:567|破破袋:568|灰尘山:569|索罗亚:570|索罗亚克:571|泡沫栗鼠:572|奇诺栗鼠:573|哥德宝宝:574|哥德小童:575|哥德小姐:576|单卵细胞球:577|双卵细胞球:578|人造细胞卵:579|鸭宝宝:580|首席天鹅:581|迷你冰:582|多多冰:583|双倍多多冰:584|四季鹿:585|芽吹鹿:586|导电飞鼠:587|盖盖虫:588|骑士蜗牛:589|宝贝球菇:590|暴露菇:591|轻飘飘:592|胖嘟嘟:593|保母曼波:594|电电虫:595|电蜘蛛:596|种子铁球:597|坚果哑铃:598|齿轮儿:599|齿轮组:600|齿轮怪:601|麻麻小鱼:602|麻麻鳗:603|麻麻鳗鱼王:604|小灰怪:605|大宇怪:606|烛光灵:607|灯火幽灵:608|水晶灯火灵:609|牙牙:610|斧牙龙:611|双斧战龙:612|喷嚏熊:613|冻原熊:614|几何雪花:615|小嘴蜗:616|敏捷虫:617|泥巴鱼:618|功夫鼬:619|师父鼬:620|赤面龙:621|泥偶小人:622|泥偶巨人:623|驹刀小兵:624|劈斩司令:625|爆爆头水牛:626|毛头小鹰:627|勇士鹰:628|秃鹰小子:629|秃鹰娜:630|食蚁炉:631|铁蚁:632|单首龙:633|双头龙:634|三头龙:635|燃烧虫:636|火神虫:637|勾帕路翁:638|代拉基翁:639|毕力吉翁:640|龙卷云（化身）:641|龙卷云（灵兽）:671|雷电云（化身）:642|雷电云（灵兽）:672|雷希拉姆:643|捷克罗姆:644|土地云（化身）:645|土地云（灵兽）:673|酋雷姆:646|焰白酋雷姆:668|暗黑酋雷姆:669|凯路迪欧（普通）:647|凯路迪欧（觉悟）:670|美洛耶塔（歌声）:648|美洛耶塔（舞步）:667|ゲノセクト:649";

//Compressed Pokemon data: HP/ATK/DEF/SP.ATK/SP.DEF/SPD/Type1/Type2/Egg1/Egg2/EPs2/EPs1 - national order + forms
pkmn='      ??    2ρρ**21()B )"~^00"1()B !0λM4401()B :οHE"&*AA)9D }D}0*0AA)9D)XhXν84A-)9 (Uz*&DE$$)-J p^0*0}$$)-J#RM487X$$)- 12>6GG2::(() &G.KK>::((P "2&00,:-(( :/6>GG&:(((D 2K&KK6:(((P *0/205:(((<#/2/66ζ -##D ^".&&w -##O M05,,@ -##Y >ζ6K6d  !!D .θ"&,κ  !!O /">ττ, -##D *3*SS4 -##O 6"U/Α.((!9# "8m*R0((!9< 6.>&/3;;!:O "3.304;;!:Y &58G>/##!!J 54C2.*##!!P .ιH//q(()!) ,~{..ζ((++- 3λt58Q(#++( Δg///&(()!# Sdg..*(()!< θfe858(#)!1 ,2z"*6  ::- =,v83"  ::( ηq/&**AA!!D vQ5θ44AA!!D#W2G2KG  ::- T,25&2  ::( /26>/.(-##D 50,*53(-##O 2&.5*>1(BB )"*,85/1(BB -50843&1(BB (6,.2.K:1(B# "=0"0>:1(Bφ ".&/.2:((( #,*"353:(((D)A.K62=##!!DJ60&&,b##!!OJ/26//3  !!D *,"**W  !!O &Hz*&.$$-! )0λX=08$$-! -/0662,))!!# *7"",=))!!< .,2,&"AA!!# 3C040=AA!!< /&///3$$--D ***&&3$$--O 38=,3,$)--z KG+7.399<< )/6>b,799<< -.&2ε8b99<< (,0&666))<<# 04,&"2))<<< 3s0*8.))<<1 &56,>/1(BB# *3&82.1(BB< 07*4",1(BB1 //6&4,$(?? #0,*0b4$(?? </04>>G!#AAJ .=W226!#AAP 0Cs.*2!#AAz &8.**3AA!!D *4,007AA!!O 3**//+$9)-) =5C40>$9)-P K6,=.2;<AA )&"=b,,;<AA -H*.}~" -#!# 682665 -### "C,""4 -##< *2.2,2$$-! #3,0,=,$+-! <00&/&K(($$) 775*4&(($$! >*42K/$$??J &=%82,$+??P >6>460B($$ )2&2W.=B($$ -"*"s5CB($$ (62|>2,!#AAJ "z2E3`99<< #8v,vW{99<< <>73KK&$$??# .sW&&5$$??< />&..4;;AAD "&,00T;;AAO "/0"2/19BBJ ==8c*.19BB -&&=/&6##))J "0C&02##))P &bj6Ct))<<< &7R6CQ))<< <3.5"5>  ))- /*="26(($$J *3b8,"(($$P 08=>>K#!)!J 7sb22/#!)!< ά!!67&  ::- *.W4/"11BBJ 7=0/03  ))- >/,,K"$$-9 ).*==28$$-9J)2{"6&^$$11# 0f**0_$$11< >2.,.8$$??D "5848W$9??O /2*4b399<< <,C0.07:-((# *&6W==+9<< -*Mg=87;;<<O *=g48ΜAA<< -*c4.,8::((< 54=/,C  !!_ GA.+G0$$19D =cR"4θ$-19< s808="$+)-- zzzzzz  ;;) ..&2*.  !! #s*"C=*$$!!- **"C=s;;!!O *s"=C*AA!!< *",85/  AA )6/43.6!$-?J ,"cW,.!$-?P >03.2.!$-?J "W7*,0!$-?< 07*"5s!-##O |C**C>  ))- 384=c8+-++ 1338c34;-++ (343c83A-++ (qD2&&&JJ-9# Sh*,,,JJ-9< @Ω=440J--91 αC3Ξ3s99++ (44444499++( 2ρ*ρ*211)B #"~0^0"11)BJ#0λ4M4011)BJ<οHE"&*AA!!D }D}0*0AA!!D)XhXν84AA!! (&*DUzE$$)-# *00p^}$$)-G 874RMX$$)-φ 6Δω62G  !!# 8QD2.3  !!O ">>uζ& -##) 4&&QΡ, -##- /G>/0.:-(( #.6&.C8:-(( </"///>:(((# ,3,""/:(((< 830,0s(-##Y 5ηηζζ{$;11) c}}QQ{$;11- G/+66";;++D &KΤ2.+  ++ #3>+/G+  ++) 6G*/*G  ++ #./807/ -#: </&2,2,9-## )*5,=,=9-##D).//*26;;)! ),..0"2;;)! -355W3.;;)! (50834&11BB 1,G&G&/$$-:- 4&0&0&$$-:( ,4W>*>!!AAP 35534,$$-- 166/6.&1-:B #.2&2*01-:BO 5.,.8C1-:BY .,./.8  !!D >>>>>>11BB )55.78>11BB -**252=:-((D .22KK+$#-!) =88**6$#-!- **"s=C99!! -=*C"s*ii!! <"8`8`@i-##D =504C>$9)- 1"""888BB$$ #zdzdzz99++#)όΚ}Κ}Κ99$$- ,0*3*8 9!! -&*366+::((J 53T""/:<((P 4,,**2  !!) *576*8#-((J 58Φ.*><#AAP "0&//>  !:# 3b5""2  !:< *=5..8$(11# ,s4.0*:<((< GAΧAΧ!:!((J#0c5/=8:)((< .=.65Wi+!!D "0&&&/  !!# 3s555.  !!< ///,/GAA$$ )&&b00>A!$$P &&/>>&+#!!# 440""&+#!!! ..8*86$!-?J#6*6*6*$$-1 )575752$$-1#)2.2*25+--!D */,0T,$--- <*0T/,,<-##P 2">0&*iA!! )53&C0=iA!! -5====8$J-9#!3""///##!!) 3bb""&##!!G 8037="  AA -v=~8*8  !!# .G6G25  !!D 666666))++# &==6C,))<< <2>+8**+9++ )2^γ*.=;;++D 25γ,.MAA++D =07/,4  !!P ήAA5ε.  ::( 385W4W;;++O)WW8354AA++? 45W3W8$$++J<&D&2&q!#))# ,h,*,σ!#))< 4ΩC=4S!i))1 α3s3ΞC9-++ 1αs3CΞ3A-++ 144444491++( /26*.,11)9D &*28*=11)9O ,8*78b11)9Y 2"/,&2AA!! )"8"8".A)!!#)0b,C,0A)!!1 &,&&&/$$)-# ,8,",&$#)-< 4C383"$#)-1 6.6>>6ii!!# ,3,"",ii!!< η>q>q"  !!D X,S&S4  !!O 226G>G::(() &6.KK+::((P ",&3&*:-(( (&6.KK+::((P "&,&3*:((( 1/>>/&>$1-B #"&&",&$1-B <0,,34,$1-B 1//&>>>11!BJ ,,/"/"1i!B< 34"3"01i!B1 /.>>>8 -##D "8"&&c -##O />>.>8$--#D "&48,*$--#P ΤKK26/99$$ )η66*.&99$$ -_**cW099$$ (/>P&H*:$-(D ,"~0λ":--( !"/"/"611:B) "s0"",1):B< """66>  !!) 000..3  !!O L|4=*4  !!( τ23>>/:#((J S32&&|:-((O )32>>/:BAA- DσμσμΤ  )!) hwEwEz  )!- Ε@^@^_  )!( d">G>K))<<) έb"/"&))<<- &G/G/G  ++) >2ε23>!!AAJ &2266&  !:D ,**..,  !:* &55**&iB<<G &88..&<<!:G &,4//><!))J "3T&&/<!))P ,C%""&<!))z >/./.")9<<D ""5"50)9<<O /2/*/*;;!!D ,5"7"7;;!!O "&/85=;;::D "/&58=;;::D *v.ι58::(<D *ι.v58::(<D &"240*1(:B -,EjEj/(($$) 4vMvM.(($$- 23G*G*$i11# ,b/=/=$i11< s,6,6"$$!1) k3232"$$!1- ""/*26A#!! ),4,75/A#!!#),8T8,GAA!!P "K6,0"99!! #02*3C099!! <""""""  !< )24222A##((# &,&&&,#J((_ 040004#J((ί &8/8/611B< ),W"W".1iB<#)2/"/5& -#9 #5,3,70J-#9 <vW"""3  !!< v4"4"*((!9#),.*=8,!9AA -,=8.*,!9AA< &zEΔq"$#11) CXvQw"$#11- E0*&66$$-?# ^b83..$i-?< //./,.#9AA #",7,b5#9AA <[qeStμ!1?? #ZθκθlE!1?? <2=&/&5!:??# 5c4,02!:??< G+GA.0$$-9D ="R4cθ$$-9 <,,,,,,  :$) "3,"b/  !! #U56^Κ2BB$$# DW*M^*BB$$< G/3>3KBB$$ #/,s"sKBB$$J#δ_Mdtσ1-)B- *&,=0*99$$ !*s"5"5ii!!< =μzμzμ99++) &&&&&&++:A) 000000++:A- ,/&.&K+$-!) 3",5,2+$-!- C03=3*+$-!( 6D8o.P$$--J .Ε7Ζ5H$$--G .h7Η5H$$-- -43s2*.$!-1i E>./*κ$$11D 25"/>&JJ99# *=4"&&JJ99P =ε0C04J-991 /.06"><9AAJ "54.0&<9AAP 0εs=3,<9AAz 04Φ&4&!!++z 0&44Φ&++++ 105L5L&<<++P#003CsCJ9++ 1030sCCJ9++ (443LT3$$++ (4LT433##++1 7L3L3=J-++<)444444<9++( &L&L&L99++_)._D2.τ11)B# 5V8.*u11)BG =ν758ζ1#)Bφ U}U}USAA!<D DXHXHθA)!<D)QΕwΕwFA)!<_)jσjSζ/$$-! )D[_θQ&$$-! -hZχβN"$<-! (/.>>>" -##D .5&//0 -##O 8b,&&4 -##1 p2/6/τ  -!) R8"."w $-!< γKqKqK::((J e8σ.σ*::((< 2*ω/ω2;;!!# "8ρ"ρ";;!!< 0bR=R,;;!!1 />6&,.1(++ )",.c731(:B ({c/>>}!!))# κΛ"*&}!!))< >`Σ`χ>!<))J "HΨις>!<))P /Β2Β2u::(( #"p8R7u:1(( <,Ζ&Ζ&[:-((#)>>`>`,:-((D ,0Υ0Υ/:-((J#"2,23=;;!:D .*6">8$$-!D 87.8&W$$-!O 262~j611:B ),",tX811:B -Qzzg~ω$$-$) βM_fλο$#-$- 54["[W  !!O 3&ω"U,B-$$) L0U3Α0B-$$- .[UUζ8  !<D *QhΑΡ7  !<O """777BB$$ !4cH7Hwi-##< ρ.``γ8  !!D wλDDpx  !!O 2>&*&299++ )^^ιqqo(i!!D rΜ{wSh(i!!- gφZφZμ<9AAJ {VξRξΚ<9AAJ#&0=A2A!!++J GK2,3"99++ #4!!+*>  ++) Q*2f`@ -### &fFfF6Bi$$J#},2/2`J#)9# _3*&.λJ#)9< Fs=08ΥJ#)91 ε8//8!  ++) /,/6/"))++# ,C,W,3)<!<#)_dXη`P##!!J FxΣ_dι##!!P /&3>.*(:(?J ,3C"5=(i(?P zS/S/&()<<# Mα*Z*8()<<< o4d3dΔ11BB< ρρζρS[$$11D mmQmZ@$$11O 2G&"b&$-++ #"~&~"/1+)B# 3f5f8"1+)B#),b*28ci+!!_ ,,Ws3";<AA (C8=0=&  ))( WTs../#!)!1 44cC&&11BBP 5π{=8=;;<<1 5={c=MAA<< (8&=bW0 -#: :ZQZξζ=:-((< *Cs"*=11!!P *"Cs=*++!! -5=c25=#-((P Cs0,"0+#!!1 80,ε53  AA (_c**W09)$$1 ".I5L/!<AAJ<24ε*ε2BB$$J<,0,0,C+B:AO &&e=e@;B$$D)55s5s=99++P#07777099++#!5c,c,W99++<)4bbL43<J++ (3b4Lb4$J++ (@3αsαeA<++ (C|C0C4  ++1 L4b4b3BJ++( b,b5s899++ 1000000$$-:) 444444$$-:( ,33ε3cii++D-44444411++( bbbbbb  ++( 4444449A++( 22.2.^11!BD ""5"5M11!BO 55=5=Π11!BY *^2222AA!!) 3Μ.,..A)!!< Cπ*4**A)!!1 ..2^22$$!! )55"M""$$!! -=48F,,$$!! (2.ο6ο`  !!# "8m"me  !!< 2"2K2.  !!# *0*6*"  !!< 843230  !!1 q&γ&γ[ii!!D Dχ&χ&αii!!O &jzjzD11!!D 5n^n^N11!!O &jzjzDAA!!D 5n^n^NAA!!O &jzjzD$$!!D 5n^n^N$$!!O QK2{.φ99!!) ξ.8l=Β99!!- &.&u>E -### ~e~&`* -##< 070*.Μ -##1 2"P&PQ;;!!D 54^0^ξ;;!!O .58KK+!!AAJ ,77&/G!!AAG 8εs",K!!AA1 .2E.Ed9-!#D {g.e.Η9-!#O "8/>2_##!!# Cε"&*χ#<!!< r"Z"Z&  ::- 50.K66))<<# 878/&/))<<< 7T=.*2))<<1 &&/&/D$$--D 5*.*.m$#--- 78585o$#--( b48>82))<<- 5c5>58))<<< 2j,/"`:1((J .^3&0`:1((P 5r0,,f:1((1 >2p>οg:(((J /.δ/Rι:(((P "3V.mx:(((Y /Θ"γ&[11B:D "{8e5ξ11B:O 26&,&>11BB ),"5C5311BB -,f*0.n$$11O &d666*#i!!# "λ222o#i!!< =Γ,*,f#i!!1 ,32+2&AA!!# 7T.>.=AA!!< 5Z{α{"11BB -&*866.:!(AJ ,=c*52:!(AP &5,6,zi)!9# *3W2W}i)!9J#d}0r0κ9-## -η>8.*>BBA$J }&I=7>BBA$P ΑXrj2Ν$!-?J oFΟM*P$!-?P .x2o2,!-#?# 5T*x*C!-#?< &&~/~*((AAD 0=λ"λ5((AA< /*/0/*ii!! )"7"b"7ii!! -.&///5  !!D 5="*"W  !!O 2>&.*299<< #"2,58.99<< <,.==C*99<< 12>/7&G99$$ )*/&c">99$$ -C*5c8>99$$ (~U&U&.$--#) 5t^t^n$--#O u&&*"U++AA )σ**05p++AA -w=8C=R++AA (""&/&5 1!!D 04,",= 1!!< .5"5"r;-!!O &52/2"::((# ,ε7"7G:<((< m.2..+1(BB) Η8,80>1(BB- ./&*8/$B$$ #4",87"$B$$ <Λ50/2*$$-1- &ι&g&*:;((D ,e"κ"F:;((O U&@φZA1<BAJ oΖΙΑξG1<BAP /.,2"><<AAJ "0=,8&<<AAP "4W,83<<AAz 6./2/";;$$D *8,5,/;;$$< 8W070&;;$$1 ...8.>99<< )555c=/99<< -&>.*.GBA$$ )"/"=".BA$$ -".3I30BA$$ (Δt">/gJJ)9# [Γ,/&{JJ)9< Qυ3",κJJ)91 .,/"//++!!# =C0,0&++!!< ,&>=ε7++AA <&/8/*K::((J 0,/4"I::((O ν[hθδP#;-$- 28&.&*))!<# *c"="7))!<< eb3"3zJJ9)< po&6&6#BAA# Vψ0.0.#BAA< 28,//"i<<<# *c4",,i<<<< =C=/=.  !!< ,M&γ&" -### 4π5g50 -##< ,.52*"i-##J C*7.=0i-## -8κ[7[*AA!! -}νxzzν:<((P H*&2&ηiJ99# d8,*,}iJ99< f73c3niJ99 (.8.&.":A((# 8"*ε74:A(( (@3]3dF<)++z @]3d3F!)++1 @3d3]F1)++ 1RW,c0β--++1 RW,c0β;-++1 4b4Lb3JA++ (4Lbb43J;++1 Vc3W0N#-++ (cs3s3=J+++!)@d3]3F$)++ (4eeOO3 9++D!wb=b=δ:<++_)&%G%GL99++<)&,|,|399++P#&=3=3%99++Y "R7p8u:#((P "m=m=u:<((J#4r5b5y1-++Y Lb4b43BJ++( &*l7lZ;A$$D)&*l7lZ;$$$D)&*l7lZ;+$$D)&*l7lZ;-$$D)&*l7lZ;1$$D),,,,,,AA:$) ,,,,,,$$:$) ,,,,,,++:$) ,f*0.n$$11O 7>7T7.A9!! -4O3eeO )++h cb3k4=J+++ (ck4b3=J+++1 @d3]3F$)++ (R40C3a--++Y R7,I0N;-++ (VI370@#-++1 ';
//Decompression Arrays
pk='00,05,3c,04,0b,32,03,01,41,0f,46,02,37,28,50,0c,2d,5a,64,4b,23,69,55,0e,06,0d,08,5f,1e,09,5b,0a,07,6e,40,2b,6c,14,34,91,10,19,96,53,65,80,20,4c,4f,3d,8c,2c,59,73,4e,c0,56,42,81,3f,44,2a,79,78,7d,48,4d,5c,39,54,11,35,aa,6b,45,62,4a,3b,29,67,82,57,24,49,47,70,7f,30,43,a0,3a,3e,b4,6a,6f,25,63,87,38,26,51,2f,61,52,17,6d,74,27,7b,31,33,1f,93,18,58,7c,22,36,1d,75,2e,68,5e,72,1b,83,21,a5,5d,16,9a,85,71,60,76,1c,66,c8,e6,a8,86,8a,fa,90,ff,84,be'; pk=pk.split(',');
mn=' !"#$&()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~%αβγδεζηθικλμνξοπρστυφχψωΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩςάέήίόύώϊϋΐ'; mn=mn.split(''); base=[];

function get_base(p,s) { //Returns values from pkmn
	if(!base[p]) {
		base[p]=pkmn.slice(12*p,12*p+12).split('').map(function(v,i){v=pk[mn.indexOf(v)];if(i<10)v=parseInt(v,16);return v});
		base[p].push(('000000000000000'+parseInt(base[p].pop()+''+base[p].pop(),16).toString(2)).split('').reverse().join('').substr(0,12).split('').reverse().join('').match(new RegExp(".{1,"+2+"}", "g")).reverse().map(function (v) { return parseInt(v,2); }));
		base[p][10].push(base[p][10].splice(3,1)[0]);
	}
	return base[p][s];
}

//Add a custom Pokemon by modifying and un-commenting the following lines.
//Format is HP,ATK,DEF,SP.ATK,SP.DEF,SPD,Type1,Type2,Egg1,Egg2,[HP EPs,ATK EPs,DEF EPs,SP.ATK EPs,SP.DEF EPs,SPD EPs]
/*
pkmns = pkmns+'|Bulbasaur:1';
base[1] = [45, 49, 49, 65, 65, 45, 12, 3, 1, 7,[0, 0, 0, 1, 0, 0]];
*/

//ATK/DEF/SP.ATK/SP.DEF/SPD / Bashful 1, Docile 2, Hardy 3, Serious 4, Quirky 5, Bold 6, Modest 7, Calm 8, Timid 9, Lonely 10, Mild 11, Gentle 12, Hasty 13, Adamant 14, Impish 15, Careful 16, Jolly 17, Naughty 18, Lax 19, Rash 20, Naive 21, Brave 22, Relaxed 23, Quiet 24, Sassy 25
natures = [[],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[0.9,1.1,1,1,1],[0.9,1,1.1,1,1],[0.9,1,1,1.1,1],[0.9,1,1,1,1.1],[1.1,0.9,1,1,1],[1,0.9,1.1,1,1],[1,0.9,1,1.1,1],[1,0.9,1,1,1.1],[1.1,1,0.9,1,1],[1,1.1,0.9,1,1],[1,1,0.9,1.1,1],[1,1,0.9,1,1.1],[1.1,1,1,0.9,1],[1,1.1,1,0.9,1],[1,1,1.1,0.9,1],[1,1,1,0.9,1.1],[1.1,1,1,1,0.9],[1,1.1,1,1,0.9],[1,1,1.1,1,0.9],[1,1,1,1.1,0.9]];
natures[-1] = [1,1,1,1,1]; //neutral
natures['max'] = [1.1,1.1,1.1,1.1,1.1]; //all max
natures['min'] = [0.9,0.9,0.9,0.9,0.9]; //all max

//Type affinity no fg fl po gu ro bu gh st ?? fi wa gs el ps ic dr da
damage = [[1,1,1,1,1,0.5,1,0,0.5,1,1,1,1,1,1,1,1,1],[2,1,0.5,0.5,1,2,0.5,0,2,1,1,1,1,1,0.5,2,1,2],[1,2,1,1,1,0.5,2,1,0.5,1,1,1,2,0.5,1,1,1,1],[1,1,1,0.5,0.5,0.5,1,0.5,0,1,1,1,2,1,1,1,1,1],[1,1,0,2,1,2,0.5,1,2,1,2,1,0.5,2,1,1,1,1],[1,0.5,2,1,0.5,1,2,1,0.5,1,2,1,1,1,1,2,1,1],[1,0.5,0.5,0.5,1,1,1,0.5,0.5,1,0.5,1,2,1,2,1,1,2],[0,1,1,1,1,1,1,2,0.5,1,1,1,1,1,2,1,1,0.5],[1,1,1,1,1,2,1,1,0.5,1,0.5,0.5,1,0.5,1,2,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,0.5,2,1,2,1,0.5,0.5,2,1,1,2,0.5,1],[1,1,1,1,2,2,1,1,1,1,2,0.5,0.5,1,1,1,0.5,1],[1,1,0.5,0.5,2,2,0.5,1,0.5,1,0.5,2,0.5,1,1,1,0.5,1],[1,1,2,1,0,1,1,1,1,1,1,2,0.5,0.5,1,1,0.5,1],[1,2,1,2,1,1,1,1,0.5,1,1,1,1,1,0.5,1,1,0],[1,1,2,1,2,1,1,1,0.5,1,0.5,0.5,2,1,1,0.5,2,1],[1,1,1,1,1,1,1,1,0.5,1,1,1,1,1,1,1,2,1],[1,0.5,1,1,1,1,1,2,0.5,1,1,1,1,1,2,1,1,0.5]]

ivr = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]

stats = ['HP','攻击','防御','特攻','特防','速度','&mdash;'];
types = ['一般','格斗','飞行','毒','地上','岩石','虫','幽灵','钢','???','炎','水','草','电','超能力','冰','龙','恶'];
eggs = ['???','怪兽','水中1','虫','飞行','地面','妖精','植物','人型','水中3','矿物','不定形','水中2','百变怪','龙','未发现'];
typeshp = ['格斗','飞行','毒','地上','岩石','虫','幽灵','钢','炎','水','草','电','超能力','冰','龙','恶'];
hps = ['0,1,2,3,4','5,6,7,8','9,10,11,12','13,14,15,16','17,18,19,20','21,22,23,24,25','26,27,28,29','30,31,32,33','34,35,36,37','38,39,40,41','42,43,44,45,46','47,48,49,50','51,52,53,54','55,56,57,58','59,60,61,62','63']; //possible Hidden Power "types"


/* UI specific functions */
function get_text(id,n) { //Returns text associated with n value from id (<select/>)
	var a = $(id).value;
	$(id).value = n;
	var b = $(id).options[$(id).selectedIndex].text;
	$(id).value = a;
	return b;
}

pkmns=pkmns.split('|');
//pkmns.sort(); //Sort names alphabetically
function pop_species() { //Populates the species list
	var a = document.createDocumentFragment();
	var i=0,j=pkmns.length; do {
		var b = pkmns[i].split(':');
		var c = el_add(a,"option",{value:b[1]},b[0]);
		if ((b[1]>493 && b[1]<=649) || b[1]>664) { c.className = 'new'; }
		i++;
	} while (i<j);
	$('species').appendChild(a);
}

online = 0; //global- online status
function online_check() { //Checks if there's an internet connection alive
	if (navigator.onLine) {
		if (online == 1) { return true; }
		online = 1;
		add_sprite();
		//Version Check - DO NOT change the following
		$('version').innerHTML = '<a href="http://www.legendarypokemon.net/javacalc.html"><img id="verchk" alt=""/></a><span class="error">Ø</span> <strong><a href="http://www.legendarypokemon.net/javacalc.html">点击这里</a>使用计算器的最新版本（英文）。</strong>';
		var verchk = $('verchk');
		verchk.src = 'http://www.legendarypokemon.net/javacalc_9.8.2.png?p='+ Math.floor(Math.random( )*100);
		verchk.onload = function() { if (verchk.width==1) { $('version').innerHTML = '<span class="ok">OK！</span>这是最新版本的计算器！'; } }
	}
	else { $('version').innerHTML =  '<span class="error">Ø</span> 网络故障！不能检查更新。'; }
}

themes = ['isotope','spp','simplex']; //define your own themes here, feel free to edit this
themed = themes.indexOf('isotope'); //global- set default theme here
theme = (!cookie_read('theme')?themed:cookie_read('theme'));
function toggle_theme() {
	$('calculator').className = themes[theme];
	display_status('主题切换到了 "'+themes[theme]+'"。<br/><span class="btn" onclick="toggle_simple();">简洁模式？</span>');	
	if (theme == -1 && (navigator.userAgent.indexOf('MSIE ') == -1)) {
		display_status('主题切换到了“Colorize”。<br/>您可以选择色彩、饱和度和亮度：');	
		var c = cookie_read('color') || 'd';
		if (c.charAt(0) == ',') {
			c = c.split(',');
			thema(c[1],c[2],c[3]);
		}
		$('status').innerHTML += '<br/><br/><input id="hue" type="range" min="0" max="360" value="150" />';
		$('status').innerHTML += '<br/><input id="sat" type="range" min="0" max="100" value="4" />';
		$('status').innerHTML += '<br/><input id="lit" type="range" min="0" max="100" value="74" />';
		event_add($('hue'),"change", function () {  thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('sat'),"change", function () {  thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('lit'),"change", function () {  thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('hue'),"keyup", function (evt) {  vv(this.id,0,360,evt); thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('sat'),"keyup", function (evt) {  vv(this.id,0,100,evt); thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('lit'),"keyup", function (evt) {  vv(this.id,0,100,evt); thema($('hue').value,$('sat').value,$('lit').value); });
	}
	cookie_create('theme',theme,60);
	theme = (theme == themes.length?-1:theme*1+1);
}
function toggle_simple() {
	$('calculator').className += ' simplex';
	toggle($('info')); toggle($('instructions'));
	display_status('一切素净了！<br/>（刷新恢复到默认）');
	}
function thema(h,s,l) { //Color theming, does not work in IE8
	var bg = 'hsl('+h+', '+s+'%, '+l+'%)';
	var bd = 'hsl('+h+', '+s+'%, '+(l-20)+'%)';
	var bd2 = 'hsl('+h+', '+s+'%, '+(l-26)+'%)';
	var bp = 'hsl('+h+', '+s+'%, '+(l-9)+'%)';
	var bs = 'hsl('+h+', '+s+'%, '+(l-16)+'%)';
	$('thema').innerHTML = '#calculator{background:'+bg+';border-color:'+bd+';}#calculator .primary{background:'+bp+';}#calculator .secondary{background:'+bs+';}#calculator input,#calculator select,#calculator .button{border-color:'+bd2+';color:'+bd2+';}#calculator .button {background-color:'+bg+';}'; //dibs on this method
	cookie_create('color',','+h+','+s+','+l,60);
}
eps = 1; //global- EPs enabled
function toggle_evs() { //Enable/Disable EV functions
	switch(eps) {
		case 1:
			eps = 0; $('btn-evs').value = '努力：关';
		break;
		case 0:
			eps = 1; $('btn-evs').value = '努力：开';
		break;			
	}
	var j = $c('eps').slice();
	var i = j.length-1; do {
		toggle(j[i]);
	} while(i--);
	display_base();
}
mode = 0; //global- Single enabled
function toggle_mode(m) { //Single/Team/Row mode
	var m = m || mode;
	switch(m) {
		case 0:
			mode = 1;
			$('btn-mode').value = '队伍计算';
			$('mode0').style.display='none';
			$('mode1').style.display='';
			$('btn-hp').disabled = 'disabled';
			$('btn-stats').disabled = 'disabled';
			$('btn-eps').disabled = 'disabled';
			display_status('切换到了 <strong>队伍计算</strong> 模式。');
			break;
		case 1:
			mode = 2;
			$('btn-mode').value = '单行计算';
			$('mode0').style.display='';
			$('mode1').style.display='none';
			$('btn-hp').disabled = '';
			$('btn-stats').disabled = '';
			display_status('切换到了 <strong>单行计算</strong> 模式。');
			break;
		default:
			mode = 0;
			$('btn-mode').value = '神奇宝贝';
			$('mode0').style.display='';
			$('mode1').style.display='none';
			$('btn-hp').disabled = '';
			$('btn-stats').disabled = '';
			$('btn-eps').disabled = ''; 
			display_status('切换到了 <strong>神奇宝贝</strong> 模式。');
	}	
	display_sprite();
	display_effectiveness($('number-'+(act>-1?act:0)).value);
}
/* Save & Load functionality */

function code_load(c) { //Loads a SaveCode
	//var c = prompt('Input SaveCode or [Cancel] to load from URL:') || location.search;
	//var c = location.search;
	display_status('<span class="loading">读入保存代码...</span>');
	if (c == undefined || c.indexOf('?sc=') == -1) { display_status('无法读入保存代码。'); return false; }
	c = c.replace(/%20/gi,'').substring(1).split('!');
	if (c.length < 2) { display_status('无法读入保存代码。'); return false; }
	var  i = c.length-1; do { c[i] = c[i].split(','); } while(i--);
	//Check if SaveCodeVersion is compatible (may change with Black/White)
	if (c[0][0] > 0) { display_status('保存代码不兼容。'); return false; }
	//Check if SaveCodeUI is compatible, and restore UI
	if (c[0][1] == 0) {
		if (c[0][2] == 0 && eps == 1) { toggle_evs(); }
		var i = c[0][3]*1;
		if(mode!=i) { if(mode==2) { mode = 0; } toggle_mode(i-1); }
		display_status('<span class="loading">读入保存代码...</span>');
		mode = i;
		$('nickname').value = unescape(c[0][4]);
	}
	//Load user entered IVs
	$('statlvl').value = c[1][6]; $('hiddent').innerHTML=''; $('hiddenp').innerHTML='';
	var  i=5; do {
		ivs[i] = ivr.slice();
		$('med'+i+'-0').value = c[1][i]*1;
		$('spr'+i+'-0').innerHTML = '';
		$('plv'+i+'-0').innerHTML = '';
		$('stats'+i).innerHTML = '';
	} while(i--);
	//Load row data
	$('statrows').style.display = 'none';
	el_del($('statrows'));act=-1;actp=0;rn=1;rs=[0];ivs=[];
	
	var i=2, r=i-2; l=c.length;
	if (l > 2) {
		do {
			if (r!=0) { row_add(0,c[i][1]); };
			$('level-'+r).value = c[i][1]*1; $('number-'+r).value = c[i][0]*1; $('nat-'+r).value = c[i][14]*1; $('char-'+r).value = c[i][15]; $('hpt-'+r).value = c[i][16]*1;
			$('pot0-'+r).value = c[i][17]*1; $('pot1-'+r).value = c[i][18]; $('pot2-'+r).value = c[i][19]*1;
			var  j=5; do {
				$('stat'+j+'-'+r).value = c[i][j+2]*1;
				$('ep'+j+'-'+r).value = c[i][j+8]*1;
			} while(j--);
			display_eps();
			i++; r++;
		} while (i<l);
	}
	//Restore focus and set active row
	$('act-0').checked = 1; act=0; actp=0; row_sync();
	$('statrows').style.display = '';
	
	display_effectiveness($('number-'+act).value);
	tooltips();
	display_status('成功读入保存代码！');
	$('btn-ivs').focus();
}
function code_save() { //Displays a SaveCode
	var c = '?sc=0,0,'; //Data/SaveCode version
	c += eps+',';
	c += mode+',';
	c += escape($('nickname').value)+'!';
	c += $('med0-0').value+',';
	c += $('med1-0').value+',';
	c += $('med2-0').value+',';
	c += $('med3-0').value+',';
	c += $('med4-0').value+',';
	c += $('med5-0').value+',';
	c += $('statlvl').value+''; 
	var s = $c('statrow'), i = (mode==2?0:s.length), r = (mode==2 && act>-1?act:0); s.reverse();
	do {
		c += '!'+$('number-'+r).value+','+$('level-'+r).value+','+$('stat0-'+r).value+','+$('stat1-'+r).value+','+$('stat2-'+r).value+','+$('stat3-'+r).value+','+$('stat4-'+r).value+','+$('stat5-'+r).value+','+$('ep0-'+r).value+','+$('ep1-'+r).value+','+$('ep2-'+r).value+','+$('ep3-'+r).value+','+$('ep4-'+r).value+','+$('ep5-'+r).value+','+$('nat-'+r).value+','+$('char-'+r).value+','+$('hpt-'+r).value+','+$('pot0-'+r).value+','+$('pot1-'+r).value+','+$('pot2-'+r).value;
		if (i > 0) { r = s[i-1].id.split('-')[1]; }
	} while (i--);
	display_status('<a href="'+c+'">保存代码</a> (<a href="http://j.mp/http://wiki.52poke.com/calc/'+c+'">缩短</a>):<br/>'+c.split('!').join('! '));
	$('contact').href = 'http://www.legendarypokemon.net/contact?topic=IV%20Calculator&text='+escape('My browser is: '+navigator.userAgent+'\nMy savecode is: '+c+'\n\n');
	//window.location += c; //Uncomment for old behaviour
}

/* Row functions */

act = 0; actp = 0; //global- active row; previous active row
rn = 1; rs = [0]; //global- new row counter; array of current rows
error = 1; //global- error flag, default: true
function row_act(n) { //Makes n row active
	if ($('act-'+n).value == act) {
		actp = act;
		act = -1;
		$('act-'+n).checked = 0;
		$('name').focus();
		$('ept').style.visibility = '';
		if (online == 1) { display_sprite(); }
		display_effectiveness($('number').value);
		return false;
	}
	act = n;
	actp = 0;
	$('act-'+n).checked = 1;
	/*$('number-'+n).readonly = 'readonly'; $('number-'+n).disabled = ''; //look into this
	$('number-'+actp).readonly = ''; $('number-'+actp).disabled = 'disabled';*/
	$('ept').style.visibility = 'hidden';
	row_sync();
}
function row_sync() { //Syncs the display with active row
	var n=act, t=$('pot1-'+n).value.split('.');
	$('number').value = $('number-'+n).value;
	$('species').value = $('number').value;
	$('nat').value = $('nat-'+n).value;
	$('char').value = $('char-'+n).value;
	$('hpt').value = $('hpt-'+n).value;
	$('pot0').value = $('pot0-'+n).value;
	$('pot2').value = $('pot2-'+n).value;
	var i=5; do {
		$('pot1').options[(i+1)].selected = (t.indexOf(i.toString()) > -1?true:false);
	} while(i--);
	display_effectiveness($('number-'+n).value);
	display_base();
	display_nature();
	display_char();
	if (mode == 2) { calc_ivs(n); }
	if (online == 1) { display_sprite(); }
}
function row_edit() { //Makes active row editable
	var n=act, t=[];
	if (n == -1) { return false; }
	$('number-'+n).value = $('species').value;
	$('nat-'+n).value = $('nat').value;
	$('char-'+n).value = $('char').value;
	$('hpt-'+n).value = $('hpt').value;
	$('pot0-'+n).value = $('pot0').value;
	var i=6; do {
		if ($('pot1').options[i].selected && t.indexOf(i-1) == -1 ) { t.push(i-1); }
	} while(i--);
	$('pot1-'+n).value = t.join('.');
	$('pot2-'+n).value = $('pot2').value;
}
function row_up(r) { //Moves row upwards
	var t=[], n=[], p=rs[rs.indexOf(r)-1];
	if ($('act-'+p).checked == 0) { row_act(p); }
	else if (online == 1) { display_sprite(); }
	p = $('level-'+p,'stat0-'+p,'stat1-'+p,'stat2-'+p,'stat3-'+p,'stat4-'+p,'stat5-'+p,'number-'+p,'nat-'+p,'char-'+p,'hpt-'+p,'pot0-'+p,'pot1-'+p,'pot2-'+p,'ep0-'+p,'ep1-'+p,'ep2-'+p,'ep3-'+p,'ep4-'+p,'ep5-'+p);
	n = $('level-'+r,'stat0-'+r,'stat1-'+r,'stat2-'+r,'stat3-'+r,'stat4-'+r,'stat5-'+r,'number-'+r,'nat-'+r,'char-'+r,'hpt-'+r,'pot0-'+r,'pot1-'+r,'pot2-'+r,'ep0-'+r,'ep1-'+r,'ep2-'+r,'ep3-'+r,'ep4-'+r,'ep5-'+r);
	p.map(function(v){t.push(v.value); });
	n.map(function(v,i){p[i].value=v.value;v.value=t[i];});
	display_eps(r);
	row_sync();
}
function row_del(n) { //Removes n row
	rs.splice(rs.indexOf(n),1);
	if (act==n) { row_act(0); }
	$('statrows').removeChild($('statrow-'+n));
	$('statrows').removeChild($('eprow-'+n));
	row_sync();
}
function row_add(n,lvl) { //Appends a new row
	if (n > 0) { rn = (rs.length == 1?1:n); }
	if (!lvl && mode==0) {
		var lvl = $('level-'+rs[(rs.length-1)]).value;
		lvl = (lvl<100?lvl*1+1:100);
	}
	lvl = lvl || 100;
	var ep = [0,0,0,0,0,0];
	if (mode==0) {
		var p = rs[(rs.length-1)];
		var ep = [$('ep0-'+p).value,$('ep1-'+p).value,$('ep2-'+p).value,$('ep3-'+p).value,$('ep4-'+p).value,$('ep5-'+p).value,];
	}	
	rs.push(rn);
	var a = document.createDocumentFragment();
	var b = el_add(a,"tr",{id:'statrow-'+rn,className:'statrow'});
		el_add(b,"td",'','<input type="radio" class="radio tooltip" name="act" id="act-'+rn+'" value="'+rn+'" onclick="row_act('+rn+');" title="（取消）选择这一行。"/> <span class="btn tooltip" onclick="row_del('+rn+');" title="删除这一行。">-</span>');
		el_add(b,"td",'','<input type="text"  id="level-'+rn+'" name="level-'+rn+'" maxlength="3" size="3" value="'+lvl+'" onkeyup="vv(this.id,0,100,event,'+rn+');" />');
		el_add(b,"td",{},'<span class="btn tooltip" onclick="row_up('+rn+');" title="向上移动这一行。">^</span>');
		var i = 0; do {
			el_add(b,"td",'','<input type="text" name="stat'+i+'-'+rn+'" id="stat'+i+'-'+rn+'" maxlength="3" size="3" value="" onkeyup="vv(this.id,0,999,event,'+rn+');" />');
			i++;
		} while (i<6);
		el_add(b,"td",'','<input type="text" disabled="disabled" id="number-'+rn+'" name="number-'+rn+'" maxlength="3" size="3" value="'+$('number').value+'" /><input type="hidden" id="nat-'+rn+'" name="nat-'+rn+'" value="'+$('nat').value+'" /><input type="hidden" id="char-'+rn+'" name="char-'+rn+'" value="'+$('char').value+'" /><input type="hidden" id="hpt-'+rn+'" name="hpt-'+rn+'" value="'+$('hpt').value+'" /><input type="hidden" id="pot0-'+rn+'" name="pot0-'+rn+'" value="'+$('pot0').value+'" /><input type="hidden" id="pot1-'+rn+'" name="pot1-'+rn+'" value="'+$('pot1').value+'" /><input type="hidden" id="pot2-'+rn+'" name="pot2-'+rn+'" value="'+$('pot2').value+'" />');
	var c = el_add(a,"tr",{id:'eprow-'+rn,className:'eps'});
		if (eps == 0) { c.style.display = 'none'; }
		el_add(c,"td");
		el_add(c,"td",{id:'eps-'+rn,value:ep.sum()});
		el_add(c,"td");
		var i = 0; do {
			el_add(c,"td",'','<input type="text" name="ep'+i+'-'+rn+'" id="ep'+i+'-'+rn+'" maxlength="3" size="3" value="'+ep[i]+'" onkeyup="vv(this.id,0,255,event,'+rn+');display_eps();" />');
			i++;
		} while (i<6);
		el_add(c,"td");
	$('statrows').appendChild(a);
	row_act(rn);
	rn++;
}
function add_eps() { //adds provided effort points to Pokemon's Effort Values
	function validate_eps(ep1,ep2) { //EPs limits | ep1 = current EPs | ep2 = EPs to be added
		var n = actp;
		var eps = 1*$('eps-'+n).innerHTML;
		epsum = 1*ep1 + 1*ep2;
		epsum2 = 1*ep1 + (510-1*eps);
		if (ep2 < 0 && epsum > 0) { return epsum; }
		if (eps < 510 && ep1 < 255) {
			ep3 = (eps + 1*ep2 < 510)?((epsum < 255)?epsum:255):((epsum2 < 255)?epsum2:255);
			return ((ep3 < 0)?0:ep3);
		}
		else { return ep1; }
	}
	display_base();
	var n = actp; //active row
	var  i=5; do {
		$('ep'+i+'-'+n).value = validate_eps($('ep'+i+'-'+n).value,$('eff'+i+'').innerHTML);
	} while(i--);
	display_eps();
	$('name').focus(); //return focus to input
}

/* Calculation functions */
function calc_effectiveness(typ,type1,type2) { //Calculates effectiveness
	var mul = damage[typ][type1];
	if (type2 != type1) { mul = mul * damage[typ][type2]; }
	return mul;
}
function calc_hiddenp() { //Calculates Hidden Power's power
	var a = arguments;
	return Math.floor((0.5*(a[0]&2)+1*(a[1]&2)+2*(a[2]&2)+4*(a[5]&2)+8*(a[3]&2)+16*(a[4]&2))*40/63 + 30);
	//return (((((a[4]&2)<<1) + (a[3]&2) + ((a[5]&2)>>>1))*10 + (a[2]&2)*3 + (a[0]&2) + (a[1]&2)) >>> 1)+30; //alternate, by Chase
}
function calc_hiddent() { //Calculates Hidden Power's type
	var a = arguments;
	return Math.floor(((a[0]&1)+2*(a[1]&1)+4*(a[2]&1)+8*(a[5]&1)+16*(a[3]&1)+32*(a[4]&1))*15/63);
	//return (a[2] & 1) + ((a[5] & 1) << 1) + ((a[3] & 1) << 2) + ((a[4] & 1) << 3); //alternate, by Chase, uses the main types[]
}
function calc_hidden(n) { //Displays all possible Hidden Powers
	//d = new Date(); time = d.getTime(); //DEBUG
	function display_hp() {
		t.reverse().sort(); p.sortnum();
		$('hiddent').innerHTML = t.join(', ');
		$('hiddenp').innerHTML = p.join(', ');
		//array_intersect(ivs[i],eo[ivhss[i][0]].slice());
		//d = new Date(); display_status((d.getTime()-time)/1000); return true; //DEBUG
		display_text(n);
	}
	display_status('<span class="loading">正在计算<em>催醒</em>...</span>');
	
	if ($('medl').checked) {
		var t = [typeshp[calc_hiddent($('med0-0').value,$('med1-0').value,$('med2-0').value,$('med3-0').value,$('med4-0').value,$('med5-0').value)]];
		var p = [calc_hiddenp($('med0-0').value,$('med1-0').value,$('med2-0').value,$('med3-0').value,$('med4-0').value,$('med5-0').value)];
		display_hp(); return true;
	}
	
	if (error != 0) { display_status('无法计算！<br/>请先输入或计算个体值。'); return false; }
	var a = [], b = $('hpt-'+n).value, t = [], p = [], i0=ivs[0].length-1;
	do { //must optimize this further
		a[0] = ivs[0][i0];
		var i1=ivs[1].length-1;
		do {
			a[1] = ivs[1][i1];
			var i2=ivs[2].length-1;
				do {
					a[2] = ivs[2][i2];
					var i3=ivs[3].length-1;
						do {
							a[3] = ivs[3][i3];
							var i4=ivs[4].length-1;
								do {
									a[4] = ivs[4][i4];
									var i5=ivs[5].length-1;
										do {
											a[5] = ivs[5][i5];
											var c = typeshp[calc_hiddent(a[0],a[1],a[2],a[3],a[4],a[5])];
											if (b == -1 || c == typeshp[b]) {
												var d = calc_hiddenp(a[0],a[1],a[2],a[3],a[4],a[5]);
												if (t.indexOf(c) == -1) { t.push(c); }
												if (p.indexOf(d) == -1) { p.push(d); }
											}
											if (p.length == 41 && t.length == 16) { display_hp(); return true; } //exit loops if all possible
										} while (i5--);
								} while (i4--);
						} while (i3--);
				} while (i2--);
		} while (i1--);
	} while (i0--);
	display_hp();
}
function calc_stat(species,pstat,stativ,statev,pokelvl,nature) { //Calculates Pokemon stats
	var basestat = get_base(species,pstat);
	var bonus = natures[nature][(pstat-1)];
	if (eps == 0) { var statev = 0; }
	if (pstat == 0) { //HP uses a different formula
		var result =  (Math.floor(((basestat*2 + (stativ/1) + Math.floor(statev/4))*pokelvl)/100)) + (pokelvl/1) + 10;
		if (species == 292) { return 1; } //Shedinja Case
	}
	else { var result = Math.floor((Math.floor(((basestat*2 + (stativ/1) + Math.floor(statev/4))*pokelvl)/100) + 5)*bonus); }
	return result;
}

ivs = [ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice()]; //global- IVs array
function calc_stativ(species,pstat,stat,statev,pokelvl,nature,chara,pot1,pot2) { //Calculates Pokemon IVs - brute force
	var chara = chara.split('.');
	var pot1 = pot1.split('.');
	var charas = [[0,5,10,15,20,25,30],[1,6,11,16,21,26,31],[2,7,12,17,22,27],[3,8,13,18,23,28],[4,9,14,19,24,29]];
	var pots = [[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[16,17,18,19,20,21,22,23,24,25],[26,27,28,29,30],[31]];
	ivs[pstat] = [-1];
	var  i=31; do {
		if (calc_stat(species,pstat,i,statev,pokelvl,nature) == stat) { ivs[pstat].unshift(i); }
	} while(i--);
	
	if (pstat == 0 && species == 292) { ivs[pstat] = ivr.slice(); } //Shedinja Case
	
	if (chara[0] == pstat && chara != -1) {
		ivs[pstat] = array_intersect(ivs[pstat],charas[chara[1]]);
		maxiv = ivs[pstat][ivs[pstat].length-1]; //global maximum IV
	}
	if (pot1.indexOf(pstat.toString()) != -1 && pot2 != -1) {
		ivs[pstat] = array_intersect(ivs[pstat],pots[pot2]);
	}
	if (ivs[pstat][0] > miniv[1]) { miniv[1] = ivs[pstat][0]; }
	return ivs[pstat];
}
function calc_ivs(rn) { //Calculates a complete IV set
	error = 0; //global- reset errors
	if ($('number-0').value == 0) {
		error = '无法继续操作！<br/>请首先选择<em class="error">神奇宝贝</em>...';
		display_status(error);
		$('name').value=''; $('name').focus();
		return false;
	}
	if ($('level-0').value == 0) {
		error = '无法计算！<br/><em class="error">等级</em>不能为0。';
		display_status(error);
		$('level-0').focus();
		return false;
	}
	display_status('<span class="loading">正在计算<em>个体值</em>...</span>');
	
	function validate_iv(result,species,pstat,stat,statev,pokelvl,nature) { // IV error handling
		var spname = get_text('species',species);
		var max = calc_stat(species,pstat,31,statev,pokelvl,nature);
		var min = calc_stat(species,pstat,0,statev,pokelvl,nature);
		if (stat > max || stat < min) {
			error = '<em>'+spname+'</em> 等级 '+pokelvl+' 无法计算！<br/><em class="error">'+stats[pstat]+'</em> ('+stat*1+') 应该在 '+min+' 和 '+max+' 之间。<br/> 您可能输入了错误的<em class="error">努力值</em>或<em class="error">性格</em>。';
			ivs[pstat] = [-1];
			return ['error'];
		}
		
		var i=0,l=result.length; do {
			if (result[i] > maxiv) { //beyond characteristic upper bound
				result = result.slice(0,i);
			}
			if (miniv[0] == pstat && result[i] >= miniv[1]) { //best iv must remain be at least equal to the lower bound
				result = result.slice(i);
			}
			i++;
		} while(i<l);
		
		if (result.length == 0 || result[0] > maxiv || result[0] == -1 || result[result.length] > 31) { //out of any bounds
			error = '<em>'+spname+'</em> 等级 '+pokelvl+' 无法计算！<br/>The <em class="error">'+stats[pstat]+'</em> 能力值，<em class="error">努力值</em>，<em class="error">个性</em>或<em class="error">最高能力</em>不正确。'; //global error - prevent complex calculations
			ivs[pstat] = [-1];
			return ['error'];
		}
		return result;
	}
	function validate_ties() { //Refines in case max IVs tie
		var ties = $('pot1-'+rn).value.split('.');
		var l = ties.length;
		if (l > 1) {
			var t = ivs[ties[0]].slice(); 
			var i=1; do {
				t = array_intersect(t,ivs[ties[i]]);
				if (t[0] == undefined) {
					error = '<em>'+get_text('species',$('number-'+rn).value)+'</em> 等级 '+$('level-'+rn).value+' 无法计算！<br/>输入的<em class="error">最高能力</em>不正确。';
					return false;
				}
				i++;
			} while(i<l);
			ties.map(function(v){ivs[v]=t.slice();});
		}
	}
	
	maxiv = 31; miniv = [-1,0];//global- maximum IV
	ivs = [ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice()];
	//Calculate row(s)
	var rn = rn || 0;
	var i=rn, l=(mode!=0?(rn+1):rs.length); do {
		//alert(rn); //DEBUG
		var r=rs[i];
		var j=5; do {
			ivs[j] = array_intersect(ivs[j],calc_stativ($('number-'+r).value,j,$('stat'+j+'-'+r).value,$('ep'+j+'-'+r).value,$('level-'+r).value,$('nat-'+r).value,$('char-'+r).value,$('pot1-'+r).value,$('pot2-'+r).value));
			if (error != 0) { display_status(error); $('stat'+j+'-'+r).focus(); return false; }
		} while(j--);
		miniv[0] = $('char-'+r).value.split('.')[0];
		i++;
	} while(i<l);
	//Validate IVs
	var c = 0; var i=5; do {
		ivs[i] = validate_iv(ivs[i],$('number-'+r).value,i,$('stat'+i+'-'+r).value,$('ep'+i+'-'+r).value,$('level-'+r).value,$('nat-'+r).value);
		if (error != 0) { display_status(error); $('stat'+i+'-'+r).focus(); return false; }
		if (ivs[i].length == 1) { c++; }
	} while(i--);
	
	validate_ties();
	if (error != 0) { display_status(error); $('pot1').focus(); return false; }
	
	//Refine using Hidden Power
	if ((error == 0) && $('hpt-'+rn).value > -1) {
		if (c == 6 && ($('hpt-'+rn).value != calc_hiddent(ivs[0][0],ivs[1][0],ivs[2][0],ivs[3][0],ivs[4][0],ivs[5][0]))) {
			error = '<em>'+get_text('species',$('number-'+rn).value)+'</em> 等级 '+$('level-'+rn).value+' 无法计算！<br/>输入的<em class="error">催醒</em>（'+typeshp[$('hpt-'+rn).value]+'）不正确。';
			display_status(error);
			$('hpt').focus();
			return false;
		}

		ivh = [];
		var k = 0;
		var  i=5; do {
			ivh[i] = [];
			for(var j=0;j<ivs[i].length;j++) { //global- make odd&even possibility array for every stat
				ivh[i].push(((ivs[i][j]%2==1)?1:0));
				if (ivh[i].length == 2) { k++; break; }
			}
		} while(i--);
		var hp = hps[$('hpt-'+rn).value].split(',');
		for (var i=0; i < hp.length;i++) {
			hp[i] = (hp[i]*1).toString(2); //decimal -> binary SpDef/SpAtk/Spd/Def/Atk/HP
			hp[i] = hp[i].split('');
			hp[i] = hp[i].reverse(); //-> HP/Atk/Def/Spd/SpAtk/SpDef
			hp[i].push(0,0,0,0,0); //ensure all bits are there
			hp[i] = hp[i].slice(0,6); //but we only need 6
			var s = hp[i][3]; //-> HP/Atk/Def/SpAtk/SpDef/Spd
			hp[i][3] = hp[i][4];
			hp[i][4] = hp[i][5];
			hp[i][5] = s;
		}
		var ivhs = [];
		var l = 0;
		for (var i=0;i < hp.length;i++) {
			if ((ivh[0].indexOf(1*hp[i][0]) != -1) && (ivh[1].indexOf(1*hp[i][1]) != -1) && (ivh[2].indexOf(1*hp[i][2]) != -1) && (ivh[3].indexOf(1*hp[i][3]) != -1) && (ivh[4].indexOf(1*hp[i][4]) != -1) && (ivh[5].indexOf(1*hp[i][5]) != -1)) { //if all match then add to possible hps[] value for given type
				ivhs[l] = [];
				ivhs[l] = hp[i].slice();
				l++;
			}
		}
		var ivhss = [];
		var l = 0;
		for (var i=0;i < ivhs.length;i++) {
			var j=5; do { //make possibility array for every stat, [0], [1] or [0,1]/[1,0] for given type
				if (!ivhss[j]) { ivhss[j] = []; }
				var t = ivhs[i][j];
				if (ivhss[j].length < 2 && ivhss[j].indexOf(t) == -1) { ivhss[j].push(t); }
				if (ivhss[j].length == 2) { l++; }
			} while(j--);
		}
		if (l != 6) { //ensure not all combinations are possible for given type
			var i=5; do {
				if (!ivhss[i]) {
					error = '<em>'+get_text('species',$('number-'+rn).value)+'</em> 等级 '+$('level-'+rn).value+' 无法计算！<br/>输入的<em class="error">催醒</em>（'+typeshp[$('hpt-'+rn).value]+'）不正确。';
					display_status(error);
					$('hpt').focus();
					return false;
				}
				if (ivhss[i].length == 1) {
					var eo = [];
					eo[0] = [0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30];
					eo[1] = [1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31];
					ivs[i] = array_intersect(ivs[i],eo[ivhss[i][0]].slice());
				}
			} while(i--);
		}
	}
	//end Hidden Power refine
	
	validate_ties();
	if (error != 0) { display_status(error); $('pot1').focus(); return false; }
	
	//Pinpoint next helpfull level and EPs if IVs are multiple
	//plv: 1-level 2-eps 3-stat1 4-stat2 - branched stats
	var lr = (mode==2?rn:rs[rs.length-1]);
	var plv = [];
	var  i=5; do {
		plv[i] = ['','','']; //level, branch, eps
		var z=1;
		if (ivs[i].length > 1 && mode!=1) {
			var j = $('level-'+lr).value;
			while (plv[i][0] == '' && j <= 100) {
				for (var z=1,zl=ivs[i].length;z <= zl;z++) {
					var statev = $('ep'+i+'-'+lr).value;
					var a = calc_stat($('number-'+lr).value,i,ivs[i][z-1],statev,j,$('nat-'+lr).value);
					var b = calc_stat($('number-'+lr).value,i,ivs[i][z],statev,j,$('nat-'+lr).value);
					if (ivs[i].length <= 2 && eps == 1) { //Calculate EPs for exact stat
						var y = statev;
						while (plv[i][2] == '' && y < 255) {
							for (var x=1,xl=ivs[i].length;x <= xl;x++) {
								var c = calc_stat($('number-'+lr).value,i,ivs[i][x-1],y,$('level-'+lr).value,$('nat-'+lr).value);
								var d = calc_stat($('number-'+lr).value,i,ivs[i][x],y,$('level-'+lr).value,$('nat-'+lr).value);
								if (c < d) { plv[i][2] = y; break; }
							}
							y++;
						}
					}
					if (a < b) { plv[i][0] = j; plv[i][3] = a; plv[i][4] = b; break; }
				}
				j++;
			}
			if ($('level-'+lr).value == 100) { plv[i][0] = ''; }
		}
		plv[i][1] = z-1;
	} while(i--);
	//Display Results
	var i=rs.indexOf(rn);
	if (i>-1) {
		display_ivs(rn,plv);
		if (mode==1 && rs[i+1]) { calc_ivs(rs[i+1],1); } //recursion if Team mode
	}
	//return true;
}
function calc_eps() { //Calculates and displays required EPs
	display_eps();
	$('statlvl').value = $('level-0').value;
	if (display_stats(0)) {
		$('stat0-0').focus();
		function count_eps(pstat,stat,iv,eps) { //calculates required EPs - brute force way
			for (var i=$(eps).value;i<=255;i++) {
				if (calc_stat($('number-0').value,pstat,$(iv).value,i,$('level-0').value,$('nat-0').value) == $(stat).value) { return i - $(eps).value; }
			}
			return 'Lv.';
		}
		var  i=5; do {
			$('eps'+i).innerHTML = count_eps(i,'stat'+i+'-0','med'+i+'-0','ep'+i+'-0');
		} while(i--);
		$('epsr').innerHTML = 1*$('eps0').innerHTML + 1*$('eps1').innerHTML + 1*$('eps2').innerHTML + 1*$('eps3').innerHTML + 1*$('eps4').innerHTML + 1*$('eps5').innerHTML + 1*$('eps-0').innerHTML;
		if(isNaN($('epsr').innerHTML)) { $('epsr').innerHTML = 'Lv.'; }
	}
	if ($('epsr').innerHTML > 510) { $('epsr').className = 'error';}
	if ($('epsr').innerHTML < 510) { $('epsr').className = '';}
}

/* Display functions */

function display_status(str,s) {
	var t = $('status').innerHTML;
	$('status').innerHTML = str;
	if (s>0) { setTimeout(function () { display_status(t); }, s*1000);	}
}
function display_base() { //Displays Base Stats
	var p = $('species').value;
	$('types').innerHTML =  (get_base(p,6) == get_base(p,7)?types[get_base(p,6)]:types[get_base(p,6)]+' / '+types[get_base(p,7)]);
	$('eggs').innerHTML =  (get_base(p,8) == get_base(p,9)?eggs[get_base(p,8)]:eggs[get_base(p,8)]+' / '+eggs[get_base(p,9)]);
	var  i=5; do {
		$('base'+i).innerHTML =  get_base(p,i);
	} while(i--);
	display_eps();
	display_effectiveness(p);
}
function display_eps(n) { //Displays provided EPs
	if (eps == 0) { return false; }
	var p = $('species').value;
	var n = (n>-1?n:(act>-1?act:actp)); //active row
	var sum = 1*$('ep0-'+n).value + 1*$('ep1-'+n).value + 1*$('ep2-'+n).value + 1*$('ep3-'+n).value + 1*$('ep4-'+n).value + 1*$('ep5-'+n).value;
	$('eps-'+n).innerHTML = (sum==510?'<span class="ok">'+sum+'</span>':sum);
	var item = $('item').value;
	var vit = ((item > 7)?0:1); //vitamins on or off	
	var berry = 1; if (item > 13) { berry = -1; item = item-6; } //berries off or on	
	var mult = $('times').value*(($('pkrs').checked == 1)?2:1)*((item == 1)?2:1)*vit; //multipliers
	
	//hp up, protein, iron, calcium, zinc, 13carbos - Pomeg, Kelpsy, Qualot, Hondew, Grepa and Tamato 		
	var  i=5; do {
		$('eff'+i).innerHTML =  mult*(1*(get_base(p,10)[i])+((item == 2+i)?4:0)) + $('times').value*(1*((item == i+8)?10:0))*berry;
		$('item').options[i+8].disabled = ''; //reset vitamins
		if ($('ep'+i+'-'+n).value*1+$('times').value*10 > 100 || 510 < sum+$('times').value*10 || $('level-'+n).value == 100) {
			$('item').options[i+8].disabled = 'disabled';
			if (item > 7) {
				$('eff'+i).innerHTML = ((item == i+8) && (berry == -1)?-10*$('times').value:0);
			}
		}
	} while(i--);
	
	if (sum > 510) { $('eps-'+n).className = 'error'; }
	else { $('eps-'+n).className = ''; }
}
function display_nature() {
	var n = $('nat').value;
	var i=5; do {
		$('nate-'+i).innerHTML = '-';
		if (natures[n][i-1] > 1) { $('nate-'+i).innerHTML = '<strong>&times;1.1</strong>'; }
		if (natures[n][i-1] < 1) { $('nate-'+i).innerHTML = '&times;0.9'; }
		i--;
	} while(i>0);
}
function display_char() {
	var i=5; do { 
		$('med'+i+'-0').style.borderWidth = '';
	} while(i--);
	var n=$('char').value.split('.')[0];
	if (n > -1) { $('med'+n+'-0').style.borderWidth = '3'; }
}
function display_effectiveness(p) {
	var type1 = get_base(p,6); 
	var type2 = get_base(p,7);
	var d = []; d[4] = []; d[0] = []; d[1] = []; d[2] = []; d[8] = []; d[16] = [];
	var t = []; t[4] = []; t[0] = []; t[1] = []; t[2] = []; t[8] = []; t[16] = [];
	
	if (mode==1 && act >-1) {
		for (var i=0,l=rs.length; i < l; i++)  {
			p = $('number-'+rs[i]).value;
			type1 = get_base(p,6);
			type2 = get_base(p,7);
			for (var j=0; j < 18; j++)  {
				var a = calc_effectiveness(j,type1,type2);
				if(!t[4*a][j]) {
					t[4*a][j] = 1;
					d[4*a].push(j);
				}
				else { t[4*a][j]++; }
			}
		}
	}
	else {
		for (var i=0; i < 18; i++)  {
			var a = calc_effectiveness(i,type1,type2);
			t[4*a][i] = 1;
			d[4*a].push(i);
		}
	}
	var i=4, j=[0,1,2,8,16]; do {
		d[j[i]] = d[j[i]].map(function(v){if(t[j[i]][v]>1){return types[v]+'<strong>&times;'+t[j[i]][v]+'</strong>';}return types[v];});
		d[j[i]].sort();
		$('dmg'+j[i]).innerHTML = d[j[i]].join(', ');
	} while(i--);
}
function add_sprite() { //Adds sprite events
	event_add($('species'), 'change', display_sprite);
	event_add($('name'), 'keyup', display_sprite);
	event_add($('number'), 'keyup', display_sprite);
	display_sprite();
}
spr = '';
function display_sprite() { //Displays sprites from http://www.legendarypokemon.net/
	clearTimeout(spr);
	if (!navigator.onLine) {
		online = 0;
		$('sprite').innerHTML = '';
		return false;
	}
	spr = setTimeout (function() {
		$('sprite').innerHTML = '';
		var i=0, l=(mode==1 && act >-1?rs.length:1), result=''; do {
			var n = (mode==1 && act >-1?$('number-'+rs[i]):$('number')).value*1;
			var m = n; //get_text('species',n*1) //DSi browser and IE hate this(?)
			switch(n) { //feel free to change this if you want sprites from your own server
				case 0: n = 'egg'; break;
				case 650: n = '386-1'; break;
				case 651: n = '386-2'; break;
				case 652: n = '386-3'; break;
				case 653: n = '413-1'; break;
				case 654: n = '413-2'; break;
				case 655: n = '492-1'; break;
				case 656: n = '487-1'; break;
				case 657: n = '479-1'; break;
				case 658: n = '479-2'; break;
				case 659: n = '479-3'; break;
				case 660: n = '479-4'; break;
				case 661: n = '479-5'; break;
				case 662: n = '351-1'; break;
				case 663: n = '351-2'; break;
				case 664: n = '351-3'; break;
				case 665: n = '550-1'; break;
				case 666: n = '555-1'; break;
				case 667: n = '648-1'; break;
				case 668: n = '646-1'; break;
				case 669: n = '646-2'; break;
				case 670: n = '647-1'; break;
				case 671: n = '641-1'; break;
				case 672: n = '642-1'; break;
				case 673: n = '645-1'; break;
				default:
					n = (n>9)?n:'0'+n; n = (n>99)?n:'0'+n; //pad 0s
			}
			$('sprite').innerHTML += '<a href="http://wiki.52poke.com/calc/jump.php?id='+m+'"><img src="http://www.legendarypokemon.net/images/'+
			(mode==1 && act >-1?'sprites/bw/icons/'+n+'.png':'sprites/bw/'+n+'.png')+'" alt="'+n+'" /></a>';
			i++;
		} while(i<l);
	}, 500);
}
function display_text(r) { //Displays copy & paste results
	var b=[],a = '#'+$('number-'+r).value+' '+get_text('species',$('number-'+r).value)+' ['+get_text('nat',$('nat-'+r).value)+']<br/>IVs: ';
	//get_text('gnd',$('gnd').value)
	var i=0; do {
		if (ivs[i].length > 3) {
			b.push(ivs[i][0]+' - '+ivs[i][(ivs[i].length-1)]);
		}
		else { b.push(ivs[i].join(', ')); }
		i++;
	} while (i<6);
	a += b.join(' / ');
	a += '<br/>等级 '+$('level-'+r).value+' 的能力值: ';
	var i=0,b=[]; do {
		b.push($('stat'+i+'-'+r).value+'|'+$('ep'+i+'-'+r).value);
		i++;
	} while (i<6);
	a += b.join(' / ');
	display_status(a);
}
function display_stats(r,m) { //Displays calculated stats
	if ($('statlvl').value == 0) { $('statlvl').value = 100; }
	if (mode == 1) { display_status('无法计算队伍模式的能力值。'); }
	
	var  i=5; do {
		if (m === '' && (!$('med'+i+'-0').value || error != 0)) {
			display_status('无法计算！<br/>请先输入或计算个体值。');
			return false;
		}
		switch(m) {
			case 0: var iv=0, ep=0, nat='min'; break;
			case 1: var iv=31, ep=255, nat='max'; break;
			default:
			var iv = $('med'+i+'-0').value, ep = $('ep'+i+'-'+r).value, nat = $('nat-'+r).value;
		}
		$('stats'+i).innerHTML = calc_stat($('number-'+r).value,i,iv,ep,$('statlvl').value,nat);
	} while(i--);
	return true;
}
function display_ivs(rn,plv) { //Displays IVs appropriately
	if (error != 0) { return false; }
	if (mode==1) {
		if (rn==0) {
			$('ivrows').style.display = 'none';
			el_del($('ivrows'));
			$('ivrows').style.display = '';
		}
		var a=[], i=0; do {
			if (ivs[i].length > 2) {
				a.push(ivs[i][0]+'-'+ivs[i][(ivs[i].length-1)])+'';
			}
			else { a.push(ivs[i].join('-')); }
			i++;
		} while (i<6);
		var r = el_add($('ivrows'),'tr');
		el_add(r,'td',{},'<h4 class="btn" onclick="toggle_mode(); if ($(\'act-'+rn+'\').checked == 0) { row_act('+rn+'); } calc_ivs('+rn+'); $(\'btn-mode\').focus();">#'+$('number-'+rn).value+':</h4>');
		var i=0; do {
			el_add(r,'td',{className:'right'},a[i]+'');
			i++;
		} while (i<6);
		display_status('计算完成。');
		return true;
	}
	var  i=5; do {
		if (!$('medl').checked) { $('med'+i+'-0').value = ivs[i][Math.ceil(ivs[i].length/2)-1]; }
		$('plv'+i+'-0').innerHTML = (plv[i][0] == ''?(ivs[i].length == 1?'<span class="ok">OK!</span>':'<span class="tooltip" title="Refine using Hidden Power.">[?]</span>'):'<span class="btn" onclick="row_add(0,'+plv[i][0]+'); $(\'stat0-\'+(rn-1)).focus();">'+plv[i][0]+'</span>')+(plv[i][2] == ''?'':'<br/><span class="eps">'+plv[i][2]+'</span>');
			
		var ivst = ivs[i].slice();
		if (plv[i][1]<ivst.length) { ivst[plv[i][1]] = ivst[plv[i][1]]+'</span><span class="tooltip" style="font-size: 0.9em;" title="Lv.'+plv[i][0]+' '+stats[i]+': &lt;strong&gt;'+plv[i][4]+'&lt;/strong&gt;">'; }
		$('spr'+i+'-0').innerHTML = '<span class="tooltip" style="font-weight: bold;" '+(plv[i][0] == ''?'':'title="Lv.'+plv[i][0]+' '+stats[i]+': &lt;strong&gt;'+plv[i][3]+'&lt;/strong&gt;"')+'>'+ivst.join(', ')+'&nbsp;</span>';
	} while(i--);
	rn = (mode==2?rn:rs[rs.length-1]);
	display_stats(rn); display_text(rn);
}

eval(function(a,r,c,e,u,s){u=function(c){return(c<r?'':u(parseInt(c/r)))+((c=c%r)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)s[u(c)]=e[c]||u(c);e=[function(u){return s[u]}];u=function(){return'\\w+'};c=1};while(c--)if(e[c])a=a.replace(new RegExp('\\b'+u(c)+'\\b','g'),e[c]);return a}('l s(){w($(\'z\')==q){y("\\u\\3\\A\\1\\2\\7\\0\\1\\4\\5\\1\\o\\4\\3\\9\\2\\6\\4\\3\\5\\1\\3\\m\\1\\6\\d\\4\\8\\1\\c\\7\\3\\f\\7\\2\\j\\r\\8\\1\\9\\4\\a\\0\\5\\a\\0\\h\\n\\p\\9\\0\\2\\8\\0\\1\\2\\9\\b\\2\\e\\8\\1\\i\\0\\0\\c\\1\\6\\d\\0\\1\\a\\7\\0\\g\\4\\6\\8\\1\\4\\5\\6\\2\\a\\6\\h\\n\\n\\b\\b\\b\\k\\9\\0\\f\\0\\5\\g\\2\\7\\e\\c\\3\\i\\0\\j\\3\\5\\k\\5\\0\\6");t}v();x()};',37,37,'u0065|u0020|u0061|u006f|u0069|u006e|u0074|u0072|u0073|u006c|u0063|u0077|u0070|u0068|u0079|u0067|u0064|u0021|u006b|u006d|u002e|function|u0066||u0076|u0050|null|u0027|init0|return|u0059|online_check|if|initO|alert|lp|u0075'.split('|'),0,{}));

function initO() { //Actions to perform once the page has loaded
	$('form').reset(); //reset all fields
	toggle_theme();
	tooltips();
	display_status('<span class="loading">正在初始化...</span>');
	$('calculator').style.minHeight = (1*(window.innerHeight?window.innerHeight:(document.body?document.body.clientHeight:''))-16)+'px'; /* remove this when including */
	$('ept').style.visibility = 'hidden';
	$('mode1').style.display = 'none';
	toggle($('history'));	
	
	event_add($('name'),"keyup", function () { autocomplete(this,$('species'),'text',true); $('number').value=$('species').value; display_base(); row_edit(); });
	event_add($('name'),"focus", function () { this.value = '' });
	event_add($('species'),"change", function () { $('name').value=$('species').options[$('species').selectedIndex].text; $('number').value=$('species').value; display_base(); row_edit(); });
	event_add($('number'),"keyup", function (evt) { vv('number',0,673,evt); $('species').value=$('number').value; $('name').value=$('species').options[$('species').selectedIndex].text; display_base(); row_edit(); });
	event_add($('nat'),"change", function () { display_nature(); row_edit(); });
	event_add($('charn'),"keyup", function () { autocomplete(this,$('char'),'text',true); display_char(); row_edit(); });
	event_add($('char'),"change", function () { $('charn').value=$('char').options[$('char').selectedIndex].text; display_char(); row_edit(); });
	event_add($('hpt'),"change", function () { row_edit(); if(act>-1){ $('level-'+act).focus(); }});
	event_add($('hpt'),"blur", function () { if(act>-1){ $('level-'+act).focus();}}); //fails in chrome, issue 6759
	event_add($('pkrs'),"click", function () { display_eps(); });
	event_add($('item'),"change", function () { display_eps(); });
	event_add($('times'),"keyup", function (evt) { vv('times',0,255,evt); display_eps(); });
	
	event_add($('level-0'),"keyup", function (evt) { vv('level-0',0,100,evt,0); });
	event_add($('statlvl'),"keyup", function (evt) { vv('statlvl',0,100,evt); });
	event_add($('act-0'),"click", function () { row_act(0); });
	var  i=5; do {
		event_add($('stat'+i+'-0'),"keyup", function (evt) { vv(this.id,0,999,evt,0); });
		event_add($('ep'+i+'-0'),"keyup", function (evt) { vv(this.id,0,255,evt,0); display_eps(); });
		event_add($('med'+i+'-0'),"keyup", function (evt) { vv(this.id,0,31,evt); });
	} while(i--);
		
	event_add($('pot0'),"change", function () { row_edit(); });
	event_add($('pot1'),"focus", function () { this.size=7; this.style.position='absolute'; this.style.width='88px'; }); /* position: absolute; width: 87px; overflow: hidden; */
	event_add($('pot1'),"blur", function () { row_edit(); this.size=1; this.style.position=''; this.style.width='78px'; });
	event_add($('pot2'),"change", function () { row_edit(); });
	if (navigator.userAgent.indexOf('AppleWebKit') > -1) { $('pot1').style.height = '18px'; } //workaround for Webkit, Chrome issue 41759
	
	event_add($('btn-addrow'),"click", function () { row_add(); $((mode?'name':'stat0-'+(rn-1))).focus(); tooltips(); });
	event_add($('btn-addeps'),"click", add_eps);
	event_add($('btn-theme'),"click", toggle_theme);
	event_add($('btn-eps'),"click", function () { calc_eps(); });
	event_add($('btn-evs'),"click", toggle_evs);
	event_add($('btn-mode'),"click", function () { toggle_mode(mode); });	
	event_add($('btn-save'),"click", code_save);
	event_add($('btn-ivs'),"click", function () { calc_ivs((mode==2 && act>-1?act:0)); tooltips(); });
	event_add($('btn-stats'),"click", function () { display_stats((act>-1?act:0)); });
	event_add($('btn-statsmin'),"click", function () { display_stats((act>-1?act:0),0); });
	event_add($('btn-statsmax'),"click", function () { display_stats((act>-1?act:0),1); });
	event_add($('btn-hp'),"click", function () { calc_hidden((mode==2 && act>-1?act:0)); });
	event_add($('toggleinfo'),"click", function () { toggle($('info')); toggle($('instructions')); });
	event_add($('toggleinstructions'),"click", function () { toggle($('info')); toggle($('instructions')); });
	event_add($('togglehistory'),"click", function () { toggle($('history')); });
			
	var tload;
	event_add($('btn-load'),"click", function(){
		if(tload){
			clearTimeout(tload);
			tload = '';
			code_load(prompt('输入保存代码：'));
		}
		else tload= setTimeout(function(){
			tload = '';
			code_load(location.search);
		},300);
	});
	
	pop_species();
	display_base();
	
	if (location.protocol != 'data:') {
		var br = navigator.userAgent;
		if (br.indexOf('iPhone') > -1 || br.indexOf('iPod') > -1 || br.indexOf('iPad') > -1) {
		$('download').innerHTML = "欢迎！您可以将本页 <strong>保存</strong> 以备脱机使用，<a href=\"javascript:x=new XMLHttpRequest();x.onreadystatechange=function(){if(x.readyState==4)location='data:text/html;charset=utf-8;base64,'+btoa(decodeURIComponent(encodeURIComponent(x.responseText)))};x.open('GET',location);x.send('');\">点击这里</a>然后加入收藏就可以了！";  }
	}
	
	$('name').focus();
	if (location.search.indexOf('sc=') > -1) { $('btn-load').value+='*'; $('btn-load').focus(); } //Make SavedCose visible
	
	if ((document.charset && document.charset.toLowerCase() != 'utf-8') || (document.characterSet && document.characterSet.toLowerCase() != 'utf-8')) {
		display_status("请设置您的浏览器编码为 UTF-8。");
	}
	else { display_status('顺利运行。<br/><span class="btn" onclick="toggle_simple();">简洁模式？</span>'); }
}
event_add(window,"load", init0);
//--><!]]>
</script>
<div id="head" class="block">
<table><tr><td class="primary"><h1>个体值与能力值计算器</h1></td>
<td class="secondary"><a href="http://www.legendarypokemon.net">LegendaryPokemon.net</a> / <a href="http://www.52poke.com/">神奇宝贝部落格</a></td></tr></table> <!-- feel free to put your branding here -->
</div><!-- end header -->
<noscript><div class="block"><p class="center">请开启您的浏览器的 JavaScript 功能。</p></div></noscript>
<div id="gui" class="block"><form id="form" action="" onsubmit="return false;"><table>
<tr><td class="primary"><table>
<tr><td colspan="7"><h2>神奇宝贝</h2></td><td colspan="3"><h2>性格</h2></td></tr>
<tr><td colspan="3"><input type="text" id="name" name="name" class="left" /></td><td colspan="4">
<select id="species" name="species">
	<option value="0"> </option>
</select>
</td>
<!--<td>
<select id="gnd" name="gnd">
	<option value="-1">&#9898;</option>
	<option value="0">&#9792;</option>
	<option value="1">&#9794;</option>
</select>
</td>-->
<td colspan="3">
<select id="nat" name="nat">
	<option value="-1"> </option>
	<option value="3">努力</option>
	<option value="10">孤独</option>
	<option value="22">勇敢</option>
	<option value="14">固执</option>
	<option value="18">调皮</option>
	<option value="6">大胆</option>
	<option value="2">坦率</option>
	<option value="23">悠闲</option>
	<option value="15">淘气</option>
	<option value="19">乐天</option>
	<option value="9">胆小</option>
	<option value="13">急躁</option>
	<option value="4">认真</option>
	<option value="17">开朗</option>
	<option value="21">天真</option>
	<option value="7">保守</option>
	<option value="11">稳重</option>
	<option value="24">冷静</option>
	<option value="1">害羞</option>
	<option value="20">马虎</option>
	<option value="8">沉着</option>
	<option value="12">温顺</option>
	<option value="25">狂妄</option>
	<option value="16">慎重</option>
	<option value="5">浮躁</option>
</select></td>
</tr>
<tr class="ext"><td colspan="2"><h4>属性：</h4></td><td id="types" colspan="3" class="left"></td><td colspan="2"><h4>蛋群：</h4></td><td id="eggs" colspan="3" class="left"></td></tr>
<tr class="ext"><td colspan="7"><h2 class="tooltip" title="&lt;strong&gt;可选&lt;/strong&gt;（钻石珍珠之后）">个性 *</h2></td><td colspan="3"><h2 class="tooltip" title="&lt;strong&gt;可选&lt;/strong&gt; 询问游乐场兑奖屋的催醒大叔（白金版：帷幕市，心金魂银版：彩虹市，黑白版：吹寄市）">催醒 *</h2></td></tr>
<tr class="ext"><td colspan="3"><input type="text" id="charn" name="charn" class="left" /></td><td colspan="4">
<select id="char" name="char">
	<option value="-1"> </option>
	<option value="0.0">喜欢吃东西</option>
	<option value="0.1">喜欢午睡</option>
	<option value="0.2">经常打瞌睡</option>
	<option value="0.3">总是把东西拆碎</option>
	<option value="0.4">喜欢无拘无束</option>
	<option value="1.0">以有力量为傲</option>
	<option value="1.1">容易暴动</option>
	<option value="1.2">有点容易着迷</option>
	<option value="1.3">喜欢吵架</option>
	<option value="1.4">血气方刚</option>
	<option value="2.0">身体结实</option>
	<option value="2.1">抗击打</option>
	<option value="2.2">耐性很好</option>
	<option value="2.3">很能忍耐</option>
	<option value="2.4">自制力很好</option>
	<option value="3.0">好奇心超强</option>
	<option value="3.1">喜欢恶作剧</option>
	<option value="3.2">无孔不入</option>
	<option value="3.3">总在想很多事</option>
	<option value="3.4">非常一丝不苟</option>
	<option value="4.0">精神强大</option>
	<option value="4.1">有点爱慕虚荣</option>
	<option value="4.2">非常不服输</option>
	<option value="4.3">讨厌失败</option>
	<option value="4.4">有点固执</option>
	<option value="5.0">喜欢乱跑</option>
	<option value="5.1">对声音敏感</option>
	<option value="5.2">冲动莽撞</option>
	<option value="5.3">有点粗鲁</option>
	<option value="5.4">逃跑非常快</option>
</select>
</td>
<td colspan="3"><select name="hpt" id="hpt">
	<option value="-1"> </option>
	<option value="0">格斗</option>
	<option value="1">飞行</option>
	<option value="2">毒</option>
	<option value="3">地上</option>
	<option value="4">岩石</option>
	<option value="5">虫</option>
	<option value="6">幽灵</option>
	<option value="7">钢</option>
	<option value="8">炎</option>
	<option value="9">水</option>
	<option value="10">草</option>
	<option value="11">电</option>
	<option value="12">超能力</option>
	<option value="13">冰</option>
	<option value="14">龙</option>
	<option value="15">恶</option>
</select></td>
</tr>
<tr class="ext tooltip" title="&lt;strong&gt;可选&lt;/strong&gt; 询问对战塔附近的神奇宝贝顶尖培育家（绿宝石之后）"><td colspan="5"><h2>全体能力 *</h2></td><td colspan="5"><h2>最高能力 *</h2></td></tr>
<tr class="ext">
<td colspan="5"><select name="pot0" id="pot0">
	<option value="-1"> </option>
	<option value="0">普普通通 [0-90]</option>
	<option value="1">平均之上 [91-120]</option>
	<option value="2">相当优秀 [121-150]</option>
	<option value="3">非常棒 [150-186]</option>
</select></td>
<td colspan="2" style="position: relative;" class="left top"><select name="pot1" id="pot1" size="1" multiple="multiple">
	<option value="-1"> </option>
	<option value="0">HP</option>
	<option value="1">攻击</option>
	<option value="2">防御</option>
	<option value="3">特攻</option>
	<option value="4">特防</option>
	<option value="5">速度</option>
</select>	
</td>
<td colspan="3"><select name="pot2" id="pot2">
	<option value="-1"> </option>
	<option value="0">普普通通</option>
	<option value="1">相当不错</option>
	<option value="2">非常棒</option>
	<option value="3">太完美了</option>
</select></td>
</tr>


<tr class="ext"><td></td><td></td><td></td><td><h3>HP</h3></td><td><h3>攻击</h3></td><td><h3>防御</h3></td><td><h3>特攻</h3></td><td><h3>特防</h3></td><td><h3>速度</h3></td><td><h3 class="center">编号</h3></td></tr>

<tr class="ext"><td colspan="3"><h4>性格影响：</h4></td><td></td><td class="right" id="nate-1">-</td><td class="right" id="nate-2">-</td><td class="right" id="nate-3">-</td><td class="right" id="nate-4">-</td><td class="right" id="nate-5">-</td></tr>
<tr class="ext"><td colspan="3"><h4>最高能力：</h4></td><td class="right" id="base0"></td><td class="right" id="base1"></td><td class="right" id="base2"></td><td class="right" id="base3"></td><td class="right" id="base4"></td><td class="right" id="base5"></td><td><input style="text-align: right;"  type="text" id="number" name="number" maxlength="3" size="3" value="0" /></td></tr>
<tr class="eps ext"><td colspan="3"><h4>努力值：</h4></td><td class="right" id="eff0"></td><td class="right" id="eff1"></td><td class="right" id="eff2"></td><td class="right" id="eff3"></td><td class="right" id="eff4"></td><td class="right" id="eff5"></td><td></td></tr>
<tr id="ept" class="eps ext">
<td colspan="2"><h4>神奇病毒：</h4></td><td><input name="pkrs" id="pkrs" type="checkbox"/></td>
<td><h4>道具</h4></td><td colspan="3"><select id="item" name="item">
	<option value="0"> </option>
	<optgroup label="携带道具">
	<option value="1">强制锻炼器</option>
	<option value="2">力量负重</option>
	<option value="3">力量护碗</option>
	<option value="4">力量腰带</option>
	<option value="5">力量镜片</option>
	<option value="6">力量束带</option>
	<option value="7">力量护踝</option>
	</optgroup>
	<optgroup label="营养饮品">
	<option value="8">HP提升剂</option>
	<option value="9">攻击牛磺剂</option>
	<option value="10">防御提升剂</option>
	<option value="11">特攻增加剂</option>
	<option value="12">特防甲壳剂</option>
	<option value="13">效果防护</option>
	</optgroup>
	<optgroup label="降低努力值">
	<option value="14">红榴</option>
	<option value="15">蓝根藻果</option>
	<option value="16">粉枇杷</option>
	<option value="17">黄斑蜜瓜</option>
	<option value="18">黄金葡</option>
	<option value="19">辣茄</option>
	</optgroup>
</select></td>
<td>&times;</td><td><input type="text" id="times" name="times" maxlength="3" size="3" value="1" /></td>
<td><input class="button tooltip" type="button" id="btn-addeps" value="+" title="增加努力值。" /></td></tr>

<tr><td></td><td><h3>等级</h3></td><td></td><td><h3>HP</h3></td><td><h3>攻击</h3></td><td><h3>防御</h3></td><td><h3>特攻</h3></td><td><h3>特防</h3></td><td><h3>速度</h3></td><td><h3 class="center">编号</h3></td></tr>
<tr id="statrow-0"><td><input type="radio" class="radio tooltip" name="act" id="act-0" value="0" checked="checked" title="（取消）选择这一行。"/> <span id="btn-addrow" class="btn tooltip" title="增加新一行。">+</span></td><td><input type="text"  id="level-0" name="level-0" maxlength="3" size="3"/></td><td><h4>能力</h4></td>
<td><input type="text" name="stat0-0" id="stat0-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat1-0" id="stat1-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat2-0" id="stat2-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat3-0" id="stat3-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat4-0" id="stat4-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat5-0" id="stat5-0" maxlength="3" size="3" value="" /></td>
<td><input style="text-align: right;" disabled="disabled" type="text" id="number-0" name="number-0" maxlength="3" size="3" value="0" /><input type="hidden" id="nat-0" name="nat-0" value="" /><input type="hidden" id="char-0" name="char-0" value="" /><input type="hidden" id="hpt-0" name="hpt-0" value="" /><input type="hidden" id="pot0-0" name="pot0-0" value="" /><input type="hidden" id="pot1-0" name="pot1-0" value="" /><input type="hidden" id="pot2-0" name="pot2-0" value="" /></td>
</tr>
<tr id="eprow-0" class="eps"><td></td><td id="eps-0"></td><td><h4>EVs:</h4></td>
<td><input type="text" name="ep0-0" id="ep0-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep1-0" id="ep1-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep2-0" id="ep2-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep3-0" id="ep3-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep4-0" id="ep4-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep5-0" id="ep5-0" maxlength="3" size="3" value="0" /></td>
<td></td>
</tr>

<tr class="eps ext"><td></td><td id="epsr"></td><td></td><td class="right" id="eps0"></td><td class="right" id="eps1"></td><td class="right" id="eps2"></td><td class="right" id="eps3"></td><td class="right" id="eps4"></td><td class="right" id="eps5"></td><td></td></tr>
<tfoot id="statrows"></tfoot>
</table></td>

<td class="secondary">
<table id="mode0">
<tr><td colspan="8"><h2>个体值</h2></td></tr>
<tr><td colspan="2"></td><td><h3>HP</h3></td><td><h3>攻击</h3></td><td><h3>防御</h3></td><td><h3>特攻</h3></td><td><h3>特防</h3></td><td><h3>速度</h3></td></tr>
<tr><td colspan="2"><h4><input name="medl" id="medl" class="ext tooltip" type="checkbox" title="锁定平均个体值。"/> 平均</h4></td>
<td><input type="text" name="med0-0" id="med0-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med1-0" id="med1-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med2-0" id="med2-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med3-0" id="med3-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med4-0" id="med4-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med5-0" id="med5-0" maxlength="2" size="2"/></td></tr>
<tr class="tooltip" title="精确结果所需要的等级或努力值。" class="top"><td colspan="2"><h4>+ 等级：</h4><h4 class="eps">+ 努力值：</h4></td>
<td id="plv0-0"></td>
<td id="plv1-0"></td>
<td id="plv2-0"></td>
<td id="plv3-0"></td>
<td id="plv4-0"></td>
<td id="plv5-0"></td></tr>
<tr><td colspan="2" class="top"><h4>分布：</h4></td>
<td id="spr0-0" class="right"></td>
<td id="spr1-0" class="right"></td>
<td id="spr2-0" class="right"></td>
<td id="spr3-0" class="right"></td>
<td id="spr4-0" class="right"></td>
<td id="spr5-0" class="right"></td></tr>
</table>
<table id="mode1" class="mode">
<tr><td colspan="7"><h2>个体值</h2></td></tr>
<tr><td></td><td><h3>HP</h3></td><td><h3>攻击</h3></td><td><h3>防御</h3></td><td><h3>特攻</h3></td><td><h3>特防</h3></td><td><h3>速度</h3></td></tr>
<tfoot id="ivrows"></tfoot></table>
</td></tr>
<tr class="ext"><td id="bar" class="secondary">
<table>
<tr><td id="sprite" colspan="3" rowspan="5"></td><td colspan="7"><h2 class="tooltip" title="忽略特性影响。">属性相性</h2></td></tr>
<tr><td><h4>&times;0</h4></td><td colspan="6" id="dmg0" class="left"></td></tr>
<tr><td><h4>&times;&frac14;</h4></td><td colspan="6" id="dmg1" class="left"></td></tr>
<tr><td><h4>&times;&frac12;</h4></td><td colspan="6" id="dmg2" class="left"></td></tr>
<tr><td><h4>&times;2</h4></td><td colspan="6" id="dmg8" class="left"></td></tr>
<tr><td colspan="3"><input type="text" name="nickname" id="nickname" maxlength="10" size="10" class="center tooltip" title="&lt;strong&gt;可选&lt;/strong&gt;  神奇宝贝的昵称" /></td><td><h4>&times;4</h4></td><td colspan="6" id="dmg16" class="left"></td></tr>
</table>
</td>

<td class="secondary">
<table><tr><td colspan="8"><h2>计算出的能力值 - <span class="btn tooltip" id="btn-statsmin" title="努力值和个体值均为0，性格降低能力值。">最大</span> / <span class="btn tooltip" id="btn-statsmax" title="努力值为252（除非关闭），个体值为31，以及性格增加能力值">最小</span></h2></td></tr>
<tr><td class="top"><h4>等级</h4></td><td class="top"><input type="text"  id="statlvl" name="statlvl" maxlength="3" size="3"/></td><td id="stats0" class="right"></td><td id="stats1" class="right"></td><td id="stats2" class="right"></td><td id="stats3" class="right"></td><td id="stats4" class="right"></td><td id="stats5" class="right"></td></tr></table>
<table><tr><td colspan="6"><h2>催醒</h2></td></tr>
<tr><td><h4>属性：</h4></td><td id="hiddent" colspan="5" class="left"></td></tr>
<tr><td><h4>威力：</h4></td><td id="hiddenp" colspan="5" class="left"></td></tr>
</table>
</td></tr>

<tr><td class="primary" style="vertical-align: middle;">
<table>
<tr><td id="status" colspan="3">检测到自爆！<br/>请打开 JavaScript，若问题持续请报告错误。</td></tr>
</table>
</td>

<td id="controls" class="secondary">
<table>
<tr>
<td><input type="button" class="button" id="btn-evs" value="努力:开" /></td>
<td><input type="button" class="button" id="btn-theme" value="主题" /></td>
<td><input type="button" class="button" id="btn-save" value="保存" /></td>
<td><input type="button" class="button" id="btn-load" value="读入" /></td>
</tr>
<tr class="ext"><td colspan="2"><input type="button" class="button" id="btn-mode" value="神奇宝贝" /></td><td colspan="2"><input type="button" class="button" id="btn-eps" value="计算努力值" /></td></tr>
<tr class="ext"><td colspan="2"><input type="button" class="button" id="btn-hp" value="计算催醒" /></td>
<td colspan="2"><input type="button" class="button" id="btn-stats" value="计算能力值" /></td></tr>
<tr><td colspan="4"><input type="button" class="button" id="btn-ivs" value="计算个体值" /></td></tr>
</table>
</td></tr>
</table></form></div><!-- end gui -->

<div id="documentation" class="block">
<table><tr><td class="primary">
<h2 id="toggleinfo">程序信息 &#177;</h2>
<div id="info">
<h3>如何下载计算器</h3>
<p id="download">在浏览器窗口菜单中选择 <strong>文件 -&gt; 另存为...</strong> 将网页保存到您的计算机中（请务必选择<strong>“网页，仅 HTML”</strong>方式保存）。该程序在脱机状态下仍然可用。</p>
<h3>兼容性：</h3>
<p>神奇宝贝红宝石、蓝宝石、绿宝石、火红、叶绿、钻石、珍珠、白金、心金、魂银、黑、白版，以及神奇宝贝圆形竞技场、XD、对战革命。</p>
<h3>关于</h3>
<p>个体值 / 能力值 / 催醒计算器由 <a href="http://www.legendarypokemon.net" id="lp">Legendary Pokémon</a> 管理员 Hercules G. Papatheodorou (Arty2) 开发。该程序可以通过神奇宝贝的种族、性格、能力和努力值数据来计算个体值。</p>
<p>该程序由 <strong>JavaScript</strong> 编写，具有跨操作系统的兼容性，只需一个文件和具有 JavaScript 功能的浏览器即可。该程序 <em>应该可以</em> 在任何操作系统的 Firefox, Chrome, Safari, Opera, Internet Explorer 等浏览器运行，包括任天堂 DSi。</p>
<p>如果您希望翻译，修改或将该程序嵌入您的网站，请阅读下面的许可协议。</p>

<h2 id="togglehistory">更新记录 &#177;</h2>
<p id="version"><span class="loading">正在检查最新版...</span></p>
<dl>
 <dt>V9.8.2 (2012-08-31)</dt>
 	<dd>新增神奇宝贝黑白版2中的形态。</dd>
</dl>
<dl id="history">
 <dt>V9.8.2 (2012-08-31)</dt>
 	<dd>新增神奇宝贝黑白版2中的形态。</dd>
 <dt>V9.7 (2010-10-07)</dt>
 	<dd>修复显示黑白版神奇宝贝的一些错误（感谢 Aries）。</dd>
 <dt>V9.5 (2010-09-26)</dt>
 	<dd>更新支持神奇宝贝黑白版。</dd>
 <dt>V9.2 (2010-08-02)</dt>
 	<dd>修正个性和增加等级有关的问题。</dd>
 <dt>V9.1 (2010-07-31)</dt>
 	<dd>修正一些特定种族值的问题。</dd>
 <dt>V9 beta (2010-07-27)</dt>
 	<dd>多神奇宝贝计算，支持个性，反向催醒计算，能力意见。多种改进和界面改变。</dd>
 <dt>V8.1.1 (2010-01-07)</dt>
 	<dd>细节变化：替换 <em>neat</em> 主题为 <em>isotope</em>，支持一些 CSS3 效果。</dd>
 <dt>V8.1 (2009-07-27)</dt> 
 	<dd>增加使用上下方向键来修改数值的功能，修复和IE浏览器的兼容性问题，部分文本修正。</dd>
 <dt>V8 (2009-6-18)</dt> 
 	<dd>增加所需努力值计算、神奇宝贝属性克制、输入验证、在线状态监测、版本检查等功能。</dd> 
 <dt>V7.9.2 (2008-10-23)</dt> 
 	<dd>解决和IE浏览器的兼容性问题。感谢 EliteRaptor 报告此问题。</dd> 
 <dt>V7.9 (2008-10-08)</dt> 
 	<dd>增加白金版数据，增加错误输入检测功能。"ppn"主题替换为"neat"。</dd> 
 <dt>V7.8 (2007-09-04)</dt> 
 	<dd>小的细节修正。</dd> 
 <dt>V7.6 (2007-06-20)</dt> 
 	<dd>修正催醒计算错误。</dd> 
 <dt>V7.5 (2007-05-24)</dt> 
 	<dd>个体值计算不会超出范围；对不正确的输入数据会予以警告。</dd> 
 <dt>V7.4 (2007-05-11)</dt> 
 	<dd>修复错误并重新添加代欧奇希斯与结草贵妇的不同形态。</dd> 
 <dt>V7.1 (2007-03-19)</dt> 
 	<dd>更新第四代神奇宝贝英文名。（注：中文版采用中文译名）</dd> 
 <dt>V7 "Tagsoup" (2007-02-24)</dt> 
 	<dd>添加主题系统与新版保存功能，不兼容旧版保存链接。 <a href="http://www.legendarypokemon.net/2007/02/24/English/new-version-of-the-individual-value-calculator">阅读更多…</a>（英文）</dd> 
 <dt>V7 "Tagsoup" Beta (2007-02-10)</dt> 
 	<dd>完全重写；新版界面、功能和底层代码。感谢 Brett Harris 之前对个体值计算函数的帮助。第一个公开测试版。</dd> 
 <dt>V5 (2006-11-02)</dt> 
 	<dd>添加钻石珍珠版数据。</dd> 
 <dt>V4.1 (2005-10-07)</dt> 
 	<dd>修复细微错误。</dd> 
 <dt>V4 (2005-10-05)</dt> 
 	<dd>用户界面重大改进；保存与读取功能；在线功能以及友好打印风格。</dd> 
 <dt>V3.1 (2005-06-01)</dt> 
 	<dd>CSS 细小改进。添加神奇宝贝名与性格的自动完成功能。</dd> 
 <dt>V3 (2005-05-17)</dt> 
 	<dd>增加计算能力值功能；CSS 细小改进；精确度验证。</dd> 
 <dt>V2.1.3 (2005-05-16)</dt> 
 	<dd>修正细小文字错误。</dd> 
 <dt>V2.1.2 (2004-12-09)</dt> 
 	<dd>修正 "Defence" 一词为 "Defense"。（中文版使用"防御"）</dd> 
 <dt>V2.1 (2004-12-03)</dt> 
 	<dd>增加隐藏功能，修正部分文字错误。</dd> 
 <dt>V2.0 (2004-11-05)</dt> 
 	<dd>增加对 800x600 屏幕分辨率支持，增加代欧奇希斯不同形态。</dd> 
 <dt>V1.0 Beta (2004-09-14)</dt> 
 	<dd>第一个公开版本。</dd>
</dl>
<h2>许可协议</h2>
<p>本作品基于 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh">创作共用协议</a>，<strong>禁止</strong>修改本作品的署名信息。</p>
<dl>
<dt>您可以自由：</dt>
<dd><strong>分享</strong> — 复制、发行或通过信息网络传播本作品</dd>
<dd><strong>演绎</strong> — 再创作本作品</dd>

<dt>唯须遵守下列条件：</dt>
<dd><strong>署名</strong> — 您必须按照作者或者许可人指定的方式对作品进行署名。</dd>
<dd><strong>非商业性使用</strong> — 您不得将本作品用于商业目的。</dd>
<dd><strong>相同方式共享</strong> — 如果您改变、转换本作品或者以本作品为基础进行创作，您只能采用与本协议相同的许可协议发布基于本作品的演绎作品。</dd>
</dl>
<p>感谢 <a href="http://www.dustindiaz.com/">Dustin Diaz</a> 开发的函数。</p>
<p>希望您修改或翻译本作品之后，可以告知原作者。</p>
<h2>免责声明</h2>
<p>神奇宝贝版权属于 &copy; Nintendo, Creatures, Gamefreak 与 Pokémon Inc. 所有。本程序并非上述公司所开发。</p>
</div>

</td>
<td class="secondary">
<h2 id="toggleinstructions">帮助说明 &#177;</h2>
 	<div id="instructions">
	<h3>个体值和努力值是什么？</h3>
		<p><a href="http://wiki.52poke.com/">神奇宝贝百科</a>之中有<a href="http://wiki.52poke.com/wiki/%E4%B8%AA%E4%BD%93%E5%80%BC">个体值</a>、<a href="http://wiki.52poke.com/wiki/%E5%8A%AA%E5%8A%9B%E5%80%BC">努力值</a>等内容的详细解释。</p>
	<h3>用户界面</h3>
	<dl>
		<dt>保存</dt><dd>生成保存代码和链接，可以保存到收藏夹或发给朋友。</dd>
		<dt>读取</dt><dd>单击读入保存在地址栏中的数据，双击可以读入保存代码。</dd>
		<dd>一些例子：<a href="javascript:code_load('?sc=0,0,1,0,%E5%A3%B6%E5%A3%B6! 15,20,15,20,20,20,100! 213,20,41,13,110,13,101,9,0,0,0,0,0,0,23,5.0,1,-1,5.4.3.1,1! 213,21,42,13,114,13,105,9,0,0,0,0,0,0,23,5.0,1,-1,5.4.3.1,1')">壶壶</a>，<a href="javascript:code_load('?sc=0,0,1,0,%E9%AA%91%E6%8B%89%E5%B8%9D%E7%BA%B3! 25,8,22,17,4,27,100! 656,26,120,70,69,72,58,52,0,0,0,0,0,0,23,5.2,5,-1,,-1! 487,26,120,59,80,61,68,52,0,0,0,0,0,0,23,5.2,5,-1,,-1')">骑拉帝纳</a>，<a href="javascript:code_load('?sc=0,0,0,0,SNOR!3,8,1,5,21,25,100!143,50,221,130,63,72,125,47,0,0,0,0,0,0,10,5.0,14!143,51,225,133,63,73,127,48,0,0,0,0,0,0,10,5.0,14!143,52,229,135,65,75,130,49,0,0,0,0,0,0,10,5.0,14!143,53,234,137,66,76,132,50,0,0,0,0,0,0,10,5.0,14')">卡比兽</a>和一支<a href="javascript:code_load('?sc=0,0,0,1,TheGame!30,7,26,6,26,21,100!384,50,179,169,118,158,91,110,0,0,0,0,0,0,19,1.4,-1!220,21,56,31,26,18,20,29,0,0,0,0,0,0,2,1.1,-1!142,20,68,57,31,33,36,53,0,0,0,0,0,0,22,0.0,-1!143,50,221,130,63,72,125,47,0,0,0,0,0,0,10,5.0,14!133,1,12,5,6,6,6,6,0,0,0,0,0,0,6,5.0,4!408,20,62,61,23,18,22,32,0,0,0,0,0,0,10,0.0,2')">队伍</a>。</dd>
	</dl>
	<h3>个体值计算<span class="ext btn" onclick="toggle_simple();">（简洁模式？）</span></h3>
		<p>* 星号标记的为可选项。</p>
		<p>注意一定要记录努力值，必要时可以使用<em>降低努力值</em>树果。</p>
		<p><strong>神奇宝贝模式：</strong>神奇宝贝的等级越高，计算出的个体值越准确。如果在较低的等级计算，请尽量多填写可选的内容。<em>+等级</em> 和 <em>+努力值</em> 是指要计算出更精确的结果所需要的等级或努力值。</p>
		<p><em>神奇宝贝顶尖培育家</em>位于对战塔附近，可以告诉你神奇宝贝的全体能力和最高能力评价。多次交谈可以得知是否有相同的最高能力。</p>
		<p>使用神奇糖果将神奇宝贝提升到等级 20，就可以得到 100% 准确的能力值，在使用之前记得存档。</p>
	<div class="ext">
		<p><strong>队伍模式：</strong>可以一次计算多个神奇宝贝的个体值。</p>
		<p><strong>单行模式：</strong>可以计算多个神奇宝贝的个体并分别查看。</p>
	<h3>能力值计算</h3><p>使用<em>平均个体值</em>，努力值来准确计算出特定等级下神奇宝贝的能力值。</p>
	<h3>催醒计算</h3>
		<p>催醒的属性和威力取决于神奇宝贝的个体值。</p>
		<p>使用个体值分布（或平均个体值）可以得到所有可能的组合。</p>
		<p>位于游乐场兑奖屋（白金：帷幕市，心金魂银：彩虹市）的<em>催醒大叔</em>可以告诉你准确的属性，前作中可以变隐龙对战。</p>
	<h3>努力值训练</h3><dl>
		<p><strong>努力值追踪：</strong>取消选择选中的一行可以进入追踪模式，选择相应的道具、对手的神奇宝贝和数量来计算得到的努力值。</p>
		<p><strong>努力值计算：</strong>首先计算出神奇宝贝的能力值，然后改变<em>第一行</em>中的能力值，然后得出到达特定的能力值尚需的努力值。</p>
	</dl>
	</div>
</div></td>
</tr>
<tr><td class="primary">
<p class="center">任何问题或 Bug 报告请<a class="tooltip" id="contact" href="http://www.legendarypokemon.net/contact?topic=IV%20Calculator" title="在报告 Bug 之前请点击 [保存]。">联系这里</a>，和中文版有关的问题请<a class="tooltip" href="mailto:imudkip@me.com" title="imudkip(AT)me.com">致信</p>
</td>
<td class="secondary"><a href="http://www.legendarypokemon.net">LegendaryPokemon.net</a> 出品
</td></tr>
</table>
</div><!-- end documentation -->

</div> <!-- end calculator --> <!-- Stop here if you want to include this in your page -->
</body>
</html>