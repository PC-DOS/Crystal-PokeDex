<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!--
This program has been written by Heracles Papatheodorou a.k.a Arty2, webmaster of LegendaryPKMN.net
You can contact the author via email: contact {at} LegendaryPKMN {dot} net

Please pardon the code mess that follows since it's always a work in progress :]
Be my guest if you think you can improve one of the following algorithms; I am not a programmer by profession.
I tried to provide subtle documentation here and there; the complex parts are at least covered.
Source is uncompressed, for educational (?) purposes.


The latest version of this program can always be found at https://legendarypkmn.github.io/ivcalcsm.html
-->
<title>太阳／月亮 个体值与能力计算器 - 52Poké.com</title>
<meta name="Author" content="Heracles Papatheodorou" />
<meta name="keywords" content="Pokemon, IVs, IV, Calculator, Individual, Values, Stats, Stat, Hidden Power" />
<meta name="description" content="This IV Calculator / Stat Calculator / Hidden Power Calculator aims to help Pokemon trainers calculate the attributes of their Pokemon." />
<link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFFJREFUOMu1kjEOACAIA/ng/f87Lo4WimgTo4M9G0vEWexlCbG3hDiPE5A81E5DcVeaEJ9KBcAAxFdABsFtBSOJVV0KYAq46Zuno2xNl2tsmxeYhhbdfJzuqAAAAABJRU5ErkJggg==" />
<style title="default" media="all" type="text/css">
body {
	background: #b5bdb9;
	margin: 0;
	padding: 0;
	text-align: center;
}
#calculator * { /* global styles */
	font: 12px Verdana, Geneva, Kalimati, sans-serif;
	-moz-border-radius: 3px;
	-webkit-border-radius: 3px; -webkit-background-clip: padding-box !important;
	border-radius: 3px;
	border-color: inherit;
	line-height: 14px;
	margin: 0;
	padding: 0;
}
#calculator {
	background: #b5bdb9;
	border-bottom: 1px dotted; /* remove this when including */
	border-color: #838986; /* universal border color */
	color: #3e4340;
	padding-top: 15px;
	text-align: center;
	/*text-shadow: #b5bdb9 1px 1px 0px;
	text-shadow: rgba(255, 255, 255, 0.5) 1px 1px 0px;*/
}
#calculator ::-moz-selection { background:#e4287c; color:#fff; }
#calculator ::selection { background:#e4287c; color:#fff; }
#calculator strong { font-weight: bold !important; }
#calculator em { font-style: italic !important; }
#calculator img { border: none; }
#calculator input, #calculator select {
	background-color: #fff;
	border: 1px solid;
	border-color: #737b76; /* universal input color */
	color: #000;
	padding: 1px;
	text-align: right;
	text-shadow: none;
	-moz-transition: border-color 0.2s ease-in-out;
	-webkit-transition: border-color 0.2s ease-in-out;
	-o-transition: border-color 0.2s ease-in-out;
	transition: border-color 0.2s ease-in-out;
}
#calculator select {
	height: 18px;
	text-align: left;
	width: 100%;
}
#calculator optgroup {
	font-weight: bold;
	margin: 4px 0 0 0;
}
#calculator option { padding: 0 0 0 4px; }
#calculator #pot1 { height: auto; }
#calculator input:focus, #calculator select:focus {
	outline: 3px double #e4287c;
	border-color: #fff;
	-moz-border-radius: 0 !important;
	-webkit-border-radius: 0 !important;
	border-radius: 0 !important;
	position: relative;
	text-decoration: none;
}
#calculator .radio {
	-moz-border-radius: 10px !important;
	-webkit-border-radius: 10px !important;
	border-radius: 10px !important;
}
#calculator a {
	color: inherit;
	font-style: italic;
	text-decoration: none;
}
#calculator table {
	border-collapse: collapse;
	border-spacing: 0;
	table-layout: fixed;
	width: 100%;
}
#calculator td {
	padding: 3px;
	text-align: center;
	}
#calculator dt, #calculator #documentation h3 {
	font-weight: bold !important;
	text-align: left;
}
#calculator p, #calculator dd {
	text-align: left;
	margin: 3px 0 3px 15px !important;
}
#calculator h1 {
	font: small-caps bold 15px sans-serif !important;
	margin: 3px;
}
#calculator h2 {
	border-bottom: 1px dotted;
	font: bold 12px Verdana, Geneva, Kalimati, sans-serif;
	text-align: left;
	text-transform: uppercase;
}
#calculator h3 {
	border-bottom: 1px dotted;
	font: small-caps bold 12px Verdana, Geneva, Kalimati, sans-serif;
}
#calculator #documentation h3 { margin: 5px 0 0 0; }
#calculator #documentation h2 { margin: 10px 0 3px 0; }
#calculator h4 {
	font: bold 12px Arial, sans-serif;
	text-align: right !important;
}
#calculator #head td { vertical-align: middle; }
#calculator #documentation td { padding: 0 5px !important; }
#calculator #documentation a { text-shadow: 1px 1px 2px #3e4340; color: #fff; }
#calculator #documentation a:hover { color: #e4287c; }
#toggleinstructions, #togglehistory, #toggleinfo, .button, .btn { cursor: pointer; }
#status { cursor: text;	}
#controls {
	border-top: 2px dotted;
	border-color: inherit;
}
#bar {
	border-bottom: 2px solid;
	border-top: 1px dashed;
	border-color: inherit;
}
#nickname {
	background: none !important;
	color: #3e4340 !important;
	border-style: dotted !important;
}
#calculator .loading {
	background: url('data:image/png;base64,R0lGODlhDwAPAIABAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJGQABACwAAAAADwAPAAACGoyPqQGLzQx00c0q6aU47c+F4vaImheS5lEAACH5BAkZAAEALAAAAAAPAA8AAAIZjI+pAYv9nIwOzjutAbxrDFLLF24JeZZLAQAh+QQJGQABACwAAAAADwAPAAACGIyPqQGL/ZyMDs47rdGs4i1pYnhBZvlJBQAh+QQFGQABACwAAAAADwAPAAACGYyPqQGL/ZyMDs47gd7WdAxSyxd6CXmWSwEAOw==') 50% 100% no-repeat;
	display: inline-block;
	padding: 0 0 25px 0;
}
#calculator .button {
	background: #ced2d0 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAWCAYAAAABxvaqAAAAGUlEQVQY02P8////GUYg8YxkogFOMBBLAACNTUydrXmzbAAAAABJRU5ErkJggg==') 50% 50% repeat-x;
	border: 2px solid;
	color: #606762;
	font-size: 12px;
	font-weight: bold;
	height: 25px;
	text-align: center;
	text-shadow: 1px 1px 1px #fff;
	width: 100%;
}
#calculator .button:focus, #calculator .button:active {
	background-image: none;
	border-color: #e4287c;
}
#calculator input:disabled {
	background: none;
	border-width: 1px;
	border-style: dashed;
	box-shadow: none !important;
	text-shadow: none !important;
}
#calculator .button:hover { border-color: #e4287c; }
#calculator .btn { font-weight: bold !important; }
#calculator .block {
	border: 2px solid;
	border-color: inherit;
	background: #9aa7a0; /* primary color */
	margin: 0 auto 20px auto !important;
	width: 750px;
}
#calculator .primary {
	border-right: 2px solid;
	border-color: inherit;
	vertical-align: top;
	width: 57% !important;
}
#calculator .secondary {
	background: #8e9892; /* secondary color */
	border-color: inherit;
	vertical-align: top;
	}
#calculator .top { vertical-align: top !important; }
#calculator .left { text-align: left !important; }
#calculator .center {
	text-align: center !important;
	vertical-align: middle !important;
}
#calculator .right {
	text-align: right !important;
	vertical-align: top !important;
	padding-right: 6px !important;
}
#calculator #tooltip {
	background: #eee;
	border-radius: 3px; -moz-border-radius: 3px; -webkit-border-radius: 3px; -webkit-background-clip: padding-box !important;
	box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); -moz-box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); -webkit-box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5);
	color: #777;
	display: none;
	font-size: 9px;
	margin: 0 30px;
	padding: 3px;
	text-align: left;
	text-shadow: none;
	position: absolute;
	z-index: 1000;
}
#calculator .error {
	color: #f00 !important;
	border-color: #f00 !important;
	font-weight: bold !important;
	text-shadow: rgba(0, 0, 0, 0.5) 1px 1px 1px !important;
}
#calculator .ok {
	color: #8d6 !important;
	font-weight: bold !important;
	text-shadow: rgba(0, 0, 0, 0.5) 1px 1px 1px !important;
}
#calculator .new {
	background: #eee;
	color: #000;
}
#calculator #sprite img {
	/*image-rendering: pixelated;*/
	max-height: 120px;
	max-width: 120px;
}

/* SPP Theme */
.spp { background: #383838 !important; }
.spp * { border-color: #404040 !important; text-shadow: none !important; }
.spp ::-moz-selection { background:#cb7 !important; color:#444 !important; }
.spp ::selection { background:#cb7 !important; color:#444 !important; }
.spp #documentation a { border-bottom: 1px solid #cb7 !important; }
.spp #documentation a:hover { color: #cb7 !important; }
.spp #bar, .spp #controls { border: none; }
.spp table { border-collapse: separate !important; border-spacing: 3px !important; }
.spp .block, .spp .primary, .spp #documentation .secondary { background: #404040 !important; border: none; color: #fff !important; }
.spp .secondary { background: #6f9a4c !important; color: #444; border-radius: 5px !important; }
.spp input, .spp select { background: #cb7 !important; border-color: #3b3b3b !important; color: #444 !important; }
.spp input:focus, .spp select:focus { outline: 3px solid #8d6 !important; border-color: #8d6 !important; -moz-border-radius: 0 !important; -webkit-border-radius: 0 !important; border-radius: 0 !important; text-decoration: none; position: relative; }
.spp .button:hover { border-color: #8d6 !important; color: #000 !important; }
.spp .button:disabled { background: none !important; }
.spp .new { background: #ba6 !important; }

/* isotope Theme */
.isotope { background: #4c7da2 !important; }
.isotope * { border-color: #f0f0f0 !important;	color: #2d2e2f !important; text-shadow: none !important; }
.isotope ::-moz-selection { color: #000 !important;	  background: #b6d796 !important; }
.isotope ::selection  { color: #000 !important;  background: #b6d796!important; }
.isotope #documentation a { color: #47a4fb !important; }
.isotope #documentation a:hover { color: #b5d594 !important; }
.isotope table { border-collapse: separate !important; border-spacing: 3px !important; }
.isotope .block { background: #f0f0f0 !important; border: 4px solid #f0f0f0 !important; border-radius: 3px; -moz-border-radius: 3px; -webkit-border-radius: 3px; box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); -moz-box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); -webkit-box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); }
.isotope .primary { background: #f0f0f0 !important; }
.isotope .secondary { background: #e9e9e9 !important; border: 2px solid #e9e9e9 !important; border-radius: 5px !important; -moz-border-radius: 4px; -webkit-border-radius: 4px; }
.isotope #bar { background: #b6d796 !important; border: 2px solid #aacd8b !important; border-radius: 5px !important; -moz-border-radius: 4px; -webkit-border-radius: 4px; }
.isotope input, .isotope select { border-color: #d6d6d6 !important; color: #000 !important; }
.isotope #controls { border: none !important; background: none !important;  }
.isotope .button { background: #dfdfdf !important; border-color: #888 !important; color: #555 !important; }
.isotope input:focus, .isotope select:focus { outline: 3px double #b5d594 !important; border-color: #47a4fb !important; -moz-border-radius: 0 !important; -webkit-border-radius: 0 !important; border-radius: 0 !important; text-decoration: none; position: relative; }
.isotope .button:hover { border-color: #47a4fb !important; color: #000 !important; }
.isotope input:disabled { background: none !important; }
.isotope h1, .isotope h2, .isotope h3 { border: none !important; font-family: Century Gothic, Andale Mono, Futura, sans-serif !important; }

/* Simplex Theme */
.simplex .ext { display: none; }
/* td { outline: 1px dotted red !important; }  *//* DEBUG */

</style>
<style media="print" type="text/css">
#calculator * {
	background: #fff;
	border: none !important;
	box-shadow: 0px 0px 0px #ffffff !important; -moz-box-shadow: 0px 0px 0px #ffffff !important; -webkit-box-shadow: 0px 0px 0px #ffffff !important;
	color: #000 !important;
	text-shadow: none !important;
	}
#calculator #head {
	border-bottom: 3px solid #000 !important;
	padding-bottom: 1em;
}
#calculator .block { width: 100%; }
#calculator #controls, #documentation, #btn-addeps, #times, #name, #charn { display: none; }
#calculator h2 { border-bottom: 1px solid #000 !important; }
</style>
<style type="text/css" id="thema">/* required for the "Colorize" functionality */</style>
</head>
<body>
<div id="calculator"> <!-- Start here if you want to include this in your page -->
<script type="text/javascript">
<!--//--><![CDATA[//><!--
/* Generic functions */

function $() {
	var elements = [];
	for (var i=0, j=arguments.length; i < j; i++) {
		var element = arguments[i];
		if (typeof element == 'string')
			element = document.getElementById(element);
		if (j == 1)
			return element;
		elements.push(element);
	}
	return elements;
}
function $c(classname, node) { //Get elements by class
	if(!node) node = document.getElementsByTagName('body')[0];
	var a = [];
	var re = new RegExp('\\b' + classname + '\\b');
	var els = node.getElementsByTagName("*");
	for(var i=0, j=els.length; i<j; i++)
		if(re.test(els[i].className))a.push(els[i]);
	return a;
}
function event_add(obj,type,fn) {
	if (obj.addEventListener)	obj.addEventListener(type,fn,false );
	else if (obj.attachEvent) {
		obj["e"+type+fn] = fn;
		obj.attachEvent( "on"+type, function() { obj["e"+type+fn](); } );
	}
}
function event_del(obj,type,fn) {
	if (obj.removeEventListener) obj.removeEventListener(type,fn,false);
	else if (obj.detachEvent) {
		obj.detachEvent( "on"+type, obj["e"+type+fn] );
		obj["e"+type+fn] = null;
	}
}
function cookie_create(name,value,days) {
	if (location.protocol == 'data:') { return null; } //prevents security errors
	if (days) {
		var date = new Date();
		date.setTime(date.getTime()+(days*24*60*60*1000));
		var expires = '; expires='+date.toGMTString();
	}
	else var expires = '';
	document.cookie = name+'='+value+expires+'; path=/';
}
function cookie_read(name) {
	if (location.protocol == 'data:') { return null; }
	var name = name+'=', ca = document.cookie.split(';');
	for(var i=0, j=ca.length;i < j;i++) {
		var c = ca[i];
		while (c.charAt(0)==' ') c = c.substring(1,c.length);
		if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
	}
	return null;
}
function toggle(el) {
	if ( el.style.display != 'none' ) { el.style.display = 'none'; }
	else { el.style.display = ''; }
}
function autocomplete(field,select,property,forcematch) { // <input/> -> <select>
	var f = false;
	for (var i=0, j=select.options.length; i < j; i++) {
		if (select.options[i][property].toUpperCase().indexOf(field.value.toUpperCase()) == 0) {
			f=true; break;
		}
	}
	if (forcematch && !f) {
		field.value = field.value.slice(0,field.value.length-1);
		autocomplete(field,select,property,forcematch);
		return false;
	}
	if (f) { select.selectedIndex = i; }
	else { select.selectedIndex = 0; }
}
function vv(e,min,max,evt,r)  {  //Field Value Validation (numeric only)
	if (r != undefined && $('act-'+r).checked == 0) { row_act(r); }
	if ($(e).title == '') {
		$(e).autocomplete = 'off';
		$(e).title = '('+min+' - '+max+') Use up/down arrow keys to increase/decrease.';
	}
	var r = $(e).id.split('-')[1], v = $(e).value;
	var k = window.event?event.keyCode:evt.keyCode; // alert(k); //DEBUG
	switch(k) {
		case 9: return false; break; //tab
		case 8: return false; break; //backspace
		case 46: return false; break; //delete
		case 13: calc_ivs((mode==2 && act>-1?act:0)); break; //enter
		case 38: //Up key, increase
			$(e).value = v<max?(1*v)+1:v;
		break;
		case 40: //Down key, decrease
			$(e).value = v>min?(1*v)-1:v;
		break;
		default:
			$(e).value = isNaN(v)?min:Math.min(v,max);
	}
}
function tooltips() { // inspired by http://qrayg.com/learn/code/qtip
	if (!$('tooltip')) { var e = el_add($('calculator'),'div',{className:'a',id:'tooltip'});
		event_add(document, "mousemove", function(evt) {
			var de = document.documentElement;
			$('tooltip').style.left = (document.all?((de && de.scrollLeft)?de.scrollLeft:document.body.scrollLeft)+window.event.clientX:evt.pageX)+'px';
			$('tooltip').style.top = (document.all?((de && de.scrollTop)?de.scrollTop:document.body.scrollTop)+window.event.clientY:evt.pageY)+'px';
		});
	}
	var elements = $c('tooltip');
	var  i=elements.length-1; do {
		var e = elements[i];
				if(e.title && !e.tooltip) {
					e.tooltip = e.title;
					e.title = ''; e.alt = ''; //prevent default behaviour
					event_add(e, "mouseover", function() { $('tooltip').innerHTML = this.tooltip; $('tooltip').style.display = 'block'; });
					event_add(e, "mouseout", function() { $('tooltip').innerHTML = ''; $('tooltip').style.display = 'none'; });
				}
	} while(i--);
}
function el_add(el,tag,attr,txt) { //Appends element - el_add(el,'div',{className:'a',id:'b'},'text');
	var i='',e=document.createElement(tag);
	if (attr) {
		for (i in attr) {
			e[i] = attr[i];
		}
	}
	e.innerHTML = txt || '';
	el.appendChild(e);
	return e;
}
function el_del(el) { //Removes all element children of el
	while (el.firstChild) {
		el.removeChild(el.firstChild);
	}
	return this;
}
function array_intersect(a, b) { //arrays must be sorted, a and b are destructed afterwards
	var r=[];
	while( a.length > 0 && b.length > 0 ) {
		if (a[0] < b[0] ){ a.shift(); }
		else if (a[0] > b[0] ){ b.shift(); }
		else {
			r.push(a.shift());
			b.shift();
		}
	}
	return r;
}
if (!Array.prototype.map) {
	Array.prototype.map = function(fn, thisObj) {
		var scope = thisObj || window;
		var a = [];
		for (var i=0, j=this.length; i < j; ++i) {
			a.push(fn.call(scope, this[i], i, this));
		}
		return a;
	};
}
if (!Array.prototype.indexOf) {
	Array.prototype.indexOf = function(el, start) {
		var start = start || 0;
		for (var i=0, j=this.length; i < j; ++i) { //rewrite using while do?
			if (this[i] === el ) {
				return i;
			}
		}
		return -1;
	};
}
Array.prototype.sum = function() {
	var sum=0,i=this.length-1; do {
		sum += this[i];
	} while(i--);
	return sum;
};
Array.prototype.sortnum = function() {
   return this.sort( function (a,b) { return a-b; } );
};
Array.prototype.style = function(p,v) {
	var i=this.length-1; do {
		this[i].style[p] = v;
	} while(i--);
};
Array.prototype.unique = function() {
	var a = [];
	var l = this.length;
	for(var i=0; i<l; i++) {
		for(var j=i+1; j<l; j++) {
			if (this[i] === this[j])
				j = ++i;
		}
		a.push(this[i]);
	}
	return a;
};

/* Pokemon Data and retrieval functions */
//Pokemon Name:Number - email the author for a precompiled list of the names in other languages
pkmns = '妙蛙种子:1|妙蛙草:2|妙蛙花:3|小火龙:4|火恐龙:5|喷火龙:6|杰尼龟:7|卡咪龟:8|水箭龟:9|绿毛虫:10|铁甲蛹:11|巴大蝶:12|独角虫:13|铁壳蛹:14|大针蜂:15|波波:16|比比鸟:17|大比鸟:18|小拉达:19|拉达:20|烈雀:21|大嘴雀:22|阿柏蛇:23|阿柏怪:24|皮卡丘:25|雷丘:26|穿山鼠:27|穿山王:28|尼多兰:29|尼多娜:30|尼多后:31|尼多朗:32|尼多力诺:33|尼多王:34|皮皮:35|皮可西:36|六尾:37|九尾:38|胖丁:39|胖可丁:40|超音蝠:41|大嘴蝠:42|走路草:43|臭臭花:44|霸王花:45|派拉斯:46|派拉斯特:47|毛球:48|摩鲁蛾:49|地鼠:50|三地鼠:51|喵喵:52|猫老大:53|可达鸭:54|哥达鸭:55|猴怪:56|火暴猴:57|卡蒂狗:58|风速狗:59|蚊香蝌蚪:60|蚊香君:61|蚊香泳士:62|凯西:63|勇基拉:64|胡地:65|腕力:66|豪力:67|怪力:68|喇叭芽:69|口呆花:70|大食花:71|玛瑙水母:72|毒刺水母:73|小拳石:74|隆隆石:75|隆隆岩:76|小火马:77|烈焰马:78|呆呆兽:79|呆壳兽:80|小磁怪:81|三合一磁怪:82|大葱鸭:83|嘟嘟:84|嘟嘟利:85|小海狮:86|白海狮:87|臭泥:88|臭臭泥:89|大舌贝:90|刺甲贝:91|鬼斯:92|鬼斯通:93|耿鬼:94|大岩蛇:95|催眠貘:96|引梦貘人:97|大钳蟹:98|巨钳蟹:99|霹雳电球:100|顽皮雷弹:101|蛋蛋:102|椰蛋树:103|卡拉卡拉:104|嘎啦嘎啦:105|飞腿郎:106|快拳郎:107|大舌头:108|瓦斯弹:109|双弹瓦斯:110|独角犀牛:111|钻角犀兽:112|吉利蛋:113|蔓藤怪:114|袋兽:115|墨海马:116|海刺龙:117|角金鱼:118|金鱼王:119|海星星:120|宝石海星:121|魔墙人偶:122|飞天螳螂:123|迷唇姐:124|电击兽:125|鸭嘴火兽:126|凯罗斯:127|肯泰罗:128|鲤鱼王:129|暴鲤龙:130|拉普拉斯:131|百变怪:132|伊布:133|水伊布:134|雷伊布:135|火伊布:136|多边兽:137|菊石兽:138|多刺菊石兽:139|化石盔:140|镰刀盔:141|化石翼龙:142|卡比兽:143|急冻鸟:144|闪电鸟:145|火焰鸟:146|迷你龙:147|哈克龙:148|快龙:149|超梦:150|梦幻:151|菊草叶:152|月桂叶:153|大竺葵:154|火球鼠:155|火岩鼠:156|火暴兽:157|小锯鳄:158|蓝鳄:159|大力鳄:160|尾立:161|大尾立:162|咕咕:163|猫头夜鹰:164|芭瓢虫:165|安瓢虫:166|圆丝蛛:167|阿利多斯:168|叉字蝠:169|灯笼鱼:170|电灯怪:171|皮丘:172|皮宝宝:173|宝宝丁:174|波克比:175|波克基古:176|天然雀:177|天然鸟:178|咩利羊:179|茸茸羊:180|电龙:181|美丽花:182|玛力露:183|玛力露丽:184|树才怪:185|蚊香蛙皇:186|毽子草:187|毽子花:188|毽子棉:189|长尾怪手:190|向日种子:191|向日花怪:192|蜻蜻蜓:193|乌波:194|沼王:195|太阳伊布:196|月亮伊布:197|黑暗鸦:198|呆呆王:199|梦妖:200|未知图腾:201|果然翁:202|麒麟奇:203|榛果球:204|佛烈托斯:205|土龙弟弟:206|天蝎:207|大钢蛇:208|布鲁:209|布鲁皇:210|千针鱼:211|巨钳螳螂:212|壶壶:213|赫拉克罗斯:214|狃拉:215|熊宝宝:216|圈圈熊:217|熔岩虫:218|熔岩蜗牛:219|小山猪:220|长毛猪:221|太阳珊瑚:222|铁炮鱼:223|章鱼桶:224|信使鸟:225|巨翅飞鱼:226|盔甲鸟:227|戴鲁比:228|黑鲁加:229|刺龙王:230|小小象:231|顿甲:232|多边兽Ⅱ:233|惊角鹿:234|图图犬:235|无畏小子:236|战舞郎:237|迷唇娃:238|电击怪:239|鸭嘴宝宝:240|大奶罐:241|幸福蛋:242|雷公:243|炎帝:244|水君:245|幼基拉斯:246|沙基拉斯:247|班基拉斯:248|洛奇亚:249|凤王:250|时拉比:251|木守宫:252|森林蜥蜴:253|蜥蜴王:254|火稚鸡:255|力壮鸡:256|火焰鸡:257|水跃鱼:258|沼跃鱼:259|巨沼怪:260|土狼犬:261|大狼犬:262|蛇纹熊:263|直冲熊:264|刺尾虫:265|甲壳茧:266|狩猎凤蝶:267|盾甲茧:268|毒粉蛾:269|莲叶童子:270|莲帽小童:271|乐天河童:272|橡实果:273|长鼻叶:274|狡猾天狗:275|傲骨燕:276|大王燕:277|长翅鸥:278|大嘴鸥:279|拉鲁拉丝:280|奇鲁莉安:281|沙奈朵:282|溜溜糖球:283|雨翅蛾:284|蘑蘑菇:285|斗笠菇:286|懒人獭:287|过动猿:288|请假王:289|土居忍士:290|铁面忍者:291|脱壳忍者:292|咕妞妞:293|吼爆弹:294|爆音怪:295|幕下力士:296|铁掌力士:297|露力丽:298|朝北鼻:299|向尾喵:300|优雅猫:301|勾魂眼:302|大嘴娃:303|可可多拉:304|可多拉:305|波士可多拉:306|玛沙那:307|恰雷姆:308|落雷兽:309|雷电兽:310|正电拍拍:311|负电拍拍:312|电萤虫:313|甜甜萤:314|毒蔷薇:315|溶食兽:316|吞食兽:317|利牙鱼:318|巨牙鲨:319|吼吼鲸:320|吼鲸王:321|呆火驼:322|喷火驼:323|煤炭龟:324|跳跳猪:325|噗噗猪:326|晃晃斑:327|大颚蚁:328|超音波幼虫:329|沙漠蜻蜓:330|刺球仙人掌:331|梦歌仙人掌:332|青绵鸟:333|七夕青鸟:334|猫鼬斩:335|饭匙蛇:336|月石:337|太阳岩:338|泥泥鳅:339|鲶鱼王:340|龙虾小兵:341|铁螯龙虾:342|天秤偶:343|念力土偶:344|触手百合:345|摇篮百合:346|太古羽虫:347|太古盔甲:348|丑丑鱼:349|美纳斯:350|飘浮泡泡:351|变隐龙:352|怨影娃娃:353|诅咒娃娃:354|夜巡灵:355|彷徨夜灵:356|热带龙:357|风铃铃:358|阿勃梭鲁:359|小果然:360|雪童子:361|冰鬼护:362|海豹球:363|海魔狮:364|帝牙海狮:365|珍珠贝:366|猎斑鱼:367|樱花鱼:368|古空棘鱼:369|爱心鱼:370|宝贝龙:371|甲壳龙:372|暴飞龙:373|铁哑铃:374|金属怪:375|巨金怪:376|雷吉洛克:377|雷吉艾斯:378|雷吉斯奇鲁:379|拉帝亚斯:380|拉帝欧斯:381|盖欧卡:382|固拉多:383|烈空坐:384|基拉祈:385|代欧奇希斯:386|草苗龟:387|树林龟:388|土台龟:389|小火焰猴:390|猛火猴:391|烈焰猴:392|波加曼:393|波皇子:394|帝王拿波:395|姆克儿:396|姆克鸟:397|姆克鹰:398|大牙狸:399|大尾狸:400|圆法师:401|音箱蟀:402|小猫怪:403|勒克猫:404|伦琴猫:405|含羞苞:406|罗丝雷朵:407|头盖龙:408|战槌龙:409|盾甲龙:410|护城龙:411|结草儿:412|结草贵妇（草木）:413|绅士蛾:414|三蜜蜂:415|蜂女王:416|帕奇利兹:417|泳圈鼬:418|浮潜鼬:419|樱花宝:420|樱花儿:421|无壳海兔:422|海兔兽:423|双尾怪手:424|飘飘球:425|随风球:426|卷卷耳:427|长耳兔:428|梦妖魔:429|乌鸦头头:430|魅力喵:431|东施喵:432|铃铛响:433|臭鼬噗:434|坦克臭鼬:435|铜镜怪:436|青铜钟:437|盆才怪:438|魔尼尼:439|小福蛋:440|聒噪鸟:441|花岩怪:442|圆陆鲨:443|尖牙陆鲨:444|烈咬陆鲨:445|小卡比兽:446|利欧路:447|路卡利欧:448|沙河马:449|河马兽:450|钳尾蝎:451|龙王蝎:452|不良蛙:453|毒骷蛙:454|尖牙笼:455|荧光鱼:456|霓虹鱼:457|小球飞鱼:458|雪笠怪:459|暴雪王:460|玛狃拉:461|自爆磁怪:462|大舌舔:463|超甲狂犀:464|巨蔓藤:465|电击魔兽:466|鸭嘴炎兽:467|波克基斯:468|远古巨蜓:469|叶伊布:470|冰伊布:471|天蝎王:472|象牙猪:473|多边兽Ｚ:474|艾路雷朵:475|大朝北鼻:476|黑夜魔灵:477|雪妖女:478|洛托姆:479|由克希:480|艾姆利多:481|亚克诺姆:482|帝牙卢卡:483|帕路奇亚:484|席多蓝恩:485|雷吉奇卡斯:486|骑拉帝纳（别种）:487|克雷色利亚:488|霏欧纳:489|玛纳霏:490|达克莱伊:491|谢米（陆上）:492|阿尔宙斯:493|比克提尼:494|藤藤蛇:495|青藤蛇:496|君主蛇:497|暖暖猪:498|炒炒猪:499|炎武王:500|水水獭:501|双刃丸:502|大剑鬼:503|探探鼠:504|步哨鼠:505|小约克:506|哈约克:507|长毛狗:508|扒手猫:509|酷豹:510|花椰猴:511|花椰猿:512|爆香猴:513|爆香猿:514|冷水猴:515|冷水猿:516|食梦梦:517|梦梦蚀:518|豆豆鸽:519|咕咕鸽:520|高傲雉鸡:521|斑斑马:522|雷电斑马:523|石丸子:524|地幔岩:525|庞岩怪:526|滚滚蝙蝠:527|心蝙蝠:528|螺钉地鼠:529|龙头地鼠:530|差不多娃娃:531|搬运小匠:532|铁骨土人:533|修建老匠:534|圆蝌蚪:535|蓝蟾蜍:536|蟾蜍王:537|投摔鬼:538|打击鬼:539|虫宝包:540|宝包茧:541|保姆虫:542|百足蜈蚣:543|车轮球:544|蜈蚣王:545|木棉球:546|风妖精:547|百合根娃娃:548|裙儿小姐:549|野蛮鲈鱼（红条纹）:550|黑眼鳄:551|混混鳄:552|流氓鳄:553|火红不倒翁:554|达摩狒狒:555|沙铃仙人掌:556|石居蟹:557|岩殿居蟹:558|滑滑小子:559|头巾混混:560|象征鸟:561|哭哭面具:562|死神棺:563|原盖海龟:564|肋骨海龟:565|始祖小鸟:566|始祖大鸟:567|破破袋:568|灰尘山:569|索罗亚:570|索罗亚克:571|泡沫栗鼠:572|奇诺栗鼠:573|哥德宝宝:574|哥德小童:575|哥德小姐:576|单卵细胞球:577|双卵细胞球:578|人造细胞卵:579|鸭宝宝:580|舞天鹅:581|迷你冰:582|多多冰:583|双倍多多冰:584|四季鹿:585|萌芽鹿:586|电飞鼠:587|盖盖虫:588|骑士蜗牛:589|哎呀球菇:590|败露球菇:591|轻飘飘:592|胖嘟嘟:593|保姆曼波:594|电电虫:595|电蜘蛛:596|种子铁球:597|坚果哑铃:598|齿轮儿:599|齿轮组:600|齿轮怪:601|麻麻小鱼:602|麻麻鳗:603|麻麻鳗鱼王:604|小灰怪:605|大宇怪:606|烛光灵:607|灯火幽灵:608|水晶灯火灵:609|牙牙:610|斧牙龙:611|双斧战龙:612|喷嚏熊:613|冻原熊:614|几何雪花:615|小嘴蜗:616|敏捷虫:617|泥巴鱼:618|功夫鼬:619|师父鼬:620|赤面龙:621|泥偶小人:622|泥偶巨人:623|驹刀小兵:624|劈斩司令:625|爆炸头水牛:626|毛头小鹰:627|勇士雄鹰:628|秃鹰丫头:629|秃鹰娜:630|熔蚁兽:631|铁蚁:632|单首龙:633|双首暴龙:634|三首恶龙:635|燃烧虫:636|火神蛾:637|勾帕路翁:638|代拉基翁:639|毕力吉翁:640|龙卷云:641|雷电云:642|莱希拉姆:643|捷克罗姆:644|土地云:645|酋雷姆:646|凯路迪欧（平常）:647|美洛耶塔（歌声）:648|盖诺赛克特:649|哈力栗:650|胖胖哈力:651|布里卡隆:652|火狐狸:653|长尾火狐:654|妖火红狐:655|呱呱泡蛙:656|呱头蛙:657|甲贺忍蛙:658|掘掘兔:659|掘地兔:660|小箭雀:661|火箭雀:662|烈箭鹰:663|粉蝶虫:664|粉蝶蛹:665|彩粉蝶:666|小狮狮:667|火炎狮:668|花蓓蓓:669|花叶蒂:670|花洁夫人:671|坐骑小羊:672|坐骑山羊:673|顽皮熊猫:674|流氓熊猫:675|多丽米亚:676|妙喵:677|超能妙喵 &#9794;:678|独剑鞘:679|双剑鞘:680|坚盾剑怪:681|粉香香:682|芳香精:683|绵绵泡芙:684|胖甜妮:685|好啦鱿:686|乌贼王:687|龟脚脚:688|龟足巨铠:689|垃垃藻:690|毒藻龙:691|铁臂枪虾:692|钢炮臂虾:693|伞电蜥:694|光电伞蜥:695|宝宝暴龙:696|怪颚龙:697|冰雪龙:698|冰雪巨龙:699|仙子伊布:700|摔角鹰人:701|咚咚鼠:702|小碎钻:703|黏黏宝:704|黏美儿:705|黏美龙:706|钥圈儿:707|小木灵:708|朽木妖:709|南瓜精（普通）:710|南瓜怪人（普通）:711|冰宝:712|冰岩怪:713|嗡蝠:714|音波龙:715|哲尔尼亚斯:716|伊裴尔塔尔:717|基格尔德（５０％）:718|蒂安希:719|胡帕:720|波尔凯尼恩:721|木木枭:722|投羽枭:723|狙射树枭:724|火斑喵:725|炎热喵:726|炽焰咆哮虎:727|球球海狮:728|花漾海狮:729|西狮海壬:730|小笃儿:731|喇叭啄鸟:732|铳嘴大鸟:733|猫鼬少:734|猫鼬探长:735|强颚鸡母虫:736|虫电宝:737|锹农炮虫:738|好胜蟹:739|好胜毛蟹:740|花舞鸟（热辣热辣）:741|萌虻:742|蝶结萌虻:743|岩狗狗:744|鬃岩狼人（白昼）:745|弱丁鱼（单独）:746|好坏星:747|超坏星:748|泥驴仔:749|重泥挽马:750|滴蛛:751|滴蛛霸:752|伪螳草:753|兰螳花:754|睡睡菇:755|灯罩夜菇:756|夜盗火蜥:757|焰后蜥:758|童偶熊:759|穿着熊:760|甜竹竹:761|甜舞妮:762|甜冷美后:763|花疗环环:764|智挥猩:765|投掷猴:766|胆小虫:767|具甲武者:768|沙丘娃:769|噬沙堡爷:770|拳海参:771|属性：空:772|银伴战兽:773|小陨星（流星）:774|树枕尾熊:775|爆焰龟兽:776|托戈德玛尔:777|谜拟Ｑ:778|磨牙彩皮鱼:779|老翁龙:780|破破舵轮:781|心鳞宝:782|鳞甲龙:783|杖尾鳞甲龙:784|卡璞・鸣鸣:785|卡璞・蝶蝶:786|卡璞・哞哞:787|卡璞・鳍鳍:788|科斯莫古:789|科斯莫姆:790|索尔迦雷欧:791|露奈雅拉:792|虚吾伊德:793|爆肌蚊:794|费洛美螂:795|电束木:796|铁火辉夜:797|纸御剑:798|恶食大王:799|奈克洛兹玛:800|玛机雅娜:801|玛夏多:802|毒贝比:803|四颚针龙:804|垒磊石:805|砰头小丑:806|捷拉奥拉:807|代欧奇希斯（攻击）:386.1|代欧奇希斯（防御）:386.2|代欧奇希斯（速度）:386.3|结草贵妇（砂土）:413.1|结草贵妇（垃圾）:413.2|谢米（天空）:492.1|骑拉帝纳（起源）:487.1|洛托姆（加热）:479.1|洛托姆（清洗）:479.2|洛托姆（结冰）:479.3|洛托姆（旋转）:479.4|洛托姆（切割）:479.5|飘浮泡泡（太阳）:351.1|飘浮泡泡（雨水）:351.2|飘浮泡泡（雪云）:351.3|野蛮鲈鱼（蓝条纹）:550.1|达摩狒狒（达摩）:555.1|美洛耶塔（舞步）:648.1|酋雷姆（焰白）:646.1|酋雷姆（暗黑）:646.2|凯路迪欧（觉悟）:647.1|龙卷云（灵兽）:641.1|雷电云（灵兽）:642.1|土地云（灵兽）:645.1|花叶蒂（永恒）:670.1|超能妙喵 ♀:678.1|坚盾剑怪（刀剑）:681.1|南瓜精（小）:710.1|南瓜精（大）:710.2|南瓜精（特大）:710.3|南瓜怪人（小）:711.1|南瓜怪人（大）:711.2|南瓜怪人（特大）:711.3|妙蛙花（超级）:3.1|喷火龙（超级Ｘ）:6.1|喷火龙（超级Ｙ）:6.2|水箭龟（超级）:9.1|胡地（超级）:65.1|耿鬼（超级）:94.1|袋兽（超级）:115.1|凯罗斯（超级）:127.1|暴鲤龙（超级）:130.1|化石翼龙（超级）:142.1|超梦（超级Ｘ）:150.1|超梦（超级Ｙ）:150.2|电龙（超级）:181.1|巨钳螳螂（超级）:212.1|赫拉克罗斯（超级）:214.1|黑鲁加（超级）:229.1|班基拉斯（超级）:248.1|火焰鸡（超级）:257.1|沙奈朵（超级）:282.1|大嘴娃（超级）:303.1|波士可多拉（超级）:306.1|恰雷姆（超级）:308.1|雷电兽（超级）:310.1|诅咒娃娃（超级）:354.1|阿勃梭鲁（超级）:359.1|拉帝亚斯（超级）:380.1|拉帝欧斯（超级）:381.1|烈咬陆鲨（超级）:445.1|路卡利欧（超级）:448.1|暴雪王（超级）:460.1|大针蜂（超级）:15.1|大比鸟（超级）:18.1|呆壳兽（超级）:80.1|大钢蛇（超级）:208.1|蜥蜴王（超级）:254.1|巨沼怪（超级）:260.1|勾魂眼（超级）:302.1|巨牙鲨（超级）:319.1|喷火驼（超级）:323.1|七夕青鸟（超级）:334.1|冰鬼护（超级）:362.1|暴飞龙（超级）:373.1|巨金怪（超级）:376.1|盖欧卡（原始回归）:382.1|固拉多（原始回归）:383.1|烈空坐（超级）:384.1|长耳兔（超级）:428.1|艾路雷朵（超级）:475.1|差不多娃娃（超级）:531.1|蒂安希（超级）:719.1|胡帕（解放）:720.1|小拉达（阿罗拉）:19.1|拉达（阿罗拉）:20.1|雷丘（阿罗拉）:26.1|穿山鼠（阿罗拉）:27.1|穿山王（阿罗拉）:28.1|六尾（阿罗拉）:37.1|九尾（阿罗拉）:38.1|地鼠（阿罗拉）:50.1|三地鼠（阿罗拉）:51.1|喵喵（阿罗拉）:52.1|猫老大（阿罗拉）:53.1|小拳石（阿罗拉）:74.1|隆隆石（阿罗拉）:75.1|隆隆岩（阿罗拉）:76.1|臭泥（阿罗拉）:88.1|臭臭泥（阿罗拉）:89.1|椰蛋树（阿罗拉）:103.1|嘎啦嘎啦（阿罗拉）:105.1|甲贺忍蛙（小智）:658.1|基格尔德（１０％）:718.1|基格尔德（完全体）:718.2|花舞鸟（啪滋啪滋）:741.1|花舞鸟（呼拉呼拉）:741.2|花舞鸟（轻盈轻盈）:741.3|鬃岩狼人（黑夜）:745.1|弱丁鱼（鱼群）:746.1|小陨星（核心）:774.1|鬃岩狼人（黄昏）:745.2|奈克洛兹玛（黄昏之鬃）:800.1|奈克洛兹玛（拂晓之翼）:800.2|奈克洛兹玛（究极）:800.3';

//Compressed Pokemon data: HP/ATK/DEF/SP.ATK/SP.DEF/SPD/Type1/Type2/Egg1/Egg2/EPs2/EPs1 - national order + forms
pkmn='            3vv//3.*#< #)SP00).*#< !0sW440.*#< 9νY`)(/;;#AB QBQ0/0;;#AB#VyVγ84;&#A *UJ/(B`""#&> kP0/0Q""#&>$cW48CV""#& 63?@II399**# (I1MM?99**H )3(50,9&** 92@?II(9***B 3M(MM@9***H /523079***-$232@@a &$$B P)1((e &$$F W07,,ι &$$z ?a@M@R  !!B 1m)(,|  !!F 2)?ΑΑ, &$$B /5/dd4 &$$F @)U2t1**!A$ ):l/c0**!A- @12((566!9F )5150D66!9z (78I?2$$!!> 74D31/$$!!H 1ζY22q**#!# ,SX11a**++& 5iη78^*$++* βj222(**#!$ dRj11/**#!- mΓ]878*$#!6 ,3J)/@GG99& :,g:5)GG99* nq2(//;;!!B g^7m44;;!!B$K3I3MI G99& _,38(3 G99* 23@?21*&$$B 70,/75*&$$F 3(17/?.*<< #)/,872.*<< &708D5(.*<< *@,131M9.*<$ ):0)0?9.*<ρ )1(2139*** $,/)5759***B#"1M@3:$$!!B @4((,E$$!!F 23@225  !!B /,)//K  !!F (YJ/(1""&! #0sV:08""&! &20@@3,##!!$ /C)),:##!!- 1,3,();;!!$ 5D040:;;!!- 2(2225""&&B ///((5""&&F 5::,5,"#&&J MI+C15==-- #2@?E,C==-- &1(3Z:E==-- *,0(@@@##--$ 04,()3##--- 5L0/81##--6 (7@,?2.*<<$ /5(831.*<<- 0C/4,,.*<<6 22@(4,"*;; $0,/0E4"*;; -204??I!$""> 1:K33@!$""H 0EL1/3!$""J (81//5;;!!B /4,00C;;!!F 5//22+"=#&# :7D40?"=#&H M@,:136-"" #():E,,6-"" &Y51QS) &$!$ @83@@7 &$$$ )D,))D &$$- /313,3""&! $5,0,:,"A&! -00(2(M**..# CC7/4(**..! ?/43M2"";;> (:δ83,"A;;H ?@?4@0<*.. #3(3K1:<*.. &)/)L7D<*.. *@3u?3,!$""> )J3`5f==-- $8g,gKX==-- -?C5MM("";;$ 1LK((7"";;- 2?(11466""B )(,00O66""F )20)32.=<<> ::8N71.=<< &((:2(@$$##> )0D(03$$##H (Eh@Dη##--- (Cc@D^##-- -517)7?  ##& 2/:)3@**..> /5E8,)**..H 08:??M$!#!> CLE332$!#!- ά!!@C(  99& /1K42)..<<> C:0205  ##& ?2,,M)""&A #1/::38""&A>#3X)@(P""66$ 0i//0T""66- ?31,18"";;B )7848K"=;;F 23/4E5=G-- -,D010C9&**$ /(@K::A=-- &/Wj:8C66--F /:j48Ι;;-- &/N41,899**- 74:2,D  !!T I"1+I0""6AB :Nc)4m"&6A- L808:)"A#&& JJJJJJ  ==# 11(3/1  !! $L/)D:/""!!& //)D:L66!!F /L):D/;;!!- /),872  "" #@2451@!"&;> ,)NK,1!"&;H ?05131!"&;> )KC/,0!"&;- 0C/)7L!&$$F uD//D?  ##& 584:N8A&++ 6558N546&++ *545N85;&++ *qB3(((++&A$ dy/,,,++&A- oΥ:440+&&A6 }D5Θ5L==++ *444444==++* 3v/v/3..#< $)S0P0)..#<>$0s4W40..#<>-νY`)(/;;!!B QBQ0/0;;!!B#VyVγ84;;!! *(/BUJ`""#&$ /00kPQ""#&I 8C4cWV""#&ρ @βΒ@3I  !!$ 8^B315  !!F )??%a( &$$# 4(([Τ, &$$& 2I?2019&** $1@(1D89&** -2)222?9***$ ,5,),29***- 850,0L*&$$z 7nnaaX"666# NQQ^^X"666& I2+@@)66++B (Mφ31+GG++ $5?+2I+ G++# @I/2/IGG++ $1280C2G&$9 -2(3,3,=&$$ #/7,:,:=&$$B#122/3@66#! #,110)366#! &578K5166#! *70:54(..<< 6,I(I(2"G&9& 4(0)0("G&9* ,4K?/?!!""H 57754,""&& 6@@2@1(.&9< $13(3/0.&9<F 71,1:D.&9<z 1,1218  !!B ??????..<< #771C8?..<< &//373:9&**B 133MM+"$&!# :88//@"$&!& //)L:D==!! &:/D)L/>>!! -)8f8fo>&$$B :704D?"=#& 6)))888<<.. $JRJRJJ==++$#ςυQυQυ==..& ,0/5/8 =!! &(/5@@+99**> 75_))29-**H 4,,//3  !!# /7C@/8$&**> 78Ξ1/?-$""H )0(22?GG!9$ 5E7))3GG!9- /:8118"*66$ ,L410/9-**- I"Ν"Ν!9!**>$0N72:89#**- 1:1@7K>A!!B )0(((2  !!$ 5L7771  !!- 222,2I;;.. #)(E50?;!..H ((2??(A$!!$ 440))(A$!!! /1:/:@"!&;>$@/@/@/""&6 #7C7C73""&6$#313/37A&&!B 82,0_,"&&& -/0_2,,-&$$H 3)?0(/>;!! #75(D0:>;!! &7::::8"+&A$!5))222$$!!# 5EE))($$!!I 805C:)  "" &g:S8/8  !!$ 1I@I37  !!B @@@@@@##++$ (::@D,##-- -3?+8//A=++ #3P~/1:66++B 37~,1W;;++B :0C2,4  !!H έ""7Z1  99* 587K4K66++F#KK8574;;++; 47K5K8""++>-(B(3(q!$##$ ,y,/,θ!$##- 4ΥD:4d!>##6 }5L5ΘD=&++ 6}L5DΘ5;&++ 6444444=.++* 23@/1,..#AB (/38/:..#AF ,8/C8E..#Az 3)2,(3;;!! #)8)8)1;#!!$#0E,D,0;#!!6 (,(((2""#&$ ,8,),("$#&- 4D585)"$#&6 @1@??@>>!!$ ,5,)),>>!!- n?q?q)  !!B V,d(d4  !!F 33@I?I99**# (@1MM+99**H ),(4(/9&** *(@1MM+99**H )(,(5/9*** 62??2(?".&< $)((),(".&< -0,,54,".&< 622(???..!<> ,,2)2).>!<- 54)5)0.>!<6 21???8 &$$B )8)7(N &$$F 2??1?8"&&$B )(4:,/"&&$H φMM3@2=G.. #n@@/1(=G.. &T//NK0=G.. *2?H(Y/9"&*B ,)S4s09&&* !)2)2)@..9<# )L0)),.#9<- )))@@?  !!# 000115  !!F Ou4:/4  !!* Α35??29$**> d53((u9&**F #53??29<""& Bθμθμφ  #!# ye`e`J  #!& οoPogT  #!* R)?I?M##--# ήE)2)(##--& (I2I2I G++# ?3Z35?!!""> (33@@(  !9B ,//115  !9/ (77//(><--I (8811(-G!9I (,422?-!##> )5_((2-!##H ,Dδ))(-!##J ?2121)#=--B ))7)70#=--F 232/2/66!!B ,7)C)C66!!F )(287:6699B )2(78:6699B /g7ζ8899*-B /ζ7g8899*-B ()340/.*9< &,`h`h2**..# 4gWgW1**..& 35I/I/">66$ ,E2:2:">66- L,@,@)""!6# ω5353)""!6& ))2/3@;$!! #,4,C72;$!!$#,8_8,I;;!!H )M@,0)==!! $03/5D0==!! -))))))  !- #34333"$$**$ (,(((,$+**T 040004$+**Σ (8282@..<- #,K)K)1.><-$#32)27( &$A $7,5,C0+&$A -gK)))5  !!- g4)4)/**!A$#51/:8,!="" &5:81/,!=""- (J`βq)"$66# DVg^e)"$66& `0/(@@""&;$ PE8511">&;- 2212,1$="" $),C,E7$="" -bq]dημ!.;; $[m|mw`!.;; -3:(2(7!9;;$ 7N4,03!9;;- I+I"10""&AB :)c4Nm""&A -,,,,,,  9.# )5,)E2  !! $U7@Pυ3<<..$ BK/WP/<<..- I25?5M<<.. $2,L)LM<<..>$κTWRηθ.&#<& 7(0:5/==.. !/L)7)7>>!!- :μJμJμ==++# ((((((AA9"# 000000AA9"& ,2(1(MA"&!# 5),7,3A"&!& D05:5/A"&!* @B8p1H""&&> 1οCχ7Y""&&I 1yCΛ7Y""&& &45L3/1"!&6G `?12/|""66B 37)2?(++AA$ /:4)((++AAH :Z0D04+&AA6 210@)?-=""> )7410(-=""H 0ZL:5,-=""J 04Ξ(4(!!++J 0(44Ξ(AA++ 607O7O(--++H$005DLD+=++ 6050LDD+=++ *445O_5""++ *4O_455$$++6 CO5O5:+&++-#444444-=++* (O(O(O==++T#1TB31Α..#<$ 7α81/%..#<I :γC78a.$#<ρ UQUQUd;;!-B BVYVYm;#!-B#^οeοer;#!-T#hθhda2""&! #BbTm^(""&! &y[λΗι)"-&! *21???) &$$B 17(220 &$$F 8E,()4 &$$6 k32@2Α  &!# c8)1)e "&!- ~MqMqM99**> ]8θ1θ/99**- 3/Β2Β366!!$ )8v)v)66!!- 0Ec:c,66!!6 2?@(,1.*++ #),/NC5.*9< *XN2??Q!!##$ |ψ)/(Q!!##- ?fΠfλ?!-##> )Yίζό?!-##H 2Δ3Δ3%99** $)k8cC%9.** -,χ(χ(b9&**$#??f?f,9&**B ,0Γ0Γ29&**>$)3,35:66!9B 1/@)?8""&!B 8C18(K""&!F 3@3Sh@..9< #,),ηV8..9< &^JJjSΒ""&.# ΗWTisν"$&.& 74b)bK  !!F 5(Β)U,<&..# O0U5t0<&..& 1bUUa8  !-B /^ytΤC  !-F )))CCC<<.. !4NYCYe>&$$- v1ff~8  !!B esBBkπ  !!F 3?(/(3==++ #PPζqqp*>!!B εΙXedy*>!!& jρ[ρ[μ-=""> Xασcσυ-="">$(0:"3"!!++> IM3,5)=G++ $4!!+/?  ++# ^/3ifo &$$$ (irir@<>..>$Q,323f+$#A$ T5/(1s+$#A- rL:08Γ+$#A6 Z8228!  ++# 2,2@2)##++$ ,D,K,5#-!-$#TRVnfH$$!!> rπΠTRζ$$!!H 2(5?1/*9*;> ,5D)7:*>*;H Jd2d2(*#--$ W}/[/8*#--- p4R5Rβ..<<- vvavdb""66B ll^l[o""66F 3I()E("&++ $)S(S)2.A#<$ 5i7i8).A#<$#,E/38N>A!!T ,,KL5)6-"" *D8:0:(  ##* K_L112$!#!6 44ND((..<<H 7ξX:8:66--6 7:XN:W;;-- *8(:EK0G&$9 9[^[σa:9&**- /DL)/:..!!H /)DL:/AA!! &7:N37:$&**H DL0,)0A$!!6 80,Z75  "" *TN//K0=#..6 )1{7O2!-"">-34Z/Z3<<..>-,0,0,DA<9"F ((]:]o6<..B#77L7L:==++H$0CCCC0==++$!7N,N,K==++-#4EEO45-+++ *5E4OE4"+++ *o5}L}];-++ *DuD0D4  ++6 O4E4E5<+++* E,E7L8==++ 6000000""&9# 444444""&9* ,55Z5N>>++B&444444..++* EEEEEE  ++* 444444;=++* 33131P..!<B ))7)7W..!<F 77:7:Ψ..!<z /P3333;;!!# 5Ι1,11;#!!- Dξ/4//;#!!6 113P33""!! #77)W))""!! &:48r,,""!! *31ν@νf  !!$ )8l)l]  !!- 3)3M31  !!$ /0/@/)  !!- 8D5350  !!6 q(~(~b>>!!B Bλ(λ(}>>!!F (hJhJB..!!B 7xPxPι..!!F (hJhJB;;!!B 7xPxPι;;!!F (hJhJB""!!B 7xPxPι""!!F ^M3X1ρ==!!# σ18w:Δ==!!& (1(%?` &$$$ S]S(f/ &$$- 0K0/1Ι &$$6 3)H(H^66!!B 74P0Pσ66!!F 178MM+!!""> ,CC(2I!!""I 8ZL)0M!!""6 /3`1`R=&!$B Xj1]1Λ=&!$F )82?3T$$!!$ DZ)(/λ$-!!- ε)[)[(  99& 701M@@##--$ 8C82(2##--- C_:1/3##--6 ((2(2B""&&B 7/1/1l"$&&& C:787p"$&&* E48?83##--& 7N7?78##--- 3h,2)f9.**> 1P5(0f9.**H 7ε0,0i9.**6 ?3k?νj9***> 21κ2cζ9***H )4α1lπ9***z 2Ο)~(b..<9B )X8]7σ.G<9F 3@(,(?..<< #,)7D75..<< &,i/01x""66F (R@@@/$>!!$ )s333p$>!!- :Ρ0/,i$>!!6 ,53+3(;;!!$ C_1?1:;;!!- 7[X}X)..<< &(/8@@19!*"> ,CN/739!*"H (7,@,J>#!A$ /5K3KQ>#!A>$RQ0ε0|=&$$ &n?81/?<<".> Q({:C?<<".H tVεh3Φ"!&;> prύW/H"!&;H 1π3p3,!&$;$ 7_/π/D!&$;- ((S2S/**""B 0:s)s7**""- 2/202/>>!! #)C)E)C>>!! &1(2227  !!B 7:)/)K  !!F 3?(1/3==-- $)3,781==-- -,1::D/==-- 63?2C(I==.. #/2(N)?==.. &D/7N8?==.. *SU(U(1"&&$# 7ηPηPx"&&$F %((/)UAA"" #θ//07kAA"" &e:8D:cAA"" *))(2(7 .!!B 04,),: .!!- 17)7)ε6&!!F (7323)99**$ ,ZC)CI9-**- l1311+.*<<# Λ8,80?.*<<& 12(/82"<.. $4),8C)"<.. -ψ7023/""&6& (ζ(j(/96**B ,])|)r96**F U(oρ[".-<"> pχΕtσI.-<"H 21,3)?--""> )0:,8(--""H )4K,85--""J @1232)66..B /8,7,266..- 8K0C0(66..6 11181?==-- #777N:2==-- &(?1/1I<;.. #)2):)1<;.. &)15{50<;.. *βη)?2j++#A$ bΡ,2(X++#A- ^ώ5),|++#A6 1,2)22AA!!$ :L0,0(AA!!- 0((:ZCAA"" -(282/M99**> 0,24){99**F γbymκH$6&.& 38(1(/##!-$ /N):)C##!-- ]E5)5J++A#- kp(@(@$<""$ αΧ0101$<""- 38,22)>---$ /N4),,>---- :D:2:1  !!- ,W(~() &$$$ 4ξ7j70 &$$- ,173/)>&$$> D/C1:0>&$$ &8|bCb/;;!! &QγπJJγ9-**H Y/(3(n>+AA$ R8,/,Q>+AA- iC5N5x>+AA *181(1)9;**$ 8)/ZC49;** *o5Ζ5Rr-#++J oΖ5R5r!#++6 o5R5Ζr.#++ 6cK,N0Η&&++6 cK,N0Η6&++6 4E4OE5+;++ *4OEE45+6++6 αN5K0ι$&++ *NL5L5:+A++!#oR5Ζ5r"#++ *4]]FF5 =++B!eE:E:κ9-++T#ad/J3n..!!> dV:aQj..!!H λwτp7B.#!!J 232S));;!! #kkQ5,g;;!! &7lRΛ4ο;=!! *qa2SUe""&&B tPYWa|""&&F R:Xεeτ">&&z n%nH%j  !!B 8a](]V $!!& 3(`2nS &$$B Sg1aYy;&$$B VmeplΚ;&$$F n@2ΟM@99**> 3Φ)Ο?Δ99**> 0Y(5(α9&**> S(QgtR; !! #[TRγb}; !! &UnνdcfGG99 $t3ζ7xYGG99 -V/TπΘ7GG99 6b/JSjY..!!# ξ4S|mT..!!& XsSβJ`##!-$ :ΧVleQ#>!-- 70)/5Γ  !! $SJtP)T==!!B pJ^Wmο==!!F 304@~φ-<""H kDO3v@-<""H )(O(O)-<""J VY)P/μGG99# ιRRκαΔGG99& SJbkjvGG99> s0[87RGG99H hth~β3>=&6$ [iλT7g>=&6$ fYXνa(!";;$ RCKt[T!";;- ())))?*"&A #/75|ξU*+&A &(hSQPU""&; #egλEαk""&; #Unυd`,6 #AB S1Yγχγ6 #AF Qα]33J!+#A$ sΜϊlke!+#A6 ]k(XPβ!A### ξ]RκiQ!A##& ://DL)GG!! -Vi7pPΠ#&--- XQjmXι6G!9F ((O(O(!G9">$3(@172++AA $T7hWΨ)++AA -54,DO0++AA 6j0o0η7-G""> `,J()n<.<.$ 8D^/sa<.<.- vb,U1θ<...> /5τQ7y<...H 1l8H@φAA##> :ΡϋUβφAA##H 2?@321&+$$B 8,0|0ξ&+$$F ΚΕ:ΕxκGG++* ΚΕ:Εxκ>&++* r4Μm::+$++* (4O4O(!$++  0D)OL,=<++  0DEL5,;"++  T11((f.&$$# V77,,Y.&$$& Vw744,.&$$6 3/2)2,;;!!B /8(0(5;;!!F :K505);>!!6 (ttba2""&! #)llom(""&! &0ppΚσ)"G&! *@7???/ &$$$ 18(2(7 &$$- 0E777) &$$6 J,???3  !!$ λD)1)3  !!- ζS313β99**$ js:17%96**H ],5{7`96** *ζsjfζP##;;$ |Σ]SX`#A;;- 7,,x,Ι;&$$ &23212y9G*9B )1):,Χ9G*9F 3/2?2)!!!!$ 7K/1/π!!!!- 3IIMM2""66# (hS`Y3*"&&> (Pæhç@$$&&H ,4,313$$!!$ 4N418@$$!!- n2Y2RΟ"9&* $T,i(Σf"9&* -21@(@@..<<$ ,C5053..<<- 2@1/7+.G<< $)3054?.G<< -JU2e2]*;#AB TB)Η)Ρ*;#AF ,7(3(( #!!$ EN01)) #!!- f?n?nH..<<# Y2J2JS..<<F REx(xR..<<6 θY5sD4GG<< -5)05D) =!! -4E52)0##!!- M@2I?09"*;B 7N_)529"*;H 110,3+<$..> 87D47@<$..H 1)L?L!""&& -:::::k  ++& ::::::  ++* ))4)4)!&"">$/K/7:/  !!- )VZo8%;+#AH /xP2gΤ6-!9- 150(CΤ<G.. -TC,,,i"=66- V)8Zo% +#A &,Ε4[52<.""- 31/333++AA> 175/,/+#AAH 7DN4C8+#AAJ ,K8:7L6G++z ,87LK:=G++ *,LK8:7.G++6 ,7K:L8"G++ 6`ΔΑΔΑ~==++# `ΔΕΔΕ~==++>$èèwΨα|=-++6 èΨαèw|=<++ *γhζΐΕε!*++ 6wééhhc9#++% eè~è~ð9#++z WαeïeW66++ *|ιεwιd-&++I#kêΕkΑγ.-++6 ëιh|h`>+++* |wιΐαc==++$&0:KLK/-=++ *5N055N#<++R XgXgXg**++B gggΐgΜ*+++ *dΕñhι=!-++J hΐhðcw;<++ *λπ7Γ0ò66++z (δIδIO==++-#(,u,u5==++H$(:5:5δ==++z )cCk8%9$**H )l:l:%9-**>$4ε7E7ΐ.&++z OE4E45<+++* (/wCw[6;..B#(/wCw[6"..B#(/wCw[6A..B#(/wCw[6&..B#(/wCw[6...B#,,,,,,;;9.# ,,,,,,""9.# ,,,,,,AA9.# ,i/01x""66F C?C_C1;=!! &4F5]]F #++y NE5ω4:+A++ *Nω4E5:+A++6 oR5Ζ5r"#++ *c40D5Μ&&++z cC,{0ι6&++ *α{5C0o$&++6 p/XNFiGG++ -pJ^Wmο==!!F )O(O()-<""J Ub,U1a<...> tb,U1β<...> kb,U1q<...> 18τQ7κ<...> 7:τQ7l<...> 84τQ7t<...> 04ξτE0.*#< 9VLΗL84;+#A *VοVàK4;&#A *cεEZKV""#& 61(/á:O==-- *)/0ω:L<*.. *CN4)44  ##& /ΩE/5C9&**- :Ωγ,Lm">6A- 0Z8,:O!&$$F }ς4Θ4L=#++ *}O,âE_==++ *5:CψD36+#! *,O_/479-**- 0ãK2C79#**- 755_5K>;!! &4äO:Ee!>##6 0u0L04;#!!6 T8/ψZ4=G.. *(CN1:(-G!9I ,_Ν)0(--##J )48084#=--F ,70Z0Z66!!F Bψ7ΙW7<<..- /O)K)K>>!!- 04E_OD+=++ 60L4uED+=++ *rωKE:i+$#A6 ,{λ_,π#-!-$#5ΣCΣC?.A#<$#/O2+0{9***-$W00Z0Μ &$$z :7δL0?"=#&H 7NΝ1:?-$""H ,D7{8{.+#Az 4OD:D,"$#&6 (8N8KI><--I ,_,D/C">66- ,E4{CI;$!!$#7DDDC0+G$A -0E0E04AA9"& :{LE5E+&AA6 0{OCDD-=""J 4O5δu5""++ *4δuO55$;++6 Cδ4δ4K+&++-#/åχtΤZ #!-F Tψ:/KD=#..6 ε)Κ0Κ( G99& (uDuDD!G++>-0u)ωL0=>++ *?a@M@R> !!B 7e,20]> !!F )8(:8D6=!9z (75"@2A-!!> 74EM//A-!!H nq2(//AA#!B gX7m4γAG++F "1?@05$-!!B @4)(,D$-!!- 2@@(25>>!!B /))7/K>>!!F 204??I!6""> 1:K33@!6""H 0EL1/3!6""J 00(2(M*>..# CC7/4(*>..! :C8N73.+<< &)0D(03;<##H R{Xì0Σ">&&z t4ed8K+$++* î4Μo:8+$++* 7,,x,Ι6&$$ &7,,x,Ι=&$$ &7,,x,Ι<&$$ &8K717s!!!!- 3_L_Z?""66# )4)4)E!&++$#7Ρ/1/D!!!!- |óΐΨγ]=-++6 |Ψγóΐ]=<++ *|ô|ô|Ζ=+++T#';
//Decompression Arrays
pk='00,05,0a,01,04,02,32,3c,03,0f,46,08,0b,41,50,37,28,2d,64,5a,0c,4b,55,06,5f,09,07,0d,10,1e,23,0e,40,69,6e,78,80,11,20,14,30,73,82,19,7d,96,3f,3a,48,3e,44,2c,4e,53,43,34,87,56,4d,4c,8c,2b,38,42,4f,3d,47,2a,49,35,5c,39,3b,45,51,26,5b,4a,29,6c,52,36,a0,31,6b,62,54,c0,91,61,6a,25,24,59,2e,6d,b4,67,2f,57,33,65,63,58,17,27,7b,68,70,18,74,7a,21,1c,5e,a5,aa,1f,22,66,1d,83,81,6f,9a,5d,7e,72,79,e6,c8,1b,76,75,84,60,86,16,7c,71,9b,be,fa,ff,90,a8,8a,85,93,77,b8,7f,9f,af,c2,b9,a4,88,98,8e,89,8b,b5,df,99,84,d8,ad,97,d3,8f,9d,a7'; pk=pk.split(',');
mn=' !"#$&()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~%αβγδεζηθικλμνξοπρστυφχψωΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩςάέήίόύώϊϋΐàáâãäåæçèéêëìíîïðñòóô'; mn=mn.split(''); base=[];

forms_after = 807;
forms = {386.1:808,386.2:809,386.3:810,413.1:811,413.2:812,492.1:813,487.1:814,479.1:815,479.2:816,479.3:817,479.4:818,479.5:819,351.1:820,351.2:821,351.3:822,550.1:823,555.1:824,648.1:825,646.1:826,646.2:827,647.1:828,641.1:829,642.1:830,645.1:831,670.1:832,678.1:833,681.1:834,710.1:835,710.2:836,710.3:837,711.1:838,711.2:839,711.3:840,3.1:841,6.1:842,6.2:843,9.1:844,65.1:845,94.1:846,115.1:847,127.1:848,130.1:849,142.1:850,150.1:851,150.2:852,181.1:853,212.1:854,214.1:855,229.1:856,248.1:857,257.1:858,282.1:859,303.1:860,306.1:861,308.1:862,310.1:863,354.1:864,359.1:865,380.1:866,381.1:867,445.1:868,448.1:869,460.1:870,15.1:871,18.1:872,80.1:873,208.1:874,254.1:875,260.1:876,302.1:877,319.1:878,323.1:879,334.1:880,362.1:881,373.1:882,376.1:883,382.1:884,383.1:885,384.1:886,428.1:887,475.1:888,531.1:889,719.1:890,720.1:891,19.1:892,20.1:893,26.1:894,27.1:895,28.1:896,37.1:897,38.1:898,50.1:899,51.1:900,52.1:901,53.1:902,74.1:903,75.1:904,76.1:905,88.1:906,89.1:907,103.1:908,105.1:909,658.1:910,718.1:911,718.2:912,741.1:913,741.2:914,741.3:915,745.1:916,746.1:917,774.1:918,745.2:919,800.1:920,800.2:921,800.3:922};

function get_base(p,s) { //Returns values from pkmn
	if (p.indexOf('.') > -1) {
		p = forms[p];
	}
	if (!base[p]) {
		base[p]=pkmn.slice(12*p,12*p+12).split('').map(function(v,i){v=pk[mn.indexOf(v)];if(i<10)v=parseInt(v,16);return v});
		base[p].push(('000000000000000'+parseInt(base[p].pop()+''+base[p].pop(),16).toString(2)).split('').reverse().join('').substr(0,12).split('').reverse().join('').match(new RegExp(".{1,"+2+"}", "g")).reverse().map(function (v) { return parseInt(v,2); }));
		base[p][10].push(base[p][10].splice(3,1)[0]);
	}
	return base[p][s];
}

//Add a custom Pokemon by modifying and un-commenting the following lines.
//Format is HP,ATK,DEF,SP.ATK,SP.DEF,SPD,Type1,Type2,Egg1,Egg2,[HP EPs,ATK EPs,DEF EPs,SP.ATK EPs,SP.DEF EPs,SPD EPs]
/*
pkmns = pkmns+'|Bulbasaur:1';
base[1] = [45, 49, 49, 65, 65, 45, 12, 3, 1, 7,[0, 0, 0, 1, 0, 0]];
*/

//ATK/DEF/SP.ATK/SP.DEF/SPD / Bashful 1, Docile 2, Hardy 3, Serious 4, Quirky 5, Bold 6, Modest 7, Calm 8, Timid 9, Lonely 10, Mild 11, Gentle 12, Hasty 13, Adamant 14, Impish 15, Careful 16, Jolly 17, Naughty 18, Lax 19, Rash 20, Naive 21, Brave 22, Relaxed 23, Quiet 24, Sassy 25
natures = [[],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[0.9,1.1,1,1,1],[0.9,1,1.1,1,1],[0.9,1,1,1.1,1],[0.9,1,1,1,1.1],[1.1,0.9,1,1,1],[1,0.9,1.1,1,1],[1,0.9,1,1.1,1],[1,0.9,1,1,1.1],[1.1,1,0.9,1,1],[1,1.1,0.9,1,1],[1,1,0.9,1.1,1],[1,1,0.9,1,1.1],[1.1,1,1,0.9,1],[1,1.1,1,0.9,1],[1,1,1.1,0.9,1],[1,1,1,0.9,1.1],[1.1,1,1,1,0.9],[1,1.1,1,1,0.9],[1,1,1.1,1,0.9],[1,1,1,1.1,0.9]];
natures[-1] = [1,1,1,1,1]; //neutral
natures['max'] = [1.1,1.1,1.1,1.1,1.1]; //all max
natures['min'] = [0.9,0.9,0.9,0.9,0.9]; //all max

//Type affinity no fg fl po gu ro bu gh st fi wa gs el ps ic dr da fa
damage = [[1,1,1,1,1,0.5,1,0,0.5,1,1,1,1,1,1,1,1,1],[2,1,0.5,0.5,1,2,0.5,0,2,1,1,1,1,0.5,2,1,2,0.5],[1,2,1,1,1,0.5,2,1,0.5,1,1,2,0.5,1,1,1,1,1],[1,1,1,0.5,0.5,0.5,1,0.5,0,1,1,2,1,1,1,1,1,2],[1,1,0,2,1,2,0.5,1,2,2,1,0.5,2,1,1,1,1,1],[1,0.5,2,1,0.5,1,2,1,0.5,2,1,1,1,1,2,1,1,1],[1,0.5,0.5,0.5,1,1,1,0.5,0.5,0.5,1,2,1,2,1,1,2,0.5],[0,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,0.5,1],[1,1,1,1,1,2,1,1,0.5,0.5,0.5,1,0.5,1,2,1,1,2],[1,1,1,1,1,0.5,2,1,2,0.5,0.5,2,1,1,2,0.5,1,1],[1,1,1,1,2,2,1,1,1,2,0.5,0.5,1,1,1,0.5,1,1],[1,1,0.5,0.5,2,2,0.5,1,0.5,0.5,2,0.5,1,1,1,0.5,1,1],[1,1,2,1,0,1,1,1,1,1,2,0.5,0.5,1,1,0.5,1,1],[1,2,1,2,1,1,1,1,0.5,1,1,1,1,0.5,1,1,0,1],[1,1,2,1,2,1,1,1,0.5,0.5,0.5,2,1,1,0.5,2,1,1],[1,1,1,1,1,1,1,1,0.5,1,1,1,1,1,1,2,1,0],[1,0.5,1,1,1,1,1,2,1,1,1,1,1,2,1,1,0.5,0.5],[1,2,1,0.5,1,1,1,1,0.5,0.5,1,1,1,1,1,2,2,1]];

ivr = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31];

stats = ['ＨＰ','攻击','防御','特攻','特防','速度','&mdash;'];
types = ['一般','格斗','飞行','毒','地面','岩石','虫','幽灵','钢','火','水','草','电','超能力','冰','龙','恶','妖精']
eggs = ['???','怪兽','水中1','虫','飞行','陆上','妖精','植物','人型','水中3','矿物','不定形','水中2','百变怪','龙','未发现'];
typeshp = ['格斗','飞行','毒','地面','岩石','虫','幽灵','钢','火','水','草','电','超能力','冰','龙','恶'];
hps = ['0,1,2,3,4','5,6,7,8','9,10,11,12','13,14,15,16','17,18,19,20','21,22,23,24,25','26,27,28,29','30,31,32,33','34,35,36,37','38,39,40,41','42,43,44,45,46','47,48,49,50','51,52,53,54','55,56,57,58','59,60,61,62','63']; //possible Hidden Power "types"


/* UI specific functions */
function get_text(id,n) { //Returns text associated with n value from id (<select/>)
	var a = $(id).value;
	$(id).value = n;
	var b = $(id).options[$(id).selectedIndex].text;
	$(id).value = a;
	return b;
}

pkmns=pkmns.split('|');
pkmns.sort(function(x, y){
	return x.split(':')[1] - y.split(':')[1];
}); //Sort names with National Pokédex number
function pop_species() { //Populates the species list
	var a = document.createDocumentFragment();
	var i=0,j=pkmns.length; do {
		var b = pkmns[i].split(':');
		var c = el_add(a,"option",{value:b[1]},b[0]);
		if ((b[1] > 721 && b[1] <= forms_after) || forms[b[1]] > 885) { c.className = 'new'; } //show new species
		i++;
	} while (i<j);
	$('species').appendChild(a);
}

online = 0; //global- online status
function online_check() { //Checks if there's an internet connection alive
	if (navigator.onLine) {
		if (online == 1) { return true; }
		online = 1;
		add_sprite();
		//Version Check - DO NOT change the following
		$('version').innerHTML = '<a href="https://legendarypkmn.github.io/ivcalcsm.html"><img id="verchk" alt=""/></a><span class="error">Ø</span> <strong><a href="https://legendarypkmn.github.io/ivcalcsm.html">点击这里</a>使用计算器的最新版本（英文）。</strong>';
		var verchk = $('verchk');
		verchk.src = 'https://legendarypkmn.github.io/ivcalcsm_20171203.png?p='+ Math.floor(Math.random( )*100);
		verchk.onload = function() { if (verchk.width==1) { $('version').innerHTML = '<span class="ok">OK！</span>这是最新版本的计算器！'; } }
	}
	else { $('version').innerHTML =  '<span class="error">Ø</span> 网络故障！不能检查更新。'; }
}

themes = ['isotope','spp','simplex']; //define your own themes here, feel free to edit this
themed = themes.indexOf('isotope'); //global- set default theme here
theme = (!cookie_read('theme')?themed:cookie_read('theme'));
function toggle_theme() {
	$('calculator').className = themes[theme];
	display_status('主题切换到了 "'+themes[theme]+'"。<br/><span class="btn" onclick="toggle_simple();">简洁模式？</span>');
	if (theme == -1 && (navigator.userAgent.indexOf('MSIE ') == -1)) {
		display_status('主题切换到了“Colorize”。<br/>您可以选择色彩、饱和度和亮度：');
		var c = cookie_read('color') || 'd';
		if (c.charAt(0) == ',') {
			c = c.split(',');
			thema(c[1],c[2],c[3]);
		}
		$('status').innerHTML += '<br/><br/><input id="hue" type="range" min="0" max="360" value="150" />';
		$('status').innerHTML += '<br/><input id="sat" type="range" min="0" max="100" value="4" />';
		$('status').innerHTML += '<br/><input id="lit" type="range" min="0" max="100" value="74" />';
		event_add($('hue'),"change", function () {  thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('sat'),"change", function () {  thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('lit'),"change", function () {  thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('hue'),"keyup", function (evt) {  vv(this.id,0,360,evt); thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('sat'),"keyup", function (evt) {  vv(this.id,0,100,evt); thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('lit'),"keyup", function (evt) {  vv(this.id,0,100,evt); thema($('hue').value,$('sat').value,$('lit').value); });
	}
	cookie_create('theme',theme,60);
	theme = (theme == themes.length?-1:theme*1+1);
}
function toggle_simple() {
	$('calculator').className += ' simplex';
	toggle($('info')); toggle($('instructions'));
	display_status('一切素净了！<br/>（刷新恢复到默认）');
	}
function thema(h,s,l) { //Color theming, does not work in IE8
	var bg = 'hsl('+h+', '+s+'%, '+l+'%)';
	var bd = 'hsl('+h+', '+s+'%, '+(l-20)+'%)';
	var bd2 = 'hsl('+h+', '+s+'%, '+(l-26)+'%)';
	var bp = 'hsl('+h+', '+s+'%, '+(l-9)+'%)';
	var bs = 'hsl('+h+', '+s+'%, '+(l-16)+'%)';
	$('thema').innerHTML = '#calculator{background:'+bg+';border-color:'+bd+';}#calculator .primary{background:'+bp+';}#calculator .secondary{background:'+bs+';}#calculator input,#calculator select,#calculator .button{border-color:'+bd2+';color:'+bd2+';}#calculator .button {background-color:'+bg+';}'; //dibs on this method
	cookie_create('color',','+h+','+s+','+l,60);
}
eps = 1; //global- EPs enabled
function toggle_evs() { //Enable/Disable EV functions
	switch(eps) {
		case 1:
			eps = 0; $('btn-evs').value = '基础点数关';
		break;
		case 0:
			eps = 1; $('btn-evs').value = '基础点数开';
		break;
	}
	var j = $c('eps').slice();
	var i = j.length-1; do {
		toggle(j[i]);
	} while(i--);
	display_base();
}
mode = 0; //global- Single enabled
function toggle_mode(m) { //Single/Team/Row mode
	var m = m || mode;
	switch(m) {
		case 0:
			mode = 1;
			$('btn-mode').value = '队伍计算';
			$('mode0').style.display='none';
			$('mode1').style.display='';
			$('btn-hp').disabled = 'disabled';
			$('btn-stats').disabled = 'disabled';
			$('btn-eps').disabled = 'disabled';
			display_status('切换到了 <strong>队伍计算</strong> 模式。');
			break;
		case 1:
			mode = 2;
			$('btn-mode').value = '单行计算';
			$('mode0').style.display='';
			$('mode1').style.display='none';
			$('btn-hp').disabled = '';
			$('btn-stats').disabled = '';
			display_status('切换到了 <strong>单行计算</strong> 模式。');
			break;
		default:
			mode = 0;
			$('btn-mode').value = '宝可梦';
			$('mode0').style.display='';
			$('mode1').style.display='none';
			$('btn-hp').disabled = '';
			$('btn-stats').disabled = '';
			$('btn-eps').disabled = '';
			display_status('切换到了 <strong>宝可梦</strong> 模式。');
	}
	display_sprite();
	display_effectiveness($('number-'+(act>-1?act:0)).value);
}
/* Save & Load functionality */

function code_load(c) { //Loads a SaveCode
	//var c = prompt('Input SaveCode or [Cancel] to load from URL:') || location.search;
	//var c = location.search;
	display_status('<span class="loading">读入保存代码…</span>');
	if (c == undefined || c.indexOf('?sc=') == -1) { display_status('无法读入保存代码。'); return NULL; }
	c = c.replace(/%20/gi,'').substring(1).split('!');
	if (c.length < 2) { display_status('无法读入保存代码。'); return; }
	var  i = c.length-1; do { c[i] = c[i].split(','); } while(i--);
	//Check if SaveCodeVersion is compatible (may change with Black/White)
	if (c[0][0] > 1) { display_status('保存代码不兼容。'); return; }
	//Check if SaveCodeUI is compatible, and restore UI
	if (c[0][1] == 0) {
		if (c[0][2] == 0 && eps == 1) { toggle_evs(); }
		var i = c[0][3]*1;
		if(mode!=i) { if(mode==2) { mode = 0; } toggle_mode(i-1); }
		display_status('<span class="loading">读入保存代码…</span>');
		mode = i;
		$('nickname').value = unescape(c[0][4]);
	}
	//Load user entered IVs
	$('statlvl').value = c[1][6]; $('hiddent').innerHTML=''; $('hiddenp').innerHTML='';
	var  i=5; do {
		ivs[i] = ivr.slice();
		$('med'+i+'-0').value = c[1][i]*1;
		$('spr'+i+'-0').innerHTML = '';
		$('plv'+i+'-0').innerHTML = '';
		$('stats'+i).innerHTML = '';
	} while(i--);
	//Load row data
	$('statrows').style.display = 'none';
	el_del($('statrows'));act=-1;actp=0;rn=1;rs=[0];ivs=[];

	var i=2, r=i-2; l=c.length;
	if (l > 2) {
		do {
			if (r!=0) { row_add(0,c[i][1]); };
			$('level-'+r).value = c[i][1]*1; $('number-'+r).value = c[i][0]*1; $('nat-'+r).value = c[i][14]*1; $('char-'+r).value = c[i][15]; $('hpt-'+r).value = c[i][16]*1;
			$('pot0-'+r).value = c[i][17]*1; $('pot1-'+r).value = c[i][18]; $('pot2-'+r).value = c[i][19]*1;
			var  j=5; do {
				$('stat'+j+'-'+r).value = c[i][j+2]*1;
				$('ep'+j+'-'+r).value = c[i][j+8]*1;
			} while(j--);
			display_eps();
			i++; r++;
		} while (i<l);
	}
	//Restore focus and set active row
	$('act-0').checked = 1; act=0; actp=0; row_sync();
	$('statrows').style.display = '';

	display_effectiveness($('number-'+act).value);
	tooltips();
	display_status('成功读入保存代码！');
	$('btn-ivs').focus();
}
function code_save() { //Displays a SaveCode
	var c = '?sc=0,0,'; //Data/SaveCode version
	c += eps+',';
	c += mode+',';
	c += escape($('nickname').value)+'!';
	c += $('med0-0').value+',';
	c += $('med1-0').value+',';
	c += $('med2-0').value+',';
	c += $('med3-0').value+',';
	c += $('med4-0').value+',';
	c += $('med5-0').value+',';
	c += $('statlvl').value+'';
	var s = $c('statrow'), i = (mode==2?0:s.length), r = (mode==2 && act>-1?act:0); s.reverse();
	do {
		c += '!'+$('number-'+r).value+','+$('level-'+r).value+','+$('stat0-'+r).value+','+$('stat1-'+r).value+','+$('stat2-'+r).value+','+$('stat3-'+r).value+','+$('stat4-'+r).value+','+$('stat5-'+r).value+','+$('ep0-'+r).value+','+$('ep1-'+r).value+','+$('ep2-'+r).value+','+$('ep3-'+r).value+','+$('ep4-'+r).value+','+$('ep5-'+r).value+','+$('nat-'+r).value+','+$('char-'+r).value+','+$('hpt-'+r).value+','+$('pot0-'+r).value+','+$('pot1-'+r).value+','+$('pot2-'+r).value;
		if (i > 0) { r = s[i-1].id.split('-')[1]; }
	} while (i--);
	display_status('<a href="'+c+'">保存代码</a> (<a href="http://j.mp/https://mudkip.me/ivcalc/ivcalcsm.html'+c+'">缩短</a>):<br/>'+c.split('!').join('! '));
	$('contact').href = 'https://legendarypkmn.net/contact?topic=IV%20Calculator&text='+escape('My browser is: '+navigator.userAgent+'\nMy savecode is: '+c+'\n\n');
	//window.location += c; //Uncomment for old behaviour
}

/* Row functions */

act = 0; actp = 0; //global- active row; previous active row
rn = 1; rs = [0]; //global- new row counter; array of current rows
error = 1; //global- error flag, default: true
function row_act(n) { //Makes n row active
	if ($('act-'+n).value == act) {
		actp = act;
		act = -1;
		$('act-'+n).checked = 0;
		$('name').focus();
		$('ept').style.visibility = '';
		if (online == 1) { display_sprite(); }
		display_effectiveness($('number').value);
		return false;
	}
	act = n;
	actp = 0;
	$('act-'+n).checked = 1;
	/*$('number-'+n).readonly = 'readonly'; $('number-'+n).disabled = ''; //look into this
	$('number-'+actp).readonly = ''; $('number-'+actp).disabled = 'disabled';*/
	$('ept').style.visibility = 'hidden';
	row_sync();
}
function row_sync() { //Syncs the display with active row
	var n=act, t=$('pot1-'+n).value.split('.');
	$('number').value = Math.floor($('number-'+n).value);
	$('species').value = $('number-'+n).value;
	$('nat').value = $('nat-'+n).value;
	$('char').value = $('char-'+n).value;
	$('hpt').value = $('hpt-'+n).value;
	$('pot0').value = $('pot0-'+n).value;
	$('pot2').value = $('pot2-'+n).value;
	var i=5; do {
		$('pot1').options[(i+1)].selected = (t.indexOf(i.toString()) > -1?true:false);
	} while(i--);
	display_effectiveness($('number-'+n).value);
	display_base();
	display_nature();
	display_char();
	if (mode == 2) { calc_ivs(n); }
	if (online == 1) { display_sprite(); }
}
function row_edit() { //Makes active row editable
	var n=act, t=[];
	if (n == -1) { return false; }
	$('number-'+n).value = $('species').value;
	$('nat-'+n).value = $('nat').value;
	$('char-'+n).value = $('char').value;
	$('hpt-'+n).value = $('hpt').value;
	$('pot0-'+n).value = $('pot0').value;
	var i=6; do {
		if ($('pot1').options[i].selected && t.indexOf(i-1) == -1 ) { t.push(i-1); }
	} while(i--);
	$('pot1-'+n).value = t.join('.');
	$('pot2-'+n).value = $('pot2').value;
}
function row_up(r) { //Moves row upwards
	var t=[], n=[], p=rs[rs.indexOf(r)-1];
	if ($('act-'+p).checked == 0) { row_act(p); }
	else if (online == 1) { display_sprite(); }
	p = $('level-'+p,'stat0-'+p,'stat1-'+p,'stat2-'+p,'stat3-'+p,'stat4-'+p,'stat5-'+p,'number-'+p,'nat-'+p,'char-'+p,'hpt-'+p,'pot0-'+p,'pot1-'+p,'pot2-'+p,'ep0-'+p,'ep1-'+p,'ep2-'+p,'ep3-'+p,'ep4-'+p,'ep5-'+p);
	n = $('level-'+r,'stat0-'+r,'stat1-'+r,'stat2-'+r,'stat3-'+r,'stat4-'+r,'stat5-'+r,'number-'+r,'nat-'+r,'char-'+r,'hpt-'+r,'pot0-'+r,'pot1-'+r,'pot2-'+r,'ep0-'+r,'ep1-'+r,'ep2-'+r,'ep3-'+r,'ep4-'+r,'ep5-'+r);
	p.map(function(v){t.push(v.value); });
	n.map(function(v,i){p[i].value=v.value;v.value=t[i];});
	display_eps(r);
	row_sync();
}
function row_del(n) { //Removes n row
	rs.splice(rs.indexOf(n),1);
	if (act==n) { row_act(0); }
	$('statrows').removeChild($('statrow-'+n));
	$('statrows').removeChild($('eprow-'+n));
	row_sync();
}
function row_add(n,lvl) { //Appends a new row
	if (n > 0) { rn = (rs.length == 1?1:n); }
	if (!lvl && mode==0) {
		var lvl = $('level-'+rs[(rs.length-1)]).value;
		lvl = (lvl<100?lvl*1+1:100);
	}
	lvl = lvl || 100;
	var ep = [0,0,0,0,0,0];
	if (mode==0) {
		var p = rs[(rs.length-1)];
		var ep = [$('ep0-'+p).value,$('ep1-'+p).value,$('ep2-'+p).value,$('ep3-'+p).value,$('ep4-'+p).value,$('ep5-'+p).value,];
	}
	rs.push(rn);
	var a = document.createDocumentFragment();
	var b = el_add(a,"tr",{id:'statrow-'+rn,className:'statrow'});
		el_add(b,"td",'','<input type="radio" class="radio tooltip" name="act" id="act-'+rn+'" value="'+rn+'" onclick="row_act('+rn+');" title="（取消）选择这一行。"/> <span class="btn tooltip" onclick="row_del('+rn+');" title="删除这一行。">-</span>');
		el_add(b,"td",'','<input type="text"  id="level-'+rn+'" name="level-'+rn+'" maxlength="3" size="3" value="'+lvl+'" onkeyup="vv(this.id,0,100,event,'+rn+');" />');
		el_add(b,"td",{},'<span class="btn tooltip" onclick="row_up('+rn+');" title="向上移动这一行。">^</span>');
		var i = 0; do {
			el_add(b,"td",'','<input type="text" name="stat'+i+'-'+rn+'" id="stat'+i+'-'+rn+'" maxlength="3" size="3" value="" onkeyup="vv(this.id,0,999,event,'+rn+');" />');
			i++;
		} while (i<6);
		el_add(b,"td",'','<input type="text" disabled="disabled" id="number-'+rn+'" name="number-'+rn+'" maxlength="3" size="3" value="'+$('number').value+'" /><input type="hidden" id="nat-'+rn+'" name="nat-'+rn+'" value="'+$('nat').value+'" /><input type="hidden" id="char-'+rn+'" name="char-'+rn+'" value="'+$('char').value+'" /><input type="hidden" id="hpt-'+rn+'" name="hpt-'+rn+'" value="'+$('hpt').value+'" /><input type="hidden" id="pot0-'+rn+'" name="pot0-'+rn+'" value="'+$('pot0').value+'" /><input type="hidden" id="pot1-'+rn+'" name="pot1-'+rn+'" value="'+$('pot1').value+'" /><input type="hidden" id="pot2-'+rn+'" name="pot2-'+rn+'" value="'+$('pot2').value+'" />');
	var c = el_add(a,"tr",{id:'eprow-'+rn,className:'eps'});
		if (eps == 0) { c.style.display = 'none'; }
		el_add(c,"td");
		el_add(c,"td",{id:'eps-'+rn,value:ep.sum()});
		el_add(c,"td");
		var i = 0; do {
			el_add(c,"td",'','<input type="text" name="ep'+i+'-'+rn+'" id="ep'+i+'-'+rn+'" maxlength="3" size="3" value="'+ep[i]+'" onkeyup="vv(this.id,0,255,event,'+rn+');display_eps();" />');
			i++;
		} while (i<6);
		el_add(c,"td");
	$('statrows').appendChild(a);
	row_act(rn);
	rn++;
}
function add_eps() { //adds provided effort points to Pokemon's Effort Values
	function validate_eps(ep1,ep2) { //EPs limits | ep1 = current EPs | ep2 = EPs to be added
		var n = actp;
		var eps = 1*$('eps-'+n).innerHTML;
		epsum = 1*ep1 + 1*ep2;
		epsum2 = 1*ep1 + (510-1*eps);
		if (ep2 < 0 && epsum > 0) { return epsum; }
		if (eps < 510 && ep1 < 255) {
			ep3 = (eps + 1*ep2 < 510)?((epsum < 255)?epsum:255):((epsum2 < 255)?epsum2:255);
			return ((ep3 < 0)?0:ep3);
		}
		else { return ep1; }
	}
	display_base();
	var n = actp; //active row
	var  i=5; do {
		$('ep'+i+'-'+n).value = validate_eps($('ep'+i+'-'+n).value,$('eff'+i+'').innerHTML);
	} while(i--);
	display_eps();
	$('name').focus(); //return focus to input
}

/* Calculation functions */
function calc_effectiveness(typ,type1,type2) { //Calculates effectiveness
	var mul = damage[typ][type1];
	if (type2 != type1) { mul = mul * damage[typ][type2]; }
	return mul;
}
function calc_hiddenp() { //Calculates Hidden Power's power
	return 60;  //Obsolete since XY
	var a = arguments;
	return Math.floor((0.5*(a[0]&2)+1*(a[1]&2)+2*(a[2]&2)+4*(a[5]&2)+8*(a[3]&2)+16*(a[4]&2))*40/63 + 30);
	//return (((((a[4]&2)<<1) + (a[3]&2) + ((a[5]&2)>>>1))*10 + (a[2]&2)*3 + (a[0]&2) + (a[1]&2)) >>> 1)+30; //alternate, by Chase
}
function calc_hiddent() { //Calculates Hidden Power's type
	var a = arguments;
	return Math.floor(((a[0]&1)+2*(a[1]&1)+4*(a[2]&1)+8*(a[5]&1)+16*(a[3]&1)+32*(a[4]&1))*15/63);
	//return (a[2] & 1) + ((a[5] & 1) << 1) + ((a[3] & 1) << 2) + ((a[4] & 1) << 3); //alternate, by Chase, uses the main types[]
}
function calc_hidden(n) { //Displays all possible Hidden Powers
	//d = new Date(); time = d.getTime(); //DEBUG
	function display_hp() {
		t.reverse().sort(); //p.sortnum();
		$('hiddent').innerHTML = t.join(', ');
		$('hiddenp').innerHTML = 60; //p.join(', ');
		//array_intersect(ivs[i],eo[ivhss[i][0]].slice());
		//d = new Date(); display_status((d.getTime()-time)/1000); return true; //DEBUG
		display_text(n);
	}
	display_status('<span class="loading">正在计算<em>觉醒力量</em>…</span>');

	if ($('medl').checked) {
		var t = [typeshp[calc_hiddent($('med0-0').value,$('med1-0').value,$('med2-0').value,$('med3-0').value,$('med4-0').value,$('med5-0').value)]];
		//var p = [calc_hiddenp($('med0-0').value,$('med1-0').value,$('med2-0').value,$('med3-0').value,$('med4-0').value,$('med5-0').value)];
		display_hp(); return true;
	}

	if (error != 0) { display_status('无法计算！<br/>请先输入或计算个体值。'); return false; }
	var a = [], b = $('hpt-'+n).value, t = [], p = [], i0=ivs[0].length-1;
	do { //must optimize this further
		a[0] = ivs[0][i0];
		var i1=ivs[1].length-1;
		do {
			a[1] = ivs[1][i1];
			var i2=ivs[2].length-1;
				do {
					a[2] = ivs[2][i2];
					var i3=ivs[3].length-1;
						do {
							a[3] = ivs[3][i3];
							var i4=ivs[4].length-1;
								do {
									a[4] = ivs[4][i4];
									var i5=ivs[5].length-1;
										do {
											a[5] = ivs[5][i5];
											var c = typeshp[calc_hiddent(a[0],a[1],a[2],a[3],a[4],a[5])];
											if (b == -1 || c == typeshp[b]) {
												if (t.indexOf(c) == -1) { t.push(c); }
												//var d = calc_hiddenp(a[0],a[1],a[2],a[3],a[4],a[5]);
												//if (p.indexOf(d) == -1) { p.push(d); }
											}
											if (p.length == 41 && t.length == 16) { display_hp(); return true; } //exit loops if all possible
										} while (i5--);
								} while (i4--);
						} while (i3--);
				} while (i2--);
		} while (i1--);
	} while (i0--);
	display_hp();
}
function calc_stat(species,pstat,stativ,statev,pokelvl,nature) { //Calculates Pokemon stats
	var basestat = get_base(species,pstat);
	var bonus = natures[nature][(pstat-1)];
	if (eps == 0) { var statev = 0; }
	if (pstat == 0) { //HP uses a different formula
		var result =  (Math.floor(((basestat*2 + (stativ/1) + Math.floor(statev/4))*pokelvl)/100)) + (pokelvl/1) + 10;
		if (species == 292) { return 1; } //Shedinja Case
	}
	else { var result = Math.floor((Math.floor(((basestat*2 + (stativ/1) + Math.floor(statev/4))*pokelvl)/100) + 5)*bonus); }
	return result;
}

ivs = [ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice()]; //global- IVs array
function calc_stativ(species,pstat,stat,statev,pokelvl,nature,chara,pot1,pot2) { //Calculates Pokemon IVs - brute force
	var chara = chara.split('.');
	var pot1 = pot1.split('.');
	var charas = [[0,5,10,15,20,25,30],[1,6,11,16,21,26,31],[2,7,12,17,22,27],[3,8,13,18,23,28],[4,9,14,19,24,29]];
	var pots = [[0],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[16,17,18,19,20,21,22,23,24,25],[26,27,28,29],[30],[31]];
	ivs[pstat] = [-1];
	var  i=31; do {
		if (calc_stat(species,pstat,i,statev,pokelvl,nature) == stat) { ivs[pstat].unshift(i); }
	} while(i--);

	if (pstat == 0 && species == 292) { ivs[pstat] = ivr.slice(); } //Shedinja Case

	if (chara[0] == pstat && chara != -1) {
		ivs[pstat] = array_intersect(ivs[pstat],charas[chara[1]]);
		maxiv = ivs[pstat][ivs[pstat].length-1]; //global maximum IV
	}
	if (pot1.indexOf(pstat.toString()) != -1 && pot2 != -1) {
		ivs[pstat] = array_intersect(ivs[pstat],pots[pot2]);
	}
	if (ivs[pstat][0] > miniv[1]) { miniv[1] = ivs[pstat][0]; }
	return ivs[pstat];
}
function calc_ivs(rn) { //Calculates a complete IV set
	error = 0; //global- reset errors
	if ($('number-0').value == 0) {
		error = '无法继续操作！<br/>请先选择<em class="error">宝可梦</em>…';
		display_status(error);
		$('name').value=''; $('name').focus();
		return false;
	}
	if ($('level-0').value == 0) {
		error = '无法计算！<br/><em class="error">等级</em>不能为0。';
		display_status(error);
		$('level-0').focus();
		return false;
	}
	display_status('<span class="loading">正在计算<em>个体值</em>…</span>');

	function validate_iv(result,species,pstat,stat,statev,pokelvl,nature) { // IV error handling
		var spname = get_text('species',species);
		var max = calc_stat(species,pstat,31,statev,pokelvl,nature);
		var min = calc_stat(species,pstat,0,statev,pokelvl,nature);
		if (stat > max || stat < min) {
			error = '<em>'+spname+'</em> 等级 '+pokelvl+' 无法计算！<br/><em class="error">'+stats[pstat]+'</em> ('+stat*1+') 应该在 '+min+' 和 '+max+' 之间。<br/> 您可能输入了错误的<em class="error">基础点数</em>或<em class="error">性格</em>。';
			ivs[pstat] = [-1];
			return ['error'];
		}

		var i=0,l=result.length; do {
			if (result[i] > maxiv) { //beyond characteristic upper bound
				result = result.slice(0,i);
			}
			if (miniv[0] == pstat && result[i] >= miniv[1]) { //best iv must remain be at least equal to the lower bound
				result = result.slice(i);
			}
			i++;
		} while(i<l);

		if (result.length == 0 || result[0] > maxiv || result[0] == -1 || result[result.length] > 31) { //out of any bounds
			error = '<em>'+spname+'</em> 等级 '+pokelvl+' 无法计算！<br/><em class="error">'+stats[pstat]+'</em> 能力，<em class="error">基础点数</em>，<em class="error">个性</em>或<em class="error">最高能力</em>不正确。'; //global error - prevent complex calculations
			ivs[pstat] = [-1];
			return ['error'];
		}
		return result;
	}
	function validate_ties() { //Refines in case max IVs tie
		var ties = $('pot1-'+rn).value.split('.');
		var l = ties.length;
		if (l > 1) {
			var t = ivs[ties[0]].slice();
			var i=1; do {
				t = array_intersect(t,ivs[ties[i]]);
				if (t[0] == undefined) {
					error = '<em>'+get_text('species',$('number-'+rn).value)+'</em> 等级 '+$('level-'+rn).value+' 无法计算！<br/>输入的<em class="error">最高能力</em>不正确。';
					return false;
				}
				i++;
			} while(i<l);
			ties.map(function(v){ivs[v]=t.slice();});
		}
	}

	maxiv = 31; miniv = [-1,0];//global- maximum IV
	ivs = [ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice()];
	//Calculate row(s)
	var rn = rn || 0;
	var i=rn, l=(mode!=0?(rn+1):rs.length); do {
		//alert(rn); //DEBUG
		var r=rs[i];
		var j=5; do {
			ivs[j] = array_intersect(ivs[j],calc_stativ($('number-'+r).value,j,$('stat'+j+'-'+r).value,$('ep'+j+'-'+r).value,$('level-'+r).value,$('nat-'+r).value,$('char-'+r).value,$('pot1-'+r).value,$('pot2-'+r).value));
			if (error != 0) { display_status(error); $('stat'+j+'-'+r).focus(); return false; }
		} while(j--);
		miniv[0] = $('char-'+r).value.split('.')[0];
		i++;
	} while(i<l);
	//Validate IVs
	var c = 0; var i=5; do {
		ivs[i] = validate_iv(ivs[i],$('number-'+r).value,i,$('stat'+i+'-'+r).value,$('ep'+i+'-'+r).value,$('level-'+r).value,$('nat-'+r).value);
		if (error != 0) { display_status(error); $('stat'+i+'-'+r).focus(); return false; }
		if (ivs[i].length == 1) { c++; }
	} while(i--);

	validate_ties();
	if (error != 0) { display_status(error); $('pot1').focus(); return false; }

	//Refine using Hidden Power //XY TODO
	if ((error == 0) && $('hpt-'+rn).value > -1) {
		if (c == 6 && ($('hpt-'+rn).value != calc_hiddent(ivs[0][0],ivs[1][0],ivs[2][0],ivs[3][0],ivs[4][0],ivs[5][0]))) {
			error = '<em>'+get_text('species',$('number-'+rn).value)+'</em> 等级 '+$('level-'+rn).value+' 无法计算！<br/>输入的<em class="error">觉醒力量</em>（'+typeshp[$('hpt-'+rn).value]+'）不正确。';
			display_status(error);
			$('hpt').focus();
			return false;
		}

		ivh = [];
		var k = 0;
		var  i=5; do {
			ivh[i] = [];
			for(var j=0;j<ivs[i].length;j++) { //global- make odd&even possibility array for every stat
				ivh[i].push(((ivs[i][j]%2==1)?1:0));
				if (ivh[i].length == 2) { k++; break; }
			}
		} while(i--);
		var hp = hps[$('hpt-'+rn).value].split(',');
		for (var i=0; i < hp.length;i++) {
			hp[i] = (hp[i]*1).toString(2); //decimal -> binary SpDef/SpAtk/Spd/Def/Atk/HP
			hp[i] = hp[i].split('');
			hp[i] = hp[i].reverse(); //-> HP/Atk/Def/Spd/SpAtk/SpDef
			hp[i].push(0,0,0,0,0); //ensure all bits are there
			hp[i] = hp[i].slice(0,6); //but we only need 6
			var s = hp[i][3]; //-> HP/Atk/Def/SpAtk/SpDef/Spd
			hp[i][3] = hp[i][4];
			hp[i][4] = hp[i][5];
			hp[i][5] = s;
		}
		var ivhs = [];
		var l = 0;
		for (var i=0;i < hp.length;i++) {
			if ((ivh[0].indexOf(1*hp[i][0]) != -1) && (ivh[1].indexOf(1*hp[i][1]) != -1) && (ivh[2].indexOf(1*hp[i][2]) != -1) && (ivh[3].indexOf(1*hp[i][3]) != -1) && (ivh[4].indexOf(1*hp[i][4]) != -1) && (ivh[5].indexOf(1*hp[i][5]) != -1)) { //if all match then add to possible hps[] value for given type
				ivhs[l] = [];
				ivhs[l] = hp[i].slice();
				l++;
			}
		}
		var ivhss = [];
		var l = 0;
		for (var i=0;i < ivhs.length;i++) {
			var j=5; do { //make possibility array for every stat, [0], [1] or [0,1]/[1,0] for given type
				if (!ivhss[j]) { ivhss[j] = []; }
				var t = ivhs[i][j];
				if (ivhss[j].length < 2 && ivhss[j].indexOf(t) == -1) { ivhss[j].push(t); }
				if (ivhss[j].length == 2) { l++; }
			} while(j--);
		}
		if (l != 6) { //ensure not all combinations are possible for given type
			var i=5; do {
				if (!ivhss[i]) {
					error = '<em>'+get_text('species',$('number-'+rn).value)+'</em> 等级 '+$('level-'+rn).value+' 无法计算！<br/>输入的<em class="error">觉醒力量</em>（'+typeshp[$('hpt-'+rn).value]+'）不正确。';
					display_status(error);
					$('hpt').focus();
					return false;
				}
				if (ivhss[i].length == 1) {
					var eo = [];
					eo[0] = [0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30];
					eo[1] = [1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31];
					ivs[i] = array_intersect(ivs[i],eo[ivhss[i][0]].slice());
				}
			} while(i--);
		}
	}
	//end Hidden Power refine

	validate_ties();
	if (error != 0) { display_status(error); $('pot1').focus(); return false; }

	//Pinpoint next helpful level and EPs if IVs are multiple
	//plv: 1-level 2-eps 3-stat1 4-stat2 - branched stats
	var lr = (mode==2?rn:rs[rs.length-1]);
	var plv = [];
	var  i=5; do {
		plv[i] = ['','','']; //level, branch, eps
		var z=1;
		if (ivs[i].length > 1 && mode!=1) {
			var j = $('level-'+lr).value;
			while (plv[i][0] == '' && j <= 100) {
				for (var z=1,zl=ivs[i].length;z <= zl;z++) {
					var statev = $('ep'+i+'-'+lr).value;
					var a = calc_stat($('number-'+lr).value,i,ivs[i][z-1],statev,j,$('nat-'+lr).value);
					var b = calc_stat($('number-'+lr).value,i,ivs[i][z],statev,j,$('nat-'+lr).value);
					if (ivs[i].length <= 2 && eps == 1) { //Calculate EPs for exact stat
						var y = statev;
						while (plv[i][2] == '' && y < 255) {
							for (var x=1,xl=ivs[i].length;x <= xl;x++) {
								var c = calc_stat($('number-'+lr).value,i,ivs[i][x-1],y,$('level-'+lr).value,$('nat-'+lr).value);
								var d = calc_stat($('number-'+lr).value,i,ivs[i][x],y,$('level-'+lr).value,$('nat-'+lr).value);
								if (c < d) { plv[i][2] = y; break; }
							}
							y++;
						}
					}
					if (a < b) { plv[i][0] = j; plv[i][3] = a; plv[i][4] = b; break; }
				}
				j++;
			}
			if ($('level-'+lr).value == 100) { plv[i][0] = ''; }
		}
		plv[i][1] = z-1;
	} while(i--);
	//Display Results
	var i=rs.indexOf(rn);
	if (i>-1) {
		display_ivs(rn,plv);
		if (mode==1 && rs[i+1]) { calc_ivs(rs[i+1],1); } //recursion if Team mode
	}
	//return true;
}
function calc_eps() { //Calculates and displays required EPs
	display_eps();
	$('statlvl').value = $('level-0').value;
	if (display_stats(0)) {
		$('stat0-0').focus();
		function count_eps(pstat,stat,iv,eps) { //calculates required EPs - brute force way
			for (var i=$(eps).value;i<=255;i++) {
				if (calc_stat($('number-0').value,pstat,$(iv).value,i,$('level-0').value,$('nat-0').value) == $(stat).value) { return i - $(eps).value; }
			}
			return 'Lv.';
		}
		var  i=5; do {
			$('eps'+i).innerHTML = count_eps(i,'stat'+i+'-0','med'+i+'-0','ep'+i+'-0');
		} while(i--);
		$('epsr').innerHTML = 1*$('eps0').innerHTML + 1*$('eps1').innerHTML + 1*$('eps2').innerHTML + 1*$('eps3').innerHTML + 1*$('eps4').innerHTML + 1*$('eps5').innerHTML + 1*$('eps-0').innerHTML;
		if(isNaN($('epsr').innerHTML)) { $('epsr').innerHTML = 'Lv.'; }
	}
	if ($('epsr').innerHTML > 510) { $('epsr').className = 'error';}
	if ($('epsr').innerHTML < 510) { $('epsr').className = '';}
}

/* Display functions */

function display_status(str,s) {
	var t = $('status').innerHTML;
	$('status').innerHTML = str;
	if (s>0) { setTimeout(function () { display_status(t); }, s*1000);	}
}
function display_base() { //Displays Base Stats
	var p = $('species').value;
	$('types').innerHTML =  (get_base(p,6) == get_base(p,7)?types[get_base(p,6)]:types[get_base(p,6)]+' / '+types[get_base(p,7)]);
	$('eggs').innerHTML =  (get_base(p,8) == get_base(p,9)?eggs[get_base(p,8)]:eggs[get_base(p,8)]+' / '+eggs[get_base(p,9)]);
	var  i=5; do {
		$('base'+i).innerHTML =  get_base(p,i);
	} while(i--);
	display_eps();
	display_effectiveness(p);
}
function display_eps(n) { //Displays provided EPs
	if (eps == 0) { return false; }
	var p = $('species').value;
	var n = (n>-1?n:(act>-1?act:actp)); //active row
	var sum = 1*$('ep0-'+n).value + 1*$('ep1-'+n).value + 1*$('ep2-'+n).value + 1*$('ep3-'+n).value + 1*$('ep4-'+n).value + 1*$('ep5-'+n).value;
	$('eps-'+n).innerHTML = (sum==510?'<span class="ok">'+sum+'</span>':sum);
	var item = $('item').value;
	var vit = ((item > 7)?0:1); //vitamins on or off
	var berry = 1; if (item > 13) { berry = -1; item = item-6; } //berries off or on
	var mult = $('times').value*(($('pkrs').checked == 1)?2:1)*((item == 1)?2:1)*vit; //multipliers

	//hp up, protein, iron, calcium, zinc, 13carbos - Pomeg, Kelpsy, Qualot, Hondew, Grepa and Tamato
	var  i=5; do {
		$('eff'+i).innerHTML =  mult*(1*(get_base(p,10)[i])+((item == 2+i)?4:0)) + $('times').value*(1*((item == i+8)?10:0))*berry;
		$('item').options[i+8].disabled = ''; //reset vitamins
		if ($('ep'+i+'-'+n).value*1+$('times').value*10 > 100 || 510 < sum+$('times').value*10 || $('level-'+n).value == 100) {
			$('item').options[i+8].disabled = 'disabled';
			if (item > 7) {
				$('eff'+i).innerHTML = ((item == i+8) && (berry == -1)?-10*$('times').value:0);
			}
		}
	} while(i--);

	if (sum > 510) { $('eps-'+n).className = 'error'; }
	else { $('eps-'+n).className = ''; }
}
function display_nature() {
	var n = $('nat').value;
	var i=5; do {
		$('nate-'+i).innerHTML = '-';
		if (natures[n][i-1] > 1) { $('nate-'+i).innerHTML = '<strong>&times;1.1</strong>'; }
		if (natures[n][i-1] < 1) { $('nate-'+i).innerHTML = '&times;0.9'; }
		i--;
	} while(i>0);
}
function display_char() {
	var i=5; do {
		$('med'+i+'-0').style.borderWidth = '';
	} while(i--);
	var n=$('char').value.split('.')[0];
	if (n > -1) { $('med'+n+'-0').style.borderWidth = '3'; }
}
function display_effectiveness(p) {
	var type1 = get_base(p,6);
	var type2 = get_base(p,7);
	var d = []; d[4] = []; d[0] = []; d[1] = []; d[2] = []; d[8] = []; d[16] = [];
	var t = []; t[4] = []; t[0] = []; t[1] = []; t[2] = []; t[8] = []; t[16] = [];

	if (mode==1 && act >-1) {
		for (var i=0,l=rs.length; i < l; i++)  {
			p = $('number-'+rs[i]).value;
			type1 = get_base(p,6);
			type2 = get_base(p,7);
			for (var j=0; j < 18; j++)  {
				var a = calc_effectiveness(j,type1,type2);
				if(!t[4*a][j]) {
					t[4*a][j] = 1;
					d[4*a].push(j);
				}
				else { t[4*a][j]++; }
			}
		}
	}
	else {
		for (var i=0; i < 18; i++)  {
			var a = calc_effectiveness(i,type1,type2);
			t[4*a][i] = 1;
			d[4*a].push(i);
		}
	}
	var i=4, j=[0,1,2,8,16]; do {
		d[j[i]] = d[j[i]].map(function(v){if(t[j[i]][v]>1){return types[v]+'<strong>&times;'+t[j[i]][v]+'</strong>';}return types[v];});
		d[j[i]].sort();
		$('dmg'+j[i]).innerHTML = d[j[i]].join(', ');
	} while(i--);
}
function add_sprite() { //Adds sprite events
	event_add($('species'), 'change', display_sprite);
	event_add($('name'), 'keyup', display_sprite);
	event_add($('number'), 'keyup', display_sprite);
	display_sprite();
}
spr = '';
function display_sprite() { //feel free to modify if you want to serve sprites from your server
	clearTimeout(spr);
	if (!navigator.onLine) {
		online = 0;
		$('sprite').innerHTML = '';
		return false;
	}
	alt = {0:'egg',386.1:'386-a',386.2:'386-d',386.3:'386-s',413.1:'413-c',413.2:'413-t',492.1:'492-s',487.1:'487-o',479.1:'479-h',479.2:'479-w',479.3:'479-f',479.4:'479-s',479.5:'479-m',351.1:'351-s',351.2:'351-r',351.3:'351-i',550.1:'550-b',555.1:'555-d',648.1:'648-s',646.1:'646-w',646.2:'646-b',647.1:'647-r',641.1:'641-s',642.1:'642-s',645.1:'645-s',670.1:'678-e',678.1:'678-f',681.1:'681-b',710.1:'710-s',710.2:'710-l',710.3:'710-h',711.1:'711-s',711.2:'711-l',711.3:'711-h',3.1:'003-m',6.1:'006-mx',6.2:'006-my',9.1:'009-m',65.1:'065-m',94.1:'094-m',115.1:'115-m',127.1:'127-m',130.1:'130-m',142.1:'142-m',150.1:'150-mx',150.2:'150-my',181.1:'181-m',212.1:'212-m',214.1:'214-m',229.1:'229-m',248.1:'248-m',257.1:'257-m',282.1:'282-m',303.1:'303-m',306.1:'306-m',308.1:'308-m',310.1:'310-m',354.1:'354-m',359.1:'359-m',380.1:'380-m',381.1:'381-m',445.1:'445-m',448.1:'448-m',460.1:'460-m',15.1:'015-m',18.1:'018-m',80.1:'080-m',208.1:'208-m',254.1:'254-m',260.1:'260-m',302.1:'302-m',319.1:'319-m',323.1:'323-m',334.1:'334-m',362.1:'362-m',373.1:'373-m',376.1:'376-m',382.1:'382-p',383.1:'383-p',384.1:'384-m',428.1:'428-m',475.1:'475-m',531.1:'531-m',719.1:'719-m',720.1:'720-u',19.1:'019-a',20.1:'020-a',26.1:'026-a',27.1:'027-a',28.1:'028-a',37.1:'037-a',38.1:'038-a',50.1:'050-a',51.1:'051-a',52.1:'052-a',53.1:'053-a',74.1:'074-a',75.1:'075-a',76.1:'076-a',88.1:'088-a',89.1:'089-a',103.1:'103-a',105.1:'105-a',658.1:'658-a',718.1:'718-10',718.2:'718-c',741.1:'741-p',741.2:'741-pau',741.3:'741-s',746.1:'746-s',745.1:'745-m',774.1:'774-r',745.2:'745-d',800.1:'800-dm',800.2:'800-dw',800.3:'800-u'};
	spr = setTimeout (function() {
		$('sprite').innerHTML = '';
		var i=0, l=(mode==1 && act >-1?rs.length:1), result='';
		do {
			var n = (mode==1 && act >-1?$('number-'+rs[i]):$('species')).value*1; // dex number + form indicator
			var m = Math.floor(n).toString();
			if (alt[n]) { // use specified sprite for dex number + form indicator
				m = alt[n];
			}
			else { // use default sprite for base dex number, padding number if needed
				if (n < 10) {
					m = '0'+m;
				}
				if (n < 100) {
					m = '0'+m;
				}
			}
			var text = $('species').options[$('species').selectedIndex].text.split('（')[0];
			$('sprite').innerHTML += '<a href="https://wiki.52poke.com/wiki/'+encodeURIComponent(text)+'"><img src="https://www.serebii.net/'+
			(mode==1 && act >-1?'pokedex-sm/icon/'+m+'.png':'sunmoon/pokemon/'+m+'.png')+'" alt="'+m.substring(0,3)+'" /></a>';
			i++;
		} while(i<l);
	}, 500);
}
function display_text(r) { //Displays copy & paste results
	var b=[],a = '#'+$('number-'+r).value+' '+get_text('species',$('number-'+r).value)+' ['+get_text('nat',$('nat-'+r).value)+']<br/>IVs: ';
	//get_text('gnd',$('gnd').value)
	var i=0; do {
		if (ivs[i].length > 3) {
			b.push(ivs[i][0]+' - '+ivs[i][(ivs[i].length-1)]);
		}
		else { b.push(ivs[i].join(', ')); }
		i++;
	} while (i<6);
	a += b.join(' / ');
	a += '<br/>等级 '+$('level-'+r).value+' 的能力：';
	var i=0,b=[]; do {
		stat = $('stat'+i+'-'+r).value;
		ep = $('ep'+i+'-'+r).value;
		b.push(stat + (ep > 0?' ('+ep+')':''));
		i++;
	} while (i<6);
	a += b.join(' / ');
	display_status(a);
}
function display_stats(r,m) { //Displays calculated stats
	if ($('statlvl').value == 0) { $('statlvl').value = 100; }
	if (mode == 1) { display_status('无法计算队伍模式的能力。'); }

	var  i=5; do {
		if (m === '' && (!$('med'+i+'-0').value || error != 0)) {
			display_status('无法计算！<br/>请先输入或计算个体值。');
			return false;
		}
		switch(m) {
			case 0: var iv=0, ep=0, nat='min'; break;
			case 1: var iv=31, ep=255, nat='max'; break;
			default:
			var iv = $('med'+i+'-0').value, ep = $('ep'+i+'-'+r).value, nat = $('nat-'+r).value;
		}
		$('stats'+i).innerHTML = calc_stat($('number-'+r).value,i,iv,ep,$('statlvl').value,nat);
	} while(i--);
	return true;
}
function display_ivs(rn,plv) { //Displays IVs appropriately
	if (error != 0) { return false; }
	if (mode==1) {
		if (rn==0) {
			$('ivrows').style.display = 'none';
			el_del($('ivrows'));
			$('ivrows').style.display = '';
		}
		var a=[], i=0; do {
			if (ivs[i].length > 2) {
				a.push(ivs[i][0]+'-'+ivs[i][(ivs[i].length-1)])+'';
			}
			else { a.push(ivs[i].join('-')); }
			i++;
		} while (i<6);
		var r = el_add($('ivrows'),'tr');
		el_add(r,'td',{},'<h4 class="btn" onclick="toggle_mode(); if ($(\'act-'+rn+'\').checked == 0) { row_act('+rn+'); } calc_ivs('+rn+'); $(\'btn-mode\').focus();">#'+$('number-'+rn).value+':</h4>');
		var i=0; do {
			el_add(r,'td',{className:'right'},a[i]+'');
			i++;
		} while (i<6);
		display_status('计算完成。');
		return true;
	}
	var  i=5; do {
		if (!$('medl').checked) { $('med'+i+'-0').value = ivs[i][Math.ceil(ivs[i].length/2)-1]; }
		$('plv'+i+'-0').innerHTML = (plv[i][0] == ''?(ivs[i].length == 1?'<span class="ok">OK!</span>':'<span class="tooltip" title="Refine using Hidden Power.">[?]</span>'):'<span class="btn" onclick="row_add(0,'+plv[i][0]+'); $(\'stat0-\'+(rn-1)).focus();">'+plv[i][0]+'</span>')+(plv[i][2] == ''?'':'<br/><span class="eps">'+plv[i][2]+'</span>');

		var ivst = ivs[i].slice();
		if (plv[i][1]<ivst.length) { ivst[plv[i][1]] = ivst[plv[i][1]]+'</span><span class="tooltip" style="font-size: 0.9em;" title="Lv.'+plv[i][0]+' '+stats[i]+': &lt;strong&gt;'+plv[i][4]+'&lt;/strong&gt;">'; }
		$('spr'+i+'-0').innerHTML = '<span class="tooltip" style="font-weight: bold;" '+(plv[i][0] == ''?'':'title="Lv.'+plv[i][0]+' '+stats[i]+': &lt;strong&gt;'+plv[i][3]+'&lt;/strong&gt;"')+'>'+ivst.join(', ')+'&nbsp;</span>';
	} while(i--);
	rn = (mode==2?rn:rs[rs.length-1]);
	display_stats(rn); display_text(rn);
}

eval(function(a,r,c,e,u,s){u=function(c){return(c<r?'':u(parseInt(c/r)))+((c=c%r)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)s[u(c)]=e[c]||u(c);e=[function(u){return s[u]}];u=function(){return'\\w+'};c=1};while(c--)if(e[c])a=a.replace(new RegExp('\\b'+u(c)+'\\b','g'),e[c]);return a}('l s(){w($(\'z\')==q){y("\\u\\3\\A\\1\\2\\7\\0\\1\\4\\5\\1\\o\\4\\3\\9\\2\\6\\4\\3\\5\\1\\3\\m\\1\\6\\d\\4\\8\\1\\c\\7\\3\\f\\7\\2\\j\\r\\8\\1\\9\\4\\a\\0\\5\\a\\0\\h\\n\\p\\9\\0\\2\\8\\0\\1\\2\\9\\b\\2\\e\\8\\1\\i\\0\\0\\c\\1\\6\\d\\0\\1\\a\\7\\0\\g\\4\\6\\8\\1\\4\\5\\6\\2\\a\\6\\h\\n\\n\\b\\b\\b\\k\\9\\0\\f\\0\\5\\g\\2\\7\\e\\c\\3\\i\\0\\j\\3\\5\\k\\5\\0\\6");t}v();x()};',37,37,'u0065|u0020|u0061|u006f|u0069|u006e|u0074|u0072|u0073|u006c|u0063|u0077|u0070|u0068|u0079|u0067|u0064|u0021|u006b|u006d|u002e|function|u0066||u0076|u0050|null|u0027|init0|return|u0059|online_check|if|initO|alert|lp|u0075'.split('|'),0,{}));

function initO() { //Actions to perform once the page has loaded
	$('form').reset(); //reset all fields
	toggle_theme();
	tooltips();
	display_status('<span class="loading">正在初始化…</span>');
	$('calculator').style.minHeight = (1*(window.innerHeight?window.innerHeight:(document.body?document.body.clientHeight:''))-16)+'px'; /* remove this when including */
	$('ept').style.visibility = 'hidden';
	$('mode1').style.display = 'none';
	toggle($('history'));

	event_add($('name'),"keyup", function () { autocomplete(this,$('species'),'text',true); $('number').value=Math.floor($('species').value); display_base(); row_edit(); });
	event_add($('name'),"focus", function () { this.value = '' });
	event_add($('species'),"change", function () { $('name').value=$('species').options[$('species').selectedIndex].text; $('number').value=Math.floor($('species').value); display_base(); row_edit(); });
	event_add($('number'),"keyup", function (evt) { vv('number',0,forms_after,evt); $('species').value=$('number').value; $('name').value=$('species').options[$('species').selectedIndex].text; display_base(); row_edit(); });
	event_add($('nat'),"change", function () { display_nature(); row_edit(); });
	event_add($('charn'),"keyup", function () { autocomplete(this,$('char'),'text',true); display_char(); row_edit(); });
	event_add($('char'),"change", function () { $('charn').value=$('char').options[$('char').selectedIndex].text; display_char(); row_edit(); });
	event_add($('hpt'),"change", function () { row_edit(); if(act>-1){ $('level-'+act).focus(); }});
	event_add($('hpt'),"blur", function () { if(act>-1){ $('level-'+act).focus();}}); //fails in chrome, issue 6759
	event_add($('pkrs'),"click", function () { display_eps(); });
	event_add($('item'),"change", function () { display_eps(); });
	event_add($('times'),"keyup", function (evt) { vv('times',0,255,evt); display_eps(); });

	event_add($('level-0'),"keyup", function (evt) { vv('level-0',0,100,evt,0); });
	event_add($('statlvl'),"keyup", function (evt) { vv('statlvl',0,100,evt); });
	event_add($('act-0'),"click", function () { row_act(0); });
	var  i=5; do {
		event_add($('stat'+i+'-0'),"keyup", function (evt) { vv(this.id,0,999,evt,0); });
		event_add($('ep'+i+'-0'),"keyup", function (evt) { vv(this.id,0,255,evt,0); display_eps(); });
		event_add($('med'+i+'-0'),"keyup", function (evt) { vv(this.id,0,31,evt); });
	} while(i--);

	event_add($('pot0'),"change", function () { row_edit(); });
	if (navigator.userAgent.indexOf('AppleWebKit') > -1) { $('pot1').style.height = '18px'; } //workaround for Webkit, Chrome issue 41759
	event_add($('pot1'),"focus", function () { this.size=7; this.style.position='absolute'; this.style.width='88px'; this.style.height='auto'; });
	event_add($('pot1'),"blur", function () { this.size=7; this.style.position='absolute'; this.style.width='88px'; this.style.height='18px'; });
	event_add($('pot1'),"blur", function () { row_edit(); this.size=1; this.style.position=''; this.style.width='78px'; });
	event_add($('pot2'),"change", function () { row_edit(); });

	event_add($('btn-addrow'),"click", function () { row_add(); $((mode?'name':'stat0-'+(rn-1))).focus(); tooltips(); });
	event_add($('btn-addeps'),"click", add_eps);
	event_add($('btn-theme'),"click", toggle_theme);
	event_add($('btn-eps'),"click", function () { calc_eps(); });
	event_add($('btn-evs'),"click", toggle_evs);
	event_add($('btn-mode'),"click", function () { toggle_mode(mode); });
	event_add($('btn-save'),"click", code_save);
	event_add($('btn-ivs'),"click", function () { calc_ivs((mode==2 && act>-1?act:0)); tooltips(); });
	event_add($('btn-stats'),"click", function () { display_stats((act>-1?act:0)); });
	event_add($('btn-statsmin'),"click", function () { display_stats((act>-1?act:0),0); });
	event_add($('btn-statsmax'),"click", function () { display_stats((act>-1?act:0),1); });
	event_add($('btn-hp'),"click", function () { calc_hidden((mode==2 && act>-1?act:0)); });
	event_add($('toggleinfo'),"click", function () { toggle($('info')); toggle($('instructions')); });
	event_add($('toggleinstructions'),"click", function () { toggle($('info')); toggle($('instructions')); });
	event_add($('togglehistory'),"click", function () { toggle($('history')); });

	var tload;
	event_add($('btn-load'),"click", function(){
		if(tload){
			clearTimeout(tload);
			tload = '';
			code_load(prompt('输入保存代码：'));
		}
		else tload= setTimeout(function(){
			tload = '';
			code_load(location.search);
		},300);
	});

	pop_species();
	display_base();

	if (location.protocol != 'data:') {
		var br = navigator.userAgent;
		if (br.indexOf('iPhone') > -1 || br.indexOf('iPod') > -1 || br.indexOf('iPad') > -1) {
		$('download').innerHTML = "&#63743; 训练家您好！你可以将本页<strong>保存</strong>脱机使用。只要<a href=\"javascript:x=new XMLHttpRequest();x.onreadystatechange=function(){if(x.readyState==4)location='data:text/html;charset=utf-8;base64,'+btoa(unescape(encodeURIComponent(x.responseText)))};x.open('GET',location);x.send('');\">点击这个链接</a>，然后保存到个人收藏即可。";  }
	}

	$('name').focus();
	if (location.search.indexOf('sc=') > -1) { $('btn-load').value+='*'; $('btn-load').focus(); } //Make SavedCose visible

	if ((document.charset && document.charset.toLowerCase() != 'utf-8') || (document.characterSet && document.characterSet.toLowerCase() != 'utf-8')) {
		display_status('<span class="error">请设置您的浏览器编码为 UTF-8。</span>');
	}
	else if (pk.length != mn.unique().length) {
		display_status('<span class="error">计算器数据错误。</span><br>请使用<a href="https://mudkip.me/ivcalc/ivcalcsm.html">原版</a>。</span>');
	}
	else {
		display_status('顺利运行。<br/><span class="btn" onclick="toggle_simple();">简洁模式？</span>');
	}
}
event_add(window,"load", init0);
//--><!]]>
</script>
<div id="head" class="block">
<table><tr><td class="primary"><h1>太阳／月亮 个体值与能力计算器</h1></td>
<td class="secondary"><a href="https://legendarypkmn.net">LegendaryPKMN .net</a> / <a href="https://52poke.com/">神奇宝贝部落格</a></td></tr></table> <!-- feel free to put your branding here -->
</div><!-- end header -->
<noscript><div class="block"><p class="center">请开启您的浏览器的 JavaScript 功能。</p></div></noscript>
<div id="gui" class="block"><form id="form" action="" onsubmit="return false;"><table>
<tr><td class="primary"><table>
<tr><td colspan="7"><h2>宝可梦</h2></td><td colspan="3"><h2>性格</h2></td></tr>
<tr><td colspan="3"><input type="text" id="name" name="name" class="left" /></td><td colspan="4">
<select id="species" name="species">
	<option value="0"> </option>
</select>
</td>
<!--<td>
<select id="gnd" name="gnd">
	<option value="-1">&#9898;</option>
	<option value="0">&#9792;</option>
	<option value="1">&#9794;</option>
</select>
</td>-->
<td colspan="3">
<select id="nat" name="nat">
	<option value="-1"> </option>
	<option value="1">害羞</option>
	<option value="2">坦率</option>
	<option value="3">勤奋</option>
	<option value="4">认真</option>
	<option value="5">浮躁</option>
	<option value="6">大胆</option>
	<option value="7">内敛</option>
	<option value="8">温和</option>
	<option value="9">胆小</option>
	<option value="10">怕寂寞</option>
	<option value="11">慢吞吞</option>
	<option value="12">温顺</option>
	<option value="13">急躁</option>
	<option value="14">固执</option>
	<option value="15">淘气</option>
	<option value="16">慎重</option>
	<option value="17">爽朗</option>
	<option value="18">顽皮</option>
	<option value="19">乐天</option>
	<option value="20">马虎</option>
	<option value="21">天真</option>
	<option value="22">勇敢</option>
	<option value="23">悠闲</option>
	<option value="24">冷静</option>
	<option value="25">自大</option>
</select></td>
</tr>
<tr class="ext"><td colspan="2"><h4>属性：</h4></td><td id="types" colspan="3" class="left"></td><td colspan="2"><h4>蛋群：</h4></td><td id="eggs" colspan="3" class="left"></td></tr>
<tr class="ext"><td colspan="7"><h2 class="tooltip" title="&lt;strong&gt;可选&lt;/strong&gt;">个性 *</h2></td><td colspan="3"><h2 class="tooltip" title="&lt;strong&gt;可选&lt;/strong&gt; 询问欧哈纳牧场宝可梦寄放屋的觉醒力量判断人。">觉醒力量 *</h2></td></tr>
<tr class="ext"><td colspan="3"><input type="text" id="charn" name="charn" class="left" /></td><td colspan="4">
<select id="char" name="char">
	<option value="-1"> </option>
	<option value="0.0">非常喜欢吃东西</option>
	<option value="0.1">经常睡午觉</option>
	<option value="0.2">常常打瞌睡</option>
	<option value="0.3">经常乱扔东西</option>
	<option value="0.4">喜欢悠然自在</option>
	<option value="1.0">以力气大为傲</option>
	<option value="1.1">喜欢胡闹</option>
	<option value="1.2">有点容易生气</option>
	<option value="1.3">喜欢打架</option>
	<option value="1.4">血气方刚</option>
	<option value="2.0">身体强壮</option>
	<option value="2.1">抗打能力强</option>
	<option value="2.2">顽强不屈</option>
	<option value="2.3">能吃苦耐劳</option>
	<option value="2.4">善于忍耐</option>
	<option value="3.0">好奇心强</option>
	<option value="3.1">喜欢恶作剧</option>
	<option value="3.2">做事万无一失</option>
	<option value="3.3">经常思考</option>
	<option value="3.4">一丝不苟</option>
	<option value="4.0">性格强势</option>
	<option value="4.1">有一点点爱慕虚荣</option>
	<option value="4.2">争强好胜</option>
	<option value="4.3">不服输</option>
	<option value="4.4">有一点点固执</option>
	<option value="5.0">喜欢比谁跑得快</option>
	<option value="5.1">对声音敏感</option>
	<option value="5.2">冒冒失失</option>
	<option value="5.3">有点容易得意忘形</option>
	<option value="5.4">逃得快</option>
<!--
Hiruneoyokusuru - Often dozes off - Takes plenty of siestas (HP%5=1)
Inemurigaooi - Often scatters things - Nods off a lot - (HP%5=2)
Monooyokuchirasu - Scatters things often - Scatters things often - (HP%5=3)
-->
</select>
</td>
<td colspan="3"><select name="hpt" id="hpt">
	<option value="-1"> </option>
	<option value="0">格斗</option>
	<option value="1">飞行</option>
	<option value="2">毒</option>
	<option value="3">地面</option>
	<option value="4">岩石</option>
	<option value="5">虫</option>
	<option value="6">幽灵</option>
	<option value="7">钢</option>
	<option value="8">火</option>
	<option value="9">水</option>
	<option value="10">草</option>
	<option value="11">电</option>
	<option value="12">超能力</option>
	<option value="13">冰</option>
	<option value="14">龙</option>
	<option value="15">恶</option>
</select></td>
</tr>
<tr class="ext tooltip" title="&lt;strong&gt;可选&lt;/strong&gt; 使用宝可梦寄放系统的评定功能。"><td colspan="5"><h2>全体能力 *</h2></td><td colspan="5"><h2>最高能力 *</h2></td></tr>
<tr class="ext">
<td colspan="5"><select name="pot0" id="pot0">
	<option value="-1"> </option>
	<option value="0">还算可以 [0-90]</option>
	<option value="1">中等偏上 [91-120]</option>
	<option value="2">相当优秀 [121-150]</option>
	<option value="3">了不起 [151-186]</option>
</select></td>
<td colspan="2" style="position: relative;" class="left top"><select name="pot1" id="pot1" size="1" multiple="multiple">
	<option value="-1"> </option>
	<option value="0">ＨＰ</option>
	<option value="1">攻击</option>
	<option value="2">防御</option>
	<option value="3">特攻</option>
	<option value="4">特防</option>
	<option value="5">速度</option>
</select>
</td>
<td colspan="3"><select name="pot2" id="pot2">
	<option value="-1"> </option>
	<option value="0">也许不行</option>
	<option value="1">一般般</option>
	<option value="2">相当好</option>
	<option value="3">非常好</option>
	<option value="4">了不起</option>
	<option value="5">最棒</option>
</select></td>
<!--
	zero IVs:
<td colspan="3"><select name="pot3" id="pot3">
	<option value="-1"> </option>
	<option value="0">HP</option>
	<option value="1">Attack</option>
	<option value="2">Defense</option>
	<option value="3">Sp. Attack</option>
	<option value="4">Sp. Defense</option>
	<option value="5">Speed</option>
</select></td>
-->
</tr>


<tr class="ext"><td></td><td></td><td></td><td><h3>ＨＰ</h3></td><td><h3>攻击</h3></td><td><h3>防御</h3></td><td><h3>特攻</h3></td><td><h3>特防</h3></td><td><h3>速度</h3></td><td><h3 class="center">编号</h3></td></tr>

<tr class="ext"><td colspan="3"><h4>性格影响：</h4></td><td></td><td class="right" id="nate-1">-</td><td class="right" id="nate-2">-</td><td class="right" id="nate-3">-</td><td class="right" id="nate-4">-</td><td class="right" id="nate-5">-</td></tr>
<tr class="ext"><td colspan="3"><h4>最高能力：</h4></td><td class="right" id="base0"></td><td class="right" id="base1"></td><td class="right" id="base2"></td><td class="right" id="base3"></td><td class="right" id="base4"></td><td class="right" id="base5"></td><td><input style="text-align: right;"  type="text" id="number" name="number" maxlength="3" size="3" value="0" /></td></tr>
<tr class="eps ext"><td colspan="3"><h4>基础点数：</h4></td><td class="right" id="eff0"></td><td class="right" id="eff1"></td><td class="right" id="eff2"></td><td class="right" id="eff3"></td><td class="right" id="eff4"></td><td class="right" id="eff5"></td><td></td></tr>
<tr id="ept" class="eps ext">
<td colspan="2"><h4>宝可病毒：</h4></td><td><input name="pkrs" id="pkrs" type="checkbox"/></td>
<td><h4>道具</h4></td><td colspan="3"><select id="item" name="item">
	<option value="0"> </option>
	<optgroup label="携带物品">
	<option value="1">强制锻炼器</option>
	<option value="2">力量负重</option>
	<option value="3">力量护腕</option>
	<option value="4">力量腰带</option>
	<option value="5">力量镜</option>
	<option value="6">力量束带</option>
	<option value="7">力量护踝</option>
	</optgroup>
	<optgroup label="营养饮料">
	<option value="8">ＨＰ增强剂</option>
	<option value="9">攻击增强剂</option>
	<option value="10">防御增强剂</option>
	<option value="11">特攻增强剂</option>
	<option value="12">特防增强剂</option>
	<option value="13">速度增强剂</option>
	</optgroup>
	<optgroup label="树果">
	<option value="14">榴石果</option>
	<option value="15">藻根果</option>
	<option value="16">比巴果</option>
	<option value="17">哈密果</option>
	<option value="18">萄葡果</option>
	<option value="19">茄番果</option>
	</optgroup>
</select></td>
<td>&times;</td><td><input type="text" id="times" name="times" maxlength="3" size="3" value="1" /></td>
<td><input class="button tooltip" type="button" id="btn-addeps" value="+" title="增加基础点数。" /></td></tr>

<tr><td></td><td><h3>等级</h3></td><td></td><td><h3>ＨＰ</h3></td><td><h3>攻击</h3></td><td><h3>防御</h3></td><td><h3>特攻</h3></td><td><h3>特防</h3></td><td><h3>速度</h3></td><td><h3 class="center">编号</h3></td></tr>
<tr id="statrow-0"><td><input type="radio" class="radio tooltip" name="act" id="act-0" value="0" checked="checked" title="（取消）选择这一行。"/> <span id="btn-addrow" class="btn tooltip" title="增加新一行。">+</span></td><td><input type="text"  id="level-0" name="level-0" maxlength="3" size="3"/></td><td><h4>能力</h4></td>
<td><input type="text" name="stat0-0" id="stat0-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat1-0" id="stat1-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat2-0" id="stat2-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat3-0" id="stat3-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat4-0" id="stat4-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat5-0" id="stat5-0" maxlength="3" size="3" value="" /></td>
<td><input style="text-align: right;" disabled="disabled" type="text" id="number-0" name="number-0" maxlength="3" size="3" value="0" /><input type="hidden" id="nat-0" name="nat-0" value="" /><input type="hidden" id="char-0" name="char-0" value="" /><input type="hidden" id="hpt-0" name="hpt-0" value="" /><input type="hidden" id="pot0-0" name="pot0-0" value="" /><input type="hidden" id="pot1-0" name="pot1-0" value="" /><input type="hidden" id="pot2-0" name="pot2-0" value="" /></td>
</tr>
<tr id="eprow-0" class="eps"><td></td><td id="eps-0"></td><td><h4>基础点数</h4></td>
<td><input type="text" name="ep0-0" id="ep0-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep1-0" id="ep1-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep2-0" id="ep2-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep3-0" id="ep3-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep4-0" id="ep4-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep5-0" id="ep5-0" maxlength="3" size="3" value="0" /></td>
<td></td>
</tr>

<tr class="eps ext"><td></td><td id="epsr"></td><td></td><td class="right" id="eps0"></td><td class="right" id="eps1"></td><td class="right" id="eps2"></td><td class="right" id="eps3"></td><td class="right" id="eps4"></td><td class="right" id="eps5"></td><td></td></tr>
<tfoot id="statrows"></tfoot>
</table></td>

<td class="secondary">
<table id="mode0">
<tr><td colspan="8"><h2>个体值</h2></td></tr>
<tr><td colspan="2"></td><td><h3>ＨＰ</h3></td><td><h3>攻击</h3></td><td><h3>防御</h3></td><td><h3>特攻</h3></td><td><h3>特防</h3></td><td><h3>速度</h3></td></tr>
<tr><td colspan="2"><h4><input name="medl" id="medl" class="ext tooltip" type="checkbox" title="锁定中间个体值。"/> 中值</h4></td>
<td><input type="text" name="med0-0" id="med0-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med1-0" id="med1-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med2-0" id="med2-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med3-0" id="med3-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med4-0" id="med4-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med5-0" id="med5-0" maxlength="2" size="2"/></td></tr>
<tr class="top tooltip" title="精确结果所需要的等级或基础点数。"><td colspan="2"><h4>+ 等级</h4><h4 class="eps">+ 基础点数</h4></td>
<td id="plv0-0"></td>
<td id="plv1-0"></td>
<td id="plv2-0"></td>
<td id="plv3-0"></td>
<td id="plv4-0"></td>
<td id="plv5-0"></td></tr>
<tr><td colspan="2" class="top"><h4>分布：</h4></td>
<td id="spr0-0" class="right"></td>
<td id="spr1-0" class="right"></td>
<td id="spr2-0" class="right"></td>
<td id="spr3-0" class="right"></td>
<td id="spr4-0" class="right"></td>
<td id="spr5-0" class="right"></td></tr>
</table>
<table id="mode1" class="mode">
<tr><td colspan="7"><h2>个体值</h2></td></tr>
<tr><td></td><td><h3>ＨＰ</h3></td><td><h3>攻击</h3></td><td><h3>防御</h3></td><td><h3>特攻</h3></td><td><h3>特防</h3></td><td><h3>速度</h3></td></tr>
<tfoot id="ivrows"></tfoot></table>
</td></tr>
<tr class="ext"><td id="bar" class="secondary">
<table>
<tr><td id="sprite" colspan="4" rowspan="5"></td><td colspan="6"><h2 class="tooltip" title="忽略特性影响。">属性相克</h2></td></tr>
<tr><td><h4>&times;0</h4></td><td colspan="5" id="dmg0" class="left"></td></tr>
<tr><td><h4>&times;&frac14;</h4></td><td colspan="5" id="dmg1" class="left"></td></tr>
<tr><td><h4>&times;&frac12;</h4></td><td colspan="5" id="dmg2" class="left"></td></tr>
<tr><td><h4>&times;2</h4></td><td colspan="5" id="dmg8" class="left"></td></tr>
<tr><td colspan="4"><input type="text" name="nickname" id="nickname" maxlength="12" size="12" class="center tooltip" title="&lt;strong&gt;可选&lt;/strong&gt;  宝可梦的昵称" /></td>
	<td><h4>&times;4</h4></td><td colspan="5" id="dmg16" class="left"></td></tr>
</table>
</td>

<td class="secondary">
<table><tr><td colspan="8"><h2>计算出的能力 - <span class="btn tooltip" id="btn-statsmin" title="基础点数和个体值均为0，性格降低能力。">最小</span> / <span class="btn tooltip" id="btn-statsmax" title="基础点数为252，个体值为31，并且性格增加能力">最大</span></h2></td></tr>
<tr><td class="top"><h4>等级</h4></td><td class="top"><input type="text"  id="statlvl" name="statlvl" maxlength="3" size="3"/></td><td id="stats0" class="right"></td><td id="stats1" class="right"></td><td id="stats2" class="right"></td><td id="stats3" class="right"></td><td id="stats4" class="right"></td><td id="stats5" class="right"></td></tr></table>
<table><tr><td colspan="6"><h2>觉醒力量</h2></td></tr>
<tr><td><h4>属性：</h4></td><td id="hiddent" colspan="5" class="left"></td></tr>
<tr><td><h4>威力：</h4></td><td id="hiddenp" colspan="5" class="left"></td></tr>
</table>
</td></tr>

<tr><td class="primary" style="vertical-align: middle;">
<table>
<tr><td id="status" colspan="3">检测到自爆！<br/>请打开 JavaScript，若问题持续请报告错误。</td></tr>
</table>
</td>

<td id="controls" class="secondary">
<table>
<tr>
<td><input type="button" class="button" id="btn-evs" value="基础点数开" /></td>
<td><input type="button" class="button" id="btn-theme" value="主题" /></td>
<td><input type="button" class="button" id="btn-save" value="保存" /></td>
<td><input type="button" class="button" id="btn-load" value="读入" /></td>
</tr>
<tr class="ext"><td colspan="2"><input type="button" class="button" id="btn-mode" value="宝可梦" /></td><td colspan="2"><input type="button" class="button" id="btn-eps" value="计算基础点数" /></td></tr>
<tr class="ext"><td colspan="2"><input type="button" class="button" id="btn-hp" value="计算觉醒力量" /></td>
<td colspan="2"><input type="button" class="button" id="btn-stats" value="计算能力" /></td></tr>
<tr><td colspan="4"><input type="button" class="button" id="btn-ivs" value="计算个体值" /></td></tr>
</table>
</td></tr>
</table></form></div><!-- end gui -->

<div id="documentation" class="block">
<table><tr><td class="primary">
<h2 id="toggleinfo">程序信息 &#177;</h2>
<div id="info">
<h3>兼容性：</h3>
<p><em>Nintendo 3DS</em> 平台的精灵宝可梦 太阳／月亮／究极之日／究极之月。</p>
<p>由于<strong>精灵宝可梦 太阳／月亮</strong>中一些宝可梦的种族值有变化，这个计算器并不适合之前的游戏，可以使用 <a href="https://mudkip.me/ivcalc/ivcalcxy.html">XY 个体值与能力计算器</a> 或 <a href="https://mudkip.me/ivcalc/javacalc.html">适合第五世代及之前版本的个体值计算器</a>。</p>

<h3>如何下载计算器</h3>
<p id="download">在浏览器窗口菜单中选择 <strong>文件 -&gt; 另存为...</strong> 将网页保存到您的计算机中（请务必选择<strong>“网页，仅 HTML”</strong>方式保存）。该程序在脱机状态下仍然可用。</p>

<h3>开发者信息</h3>
<p>本工具和中文翻译在 <a href="https://github.com/mudkipme/ivcalc/graphs/contributors">GitHub</a> 上协作维护。最初为 <a href="https://legendarypkmn.net" id="lp">LegendaryPKMN</a> 开发。</p>

<h2 id="togglehistory">更新记录 &#177;</h2>
<p id="version"><span class="loading">正在检查最新版…</span></p>
<dl>
  <dt>V20171203（2017-12-03）</dt>
    <dd>修复基格尔德形态的种族值数据。</dd>
</dl>
<dl id="history">
  <dt>V20171121（2017-11-21）</dt>
    <dd>更新究极之日／究极之月数据，修复部分错误。</dd>
  <dt>V1+/ja（2017-11-09）</dt>
    <dd>增加究极之日／究极之月数据。</dd>
  <dt>V1（2016-11-19）</dt>
    <dd>从 <a href="https://mudkipme/ivcalc/ivcalcxy.html">XY 个体值与能力计算器</a> 建立新分支，适用于精灵宝可梦 太阳／月亮。</dd>
</dl>

<h2>许可协议</h2>
<p>如果您希望翻译，修改或将该程序嵌入您的网站，请阅读下面的许可协议。本程序的开发者希望您作出改进或翻译时可以收到通知。</p>
<p>本作品基于 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh">创作共用协议</a>，<strong>禁止</strong>修改本作品的署名信息。</p>
<dl>
<dt>您可以自由：</dt>
<dd><strong>分享</strong> — 复制、发行或通过信息网络传播本作品</dd>
<dd><strong>演绎</strong> — 再创作本作品</dd>

<dt>唯须遵守下列条件：</dt>
<dd><strong>署名</strong> — 您必须按照作者或者许可人指定的方式对作品进行署名。</dd>
<dd><strong>非商业性使用</strong> — 您不得将本作品用于商业目的。</dd>
<dd><strong>相同方式共享</strong> — 如果您改变、转换本作品或者以本作品为基础进行创作，您只能采用与本协议相同的许可协议发布基于本作品的演绎作品。</dd>
</dl>
<h2>免责声明</h2>
<p>精灵宝可梦版权属于 &copy; Nintendo, Creatures, Game Freak 与 Pokémon Inc. 所有。本程序为非官方、玩家自制作品，与上述公司无关。</p>
</div>

</td>
<td class="secondary">
<h2 id="toggleinstructions">帮助说明 &#177;</h2>
<div id="instructions">
  <h3>关于</h3>
    <p>本计算器可以根据宝可梦的详细信息计算宝可梦的个体值，也可以计算不同等级下的能力、推断觉醒力量的属性和威力。</p>
    <p><a href="https://wiki.52poke.com/">神奇宝贝百科</a>之中有<a href="https://wiki.52poke.com/wiki/%E4%B8%AA%E4%BD%93%E5%80%BC">个体值</a>、<a href="https://wiki.52poke.com/wiki/%E5%9F%BA%E7%A1%80%E7%82%B9%E6%95%B0">基础点数</a>等内容的详细解释。</p>
    <p>示例：<a href="javascript:code_load('?sc=0,0,1,2,!31,31,4,30,24,8,100!806,60,152,158,71,204,114,151,0,0,0,0,0,0,9,-1,-1,-1,,-1')">砰头小丑</a>、<a href="javascript:code_load('?sc=0,0,1,2,!14,31,31,31,7,22,100!800.1,65,210,206,190,172,151,130,0,0,0,0,0,0,9,-1,-1,-1,,-1')">日食奈克洛兹玛</a></p>
  <h3>用户界面</h3>
    <dl>
      <dt>保存</dt><dd>生成保存代码和链接，可以保存到收藏夹或发给朋友。</dd>
      <dt>读入</dt><dd>单击读入保存在地址栏中的数据，双击可以读入保存代码。</dd>
    </dl>
  <h3>个体值计算 <span class="ext btn" onclick="toggle_simple();">（简洁模式？）</span></h3>
    <p>* 星号标记的为可选项。</p>
    <p class="center ok">注意一定要记录基础点数！</p>
    <p>当宝可梦的基础点数填写错误时，计算器会返回错误的结果！可以使用<em>降低基础点数</em>树果清除基础点数。</p>
    <p>宝可梦寄放系统的<em>评定功能</em>可以提示宝可梦的潜力和个体值最高的能力以及个体值为0的能力。在宝可梦寄放屋孵化20只蛋后，在对战树和<em>评定员</em>对话即可解锁此功能。</p>
    <p>在计算器中，可以使用 Ctrl/CMD 键选择（取消选择）多项能力。</p>
    <p>使用神奇糖果将宝可梦提升到等级 20，就可以得到 100% 准确的能力，在使用之前记得存档。</p>
    <p><strong>宝可梦模式：</strong> 宝可梦的等级越高，计算出的个体值越准确。如果在较低的等级计算，请尽量多填写可选的内容。<em>+等级</em> 和 <em>+基础点数</em> 是指要计算出更精确的结果所需要的等级或基础点数。不同形态或超级进化的能力也可以帮助计算。</p>
    <div class="ext">
    <p><strong>队伍模式：</strong>可以一次计算多只宝可梦的个体值。</p>
    <p><strong>单行模式：</strong>可以计算和了解当前选中的宝可梦的细节。</p>
  <h3>能力计算</h3>
    <p>使用<em>中间个体值</em>，基础点数来准确计算出特定等级下宝可梦的能力。</p>
  <h3>觉醒力量计算</h3>
    <p>觉醒力量的属性和威力取决于宝可梦的个体值，如果已知属性，可以更容易计算个体值。</p>
    <p><em>觉醒力量判断人</em>可以判断觉醒力量的属性，位于欧哈纳牧场的宝可梦寄放屋中。</p>
    <p>使用个体值分布（或中值）可以得到所有可能的组合。</p>
  <h3>基础点数训练</h3>
    <dl>
      <dt>基础点数追踪</dt><dd>取消选择选中的一行可以进入追踪模式，选择相应的道具、对手的宝可梦和数量来计算得到的基础点数。</dd>
      <dt>基础点数计算</dt><dd>首先计算出宝可梦的能力，然后改变<em>第一行</em>中的能力，然后得出到达特定的能力尚需的基础点数。</dd>
    </dl>
  </div>
</div></td>
</tr>
<tr><td class="primary">
<p class="center">您的反馈非常重要！<br /><a href="https://github.com/mudkipme/ivcalc/issues">请在 Github 提交您的问题或建议。</a></p>
</td>
<td class="secondary">
</td></tr>
</table>
</div><!-- end documentation -->

</div> <!-- end calculator --> <!-- Stop here if you want to include this in your page -->
</body>
</html>
